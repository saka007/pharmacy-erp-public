import h from"./B_BSdajj.js";import j from"./DrrBm_tI.js";import N from"./DgyfLFB-.js";import T from"./DBRuJf76.js";import{T as C,j as I,f as A,c as L,a as t,b as o,w as a,o as M,t as n,X as c,d as p}from"./C75sWQ17.js";import{u as V}from"./CS_gL7I1.js";import{_ as B}from"./DlAUqK2U.js";import"./Bp30Rkwz.js";import"./C6o1UzvO.js";import"./hZldab_6.js";import"./RTEWMrHx.js";import"./Dv5mX8ha.js";import"./Dv734B7a.js";import"./a3IUqZJ6.js";import"./7s5qCgTI.js";import"./Du1f6vVH.js";import"./Kwvy9bwp.js";import"./D-dmaqJg.js";import"./DnWt4iB7.js";import"./GojKZ2PW.js";import"./BEk77WGX.js";import"./M2-fOS9N.js";import"./DYFHDyQ0.js";import"./DLeBtkWy.js";import"./v7U6BRNz.js";import"./BiIHwpDv.js";import"./DyoQBExO.js";import"./CwqodYyw.js";import"./DiRvyYBK.js";import"./CT9-M-Jt.js";import"./Dyb13Abn.js";import"./BImoKj12.js";import"./BQcC7MIq.js";const F={class:"sales-page"},R={class:"grid mb-4"},$={class:"col-12 md:col-3"},k={class:"text-900 font-bold text-xl"},E={class:"col-12 md:col-3"},O={class:"text-900 font-bold text-xl"},P={class:"col-12 md:col-3"},X={class:"text-900 font-bold text-xl"},q={class:"col-12 md:col-3"},z={class:"text-900 font-bold text-xl"},G={__name:"sales",setup(H){const u=C(),{useSales:f}=V(),{sales:x,salesStats:m,isLoading:v,fetchSales:b,fetchSalesStats:g}=f(),_=I(()=>(x.value||[]).sort((r,e)=>new Date(e.saleDate).getTime()-new Date(r.saleDate).getTime()).slice(0,20));A(async()=>{try{await Promise.all([b(),g()])}catch(r){console.error("Failed to load sales data:",r),u.add({severity:"error",summary:"Error",detail:"Failed to load sales data",life:3e3})}});const d=r=>new Intl.NumberFormat("en-IN").format(r),y=r=>new Date(r).toLocaleDateString("en-IN"),S=r=>{switch(r==null?void 0:r.toLowerCase()){case"completed":return"success";case"pending":return"warning";case"cancelled":return"danger";default:return"info"}};return(r,e)=>{const i=h,l=j,w=N,D=T;return M(),L("div",F,[e[9]||(e[9]=t("div",{class:"mb-4"},[t("h1",{class:"text-2xl font-bold text-900 m-0"},"Sales Management"),t("p",{class:"text-600 mt-2 mb-0"},"Manage sales transactions and reports")],-1)),t("div",R,[t("div",$,[o(i,{class:"text-center"},{content:a(()=>{var s;return[e[0]||(e[0]=t("div",{class:"flex align-items-center justify-content-center mb-3"},[t("div",{class:"border-circle w-3rem h-3rem bg-blue-100 flex align-items-center justify-content-center"},[t("i",{class:"pi pi-shopping-cart text-blue-500 text-xl"})])],-1)),e[1]||(e[1]=t("div",{class:"text-500 font-medium mb-2"},"Total Sales",-1)),t("div",k,n(((s=c(m))==null?void 0:s.totalSales)||0),1)]}),_:1})]),t("div",E,[o(i,{class:"text-center"},{content:a(()=>{var s;return[e[2]||(e[2]=t("div",{class:"flex align-items-center justify-content-center mb-3"},[t("div",{class:"border-circle w-3rem h-3rem bg-green-100 flex align-items-center justify-content-center"},[t("i",{class:"pi pi-dollar text-green-500 text-xl"})])],-1)),e[3]||(e[3]=t("div",{class:"text-500 font-medium mb-2"},"Revenue",-1)),t("div",O,"₹"+n(d(((s=c(m))==null?void 0:s.totalRevenue)||0)),1)]}),_:1})]),t("div",P,[o(i,{class:"text-center"},{content:a(()=>{var s;return[e[4]||(e[4]=t("div",{class:"flex align-items-center justify-content-center mb-3"},[t("div",{class:"border-circle w-3rem h-3rem bg-orange-100 flex align-items-center justify-content-center"},[t("i",{class:"pi pi-users text-orange-500 text-xl"})])],-1)),e[5]||(e[5]=t("div",{class:"text-500 font-medium mb-2"},"Customers",-1)),t("div",X,n(((s=c(m))==null?void 0:s.totalCustomers)||0),1)]}),_:1})]),t("div",q,[o(i,{class:"text-center"},{content:a(()=>{var s;return[e[6]||(e[6]=t("div",{class:"flex align-items-center justify-content-center mb-3"},[t("div",{class:"border-circle w-3rem h-3rem bg-purple-100 flex align-items-center justify-content-center"},[t("i",{class:"pi pi-chart-line text-purple-500 text-xl"})])],-1)),e[7]||(e[7]=t("div",{class:"text-500 font-medium mb-2"},"Avg Order",-1)),t("div",z,"₹"+n(d(((s=c(m))==null?void 0:s.averageOrderValue)||0)),1)]}),_:1})])]),o(i,null,{title:a(()=>e[8]||(e[8]=[p("Recent Sales")])),content:a(()=>[o(D,{value:_.value,loading:c(v),responsiveLayout:"scroll",paginator:!0,rows:10},{default:a(()=>[o(l,{field:"invoiceNumber",header:"Invoice",sortable:""}),o(l,{field:"customerName",header:"Customer",sortable:""}),o(l,{field:"totalAmount",header:"Amount",sortable:""},{body:a(({data:s})=>[p(" ₹"+n(d(s.totalAmount)),1)]),_:1}),o(l,{field:"paymentMethod",header:"Payment",sortable:""}),o(l,{field:"saleDate",header:"Date",sortable:""},{body:a(({data:s})=>[p(n(y(s.saleDate)),1)]),_:1}),o(l,{field:"status",header:"Status"},{body:a(({data:s})=>[o(w,{value:s.status,severity:S(s.status)},null,8,["value","severity"])]),_:1})]),_:1},8,["value","loading"])]),_:1})])}}},Nt=B(G,[["__scopeId","data-v-5f37e9ad"]]);export{Nt as default};
