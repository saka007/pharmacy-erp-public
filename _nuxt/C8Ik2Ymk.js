import Ee from"./BxPwzCRT.js";import Ie from"./DwAdkREz.js";import De from"./CagCrEFU.js";import Ne from"./CXK9zG8y.js";import Te from"./09UQmLYI.js";import Re from"./6oqjfP2G.js";import Me from"./D3sxnxYH.js";import Be from"./BhjLKwJF.js";import ze from"./rz56ioJB.js";import He from"./Dgmkxfnb.js";import qe from"./BpzR12YL.js";import Ze from"./CnrAg6u0.js";import Ge from"./BrLryY9u.js";import{j as z,r as p,k as K,T as Ke,a1 as We,f as Xe,n as Je,c as M,a as e,b as a,_ as Qe,w as c,W as Q,V as w,t as u,X as _,U as Ye,o as $,S as B,R as O,M as et,d as Y}from"./B4E7ZWnt.js";import{M as tt}from"./B4q2DkeP.js";import{_ as lt}from"./DlAUqK2U.js";import"./TPlCE-Bg.js";import"./BQx4TB3x.js";import"./DW8g3rna.js";import"./-wg2_ubr.js";import"./G_TuWFjL.js";import"./DstCPa0p.js";import"./DL5MBJTh.js";import"./gxi3oqc8.js";import"./Co5MXcSY.js";import"./BIOG6AuA.js";import"./C7teFEHm.js";import"./lRlpCMFR.js";import"./DhdS97w-.js";import"./CpZQHmiY.js";import"./DJNDGjeP.js";import"./Bga-6pQL.js";import"./BJY_LpcK.js";import"./CyTa7YiO.js";import"./Dsj-KqYa.js";import"./8mk5V7sS.js";const F=new tt,x=p([]),ie=p(null),v=p(!1),g=p(null),st=()=>{const ee=z(()=>x.value.filter(i=>i.isActive)),m=z(()=>x.value.length),j=z(()=>x.value.filter(i=>i.isActive).sort((i,s)=>s.totalValue-i.totalValue).slice(0,5)),E=z(()=>x.value.filter(i=>i.isActive).sort((i,s)=>s.productCount-i.productCount).slice(0,5)),y=async(i={})=>{try{v.value=!0,g.value=null;const s=await F.getAll(i);return x.value=s.data,s}catch(s){throw g.value=s instanceof Error?s.message:"Failed to load categories",s}finally{v.value=!1}},I=async()=>{try{v.value=!0,g.value=null;const i=await F.getStats();return ie.value=i,i}catch(i){throw g.value=i instanceof Error?i.message:"Failed to load category statistics",i}finally{v.value=!1}},W=async i=>{try{return v.value=!0,g.value=null,await F.getById(i)}catch(s){throw g.value=s instanceof Error?s.message:"Failed to load category",s}finally{v.value=!1}},k=async i=>{try{v.value=!0,g.value=null;const s=await F.create(i);return x.value.push(s),s}catch(s){throw g.value=s instanceof Error?s.message:"Failed to create category",s}finally{v.value=!1}},A=async(i,s)=>{try{v.value=!0,g.value=null;const d=await F.update(i,s);if(d){const f=x.value.findIndex(b=>b.id===i);f!==-1&&(x.value[f]=d)}return d}catch(d){throw g.value=d instanceof Error?d.message:"Failed to update category",d}finally{v.value=!1}},X=async i=>{try{v.value=!0,g.value=null;const s=await F.delete(i);if(s){const d=x.value.findIndex(f=>f.id===i);d!==-1&&x.value.splice(d,1)}return s}catch(s){throw g.value=s instanceof Error?s.message:"Failed to delete category",s}finally{v.value=!1}},D=async i=>y({search:i}),H=async(i=5)=>{try{return v.value=!0,g.value=null,j.value.slice(0,i)}catch(s){throw g.value=s instanceof Error?s.message:"Failed to load top categories",s}finally{v.value=!1}},S=i=>{const s=x.value.find(d=>d.id===i);return(s==null?void 0:s.name)||"Unknown Category"},h=i=>{const s=x.value.find(d=>d.id===i);return(s==null?void 0:s.color)||"#6c757d"},L=i=>{const s=x.value.find(d=>d.id===i);return(s==null?void 0:s.icon)||"pi-tag"},N=()=>y(),V=()=>I();return{categories:K(x),categoryStats:K(ie),loading:K(v),error:K(g),activeCategories:ee,totalCategories:m,topCategoriesByValue:j,topCategoriesByProducts:E,loadCategories:y,loadCategoryStats:I,getCategoryById:W,createCategory:k,updateCategory:A,deleteCategory:X,searchCategories:D,getTopCategories:H,getCategoryName:S,getCategoryColor:h,getCategoryIcon:L,refreshCategories:N,refreshStats:V}},ot={class:"min-h-screen bg-gray-50"},at={class:"bg-white border-b border-gray-200 px-6 py-3"},it={class:"flex justify-between items-center"},rt={class:"flex items-center space-x-2"},nt={class:"px-6 py-6"},dt={class:"grid mb-4"},ut={class:"col-6 md:col-3"},ct={class:"text-900 font-bold text-xl"},pt={class:"col-6 md:col-3"},mt={class:"text-900 font-bold text-xl"},vt={class:"col-6 md:col-3"},gt={class:"text-900 font-bold text-xl"},xt={class:"col-6 md:col-3"},ft={class:"text-900 font-bold text-xl"},yt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6"},bt={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-3 lg:space-y-0"},Ct={class:"flex-1 lg:max-w-md"},wt={class:"relative"},ht={class:"flex flex-wrap items-center gap-2"},Vt={class:"flex items-center space-x-1 border-l border-gray-200 pl-2"},_t={key:0,class:"mt-4 pt-4 border-t border-gray-200"},kt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},St={class:"flex items-center space-x-2"},Pt={class:"flex items-center space-x-2"},At={class:"flex items-end"},Lt={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Ut={class:"px-4 py-3 border-b border-gray-200"},$t={class:"flex items-center justify-between"},Ot={class:"text-xs text-gray-500 mt-1"},Ft={class:"flex items-center space-x-1"},jt={class:"flex justify-content-between align-items-center"},Et={class:"flex gap-2"},It={class:"text-center py-12"},Dt={class:"flex items-center space-x-2 py-1"},Nt={class:"flex-1 min-w-0"},Tt={class:"flex items-center space-x-2"},Rt={class:"text-sm font-medium text-gray-900 truncate"},Mt={class:"text-xs text-gray-500 truncate"},Bt={class:"text-center py-1"},zt={class:"font-semibold text-sm text-gray-900"},Ht={class:"text-xs text-gray-500"},qt={class:"text-center py-1"},Zt={class:"font-semibold text-sm text-gray-900"},Gt={class:"text-xs text-gray-500"},Kt={class:"flex items-center justify-center py-1"},Wt={class:"flex items-center justify-center space-x-1 py-1"},Xt={class:"text-sm font-medium text-gray-700 min-w-4 text-center"},Jt={class:"flex items-center justify-center space-x-1 py-1"},Qt={class:"flex items-center space-x-3"},Yt={class:"text-lg font-semibold text-gray-900"},el={class:"text-sm text-gray-600"},tl={class:"space-y-6"},ll={class:"bg-gray-50 rounded-lg p-4"},sl={class:"grid grid-cols-1 gap-4"},ol={key:0,class:"p-error"},al={class:"bg-gray-50 rounded-lg p-4"},il={class:"grid grid-cols-2 gap-4"},rl={key:0,class:"flex items-center gap-2"},nl={key:1},dl={class:"flex items-center gap-2"},ul={class:"flex items-center space-x-3"},cl={class:"flex-1"},pl={class:"mt-4 p-3 bg-white rounded-lg border"},ml={class:"flex items-center space-x-3"},vl={class:"font-medium text-gray-900"},gl={class:"text-sm text-gray-500"},xl={class:"bg-gray-50 rounded-lg p-4"},fl={class:"grid grid-cols-2 gap-4"},yl={class:"mt-4"},bl={class:"flex items-center space-x-3"},Cl={class:"flex justify-between items-center"},wl={class:"flex space-x-2"},hl={class:"space-y-4"},Vl={class:"text-center py-8"},_l={class:"flex justify-end space-x-2"},kl={__name:"categories",setup(ee){const m=Ke(),j=We(),{categories:E,categoryStats:y,loading:I,error:W,loadCategories:k,loadCategoryStats:A,createCategory:X,updateCategory:D,deleteCategory:H}=st(),S=p(""),h=p(null),L=p(null),N=p("name"),V=p(!1),i=p(!1),s=p(!1),d=p(null),f=p([]);p("table");const b=p({minProducts:null,maxProducts:null,minValue:null,maxValue:null}),r=p({name:"",description:"",icon:"pi-tag",color:"#6c757d",sortOrder:1,isActive:!0,level:1,productCount:0,totalValue:0}),U=p({name:""}),re=[{label:"All Status",value:null},{label:"Active",value:!0},{label:"Inactive",value:!1}],ne=[{label:"All Levels",value:null},{label:"Level 1",value:1},{label:"Level 2",value:2},{label:"Level 3",value:3}],de=[{label:"Name (A-Z)",value:"name"},{label:"Name (Z-A)",value:"name_desc"},{label:"Products (High-Low)",value:"products_desc"},{label:"Products (Low-High)",value:"products"},{label:"Value (High-Low)",value:"value_desc"},{label:"Value (Low-High)",value:"value"},{label:"Recently Created",value:"created_desc"},{label:"Recently Updated",value:"updated_desc"}],te=[{label:"Tag",value:"pi-tag"},{label:"Heart",value:"pi-heart"},{label:"Shield",value:"pi-shield"},{label:"Sun",value:"pi-sun"},{label:"Cloud",value:"pi-cloud"},{label:"Chart Line",value:"pi-chart-line"},{label:"Heart Fill",value:"pi-heart-fill"},{label:"Circle",value:"pi-circle"},{label:"Palette",value:"pi-palette"},{label:"Venus",value:"pi-venus"},{label:"Star",value:"pi-star"},{label:"Cog",value:"pi-cog"},{label:"Plus",value:"pi-plus"},{label:"Box",value:"pi-box"},{label:"Medical",value:"pi-plus-circle"}];z(()=>{let o=[...E.value];return h.value!==null&&(o=o.filter(t=>t.isActive===h.value)),o});const ue=o=>new Intl.NumberFormat("en-IN").format(o),ce=o=>{const t=te.find(n=>n.value===o);return(t==null?void 0:t.label)||"Tag"},pe=o=>{var n;const t=((n=y.value)==null?void 0:n.totalProducts)||1;return Math.round(o/t*100)},me=o=>{var n;const t=((n=y.value)==null?void 0:n.totalValue)||1;return Math.round(o/t*100)},ve=()=>{q()},ge=()=>{q(),s.value=!1},le=p(),xe=()=>{le.value.exportCSV(),m.add({severity:"success",summary:"Export Complete",detail:"Categories exported to CSV successfully",life:3e3})},fe=()=>{window.print(),m.add({severity:"info",summary:"Print",detail:"Print dialog opened",life:3e3})},ye=()=>{f.value.length!==0&&j.require({message:`Are you sure you want to delete ${f.value.length} selected categories?`,header:"Delete Selected Categories",icon:"pi pi-exclamation-triangle",acceptClass:"p-button-danger",accept:async()=>{try{for(const o of f.value)await H(o.id);f.value=[],m.add({severity:"success",summary:"Success",detail:"Selected categories deleted successfully",life:3e3}),await A()}catch{m.add({severity:"error",summary:"Error",detail:"Failed to delete selected categories",life:5e3})}}})},be=o=>{r.value={name:`${o.name} (Copy)`,description:o.description||"",icon:o.icon||"pi-tag",color:o.color||"#6c757d",sortOrder:o.sortOrder+1,isActive:!0,level:o.level,productCount:0,totalValue:0},V.value=!0},Ce=async o=>{if(!(o.sortOrder<=1))try{await D(o.id,{sortOrder:o.sortOrder-1}),await k(),m.add({severity:"success",summary:"Success",detail:"Category moved up",life:3e3})}catch{m.add({severity:"error",summary:"Error",detail:"Failed to move category",life:5e3})}},we=async o=>{try{await D(o.id,{sortOrder:o.sortOrder+1}),await k(),m.add({severity:"success",summary:"Success",detail:"Category moved down",life:3e3})}catch{m.add({severity:"error",summary:"Error",detail:"Failed to move category",life:5e3})}},he=async()=>{S.value.trim()?await searchCategories(S.value):await k()},q=async()=>{await k({search:S.value||void 0,isActive:h.value!==null?h.value:void 0,level:L.value||void 0})},Ve=async()=>{S.value="",h.value=null,L.value=null,N.value="name",s.value=!1,b.value={minProducts:null,maxProducts:null,minValue:null,maxValue:null},f.value=[],await k()},_e=o=>{d.value=o,r.value={name:o.name,description:o.description||"",icon:o.icon||"pi-tag",color:o.color||"#6c757d",sortOrder:o.sortOrder,isActive:o.isActive,level:o.level,productCount:o.productCount,totalValue:o.totalValue},V.value=!0},ke=()=>(U.value={name:""},r.value.name.trim()?!0:(U.value.name="Category name is required",!1)),Se=async()=>{if(ke())try{d.value?(await D(d.value.id,r.value),m.add({severity:"success",summary:"Success",detail:"Category updated successfully",life:3e3})):(await X(r.value),m.add({severity:"success",summary:"Success",detail:"Category created successfully",life:3e3})),se(),await A()}catch(o){m.add({severity:"error",summary:"Error",detail:o instanceof Error?o.message:"Failed to save category",life:5e3})}},se=()=>{V.value=!1,d.value=null,r.value={name:"",description:"",icon:"pi-tag",color:"#6c757d",sortOrder:1,isActive:!0,level:1,productCount:0,totalValue:0},U.value={name:""}},Pe=o=>{j.require({message:`Are you sure you want to delete "${o.name}"? This action cannot be undone.`,header:"Delete Category",icon:"pi pi-exclamation-triangle",acceptClass:"p-button-danger",accept:()=>Ae(o.id)})},Ae=async o=>{try{await H(o),m.add({severity:"success",summary:"Success",detail:"Category deleted successfully",life:3e3}),await A()}catch(t){m.add({severity:"error",summary:"Error",detail:t instanceof Error?t.message:"Failed to delete category",life:5e3})}};return Xe(async()=>{await Promise.all([k(),A()])}),Je(W,o=>{o&&m.add({severity:"error",summary:"Error",detail:o,life:5e3})}),(o,t)=>{var ae;const n=Ee,Z=Ie,J=De,T=Ne,R=Te,P=Re,Le=Me,Ue=Be,$e=ze,Oe=He,Fe=qe,oe=Ze,je=Ge,C=Ye("tooltip");return $(),M("div",ot,[e("div",at,[e("div",it,[t[24]||(t[24]=Qe('<div class="flex items-center space-x-3" data-v-69f12dae><div class="bg-blue-600 p-2 rounded-md" data-v-69f12dae><i class="pi pi-tags text-white text-sm" data-v-69f12dae></i></div><div data-v-69f12dae><h1 class="text-lg font-semibold text-gray-900" data-v-69f12dae>Category Management</h1><p class="text-gray-500 text-xs" data-v-69f12dae>Organize and manage your product categories efficiently</p></div></div>',1)),e("div",rt,[a(n,{label:"Import",icon:"pi pi-upload",class:"p-button-outlined p-button-sm text-xs",onClick:t[0]||(t[0]=l=>i.value=!0),style:{padding:"0.375rem 0.75rem","font-size":"0.75rem"}}),a(n,{label:"Add Category",icon:"pi pi-plus",onClick:t[1]||(t[1]=l=>V.value=!0),class:"p-button-primary p-button-sm text-xs",style:{padding:"0.375rem 0.75rem","font-size":"0.75rem"}})])])]),e("div",nt,[e("div",dt,[e("div",ut,[a(Z,{class:"text-center"},{content:c(()=>{var l;return[t[25]||(t[25]=e("div",{class:"flex align-items-center justify-content-center mb-3"},[e("div",{class:"border-circle w-3rem h-3rem bg-blue-100 flex align-items-center justify-content-center"},[e("i",{class:"pi pi-tags text-blue-500 text-xl"})])],-1)),t[26]||(t[26]=e("div",{class:"text-500 font-medium mb-2"},"Total Categories",-1)),e("div",ct,u(((l=_(y))==null?void 0:l.totalCategories)||12),1)]}),_:1})]),e("div",pt,[a(Z,{class:"text-center"},{content:c(()=>{var l;return[t[27]||(t[27]=e("div",{class:"flex align-items-center justify-content-center mb-3"},[e("div",{class:"border-circle w-3rem h-3rem bg-green-100 flex align-items-center justify-content-center"},[e("i",{class:"pi pi-check-circle text-green-500 text-xl"})])],-1)),t[28]||(t[28]=e("div",{class:"text-500 font-medium mb-2"},"Active Categories",-1)),e("div",mt,u(((l=_(y))==null?void 0:l.activeCategories)||12),1),t[29]||(t[29]=e("div",{class:"text-green-500 text-sm mt-1"}," 100% of categories ",-1))]}),_:1})]),e("div",vt,[a(Z,{class:"text-center"},{content:c(()=>{var l;return[t[30]||(t[30]=e("div",{class:"flex align-items-center justify-content-center mb-3"},[e("div",{class:"border-circle w-3rem h-3rem bg-yellow-100 flex align-items-center justify-content-center"},[e("i",{class:"pi pi-exclamation-triangle text-yellow-500 text-xl"})])],-1)),t[31]||(t[31]=e("div",{class:"text-500 font-medium mb-2"},"Needs Review",-1)),e("div",gt,u(((l=_(y))==null?void 0:l.needsReview)||3),1),t[32]||(t[32]=e("div",{class:"text-yellow-500 text-sm mt-1"}," Categories to update ",-1))]}),_:1})]),e("div",xt,[a(Z,{class:"text-center"},{content:c(()=>{var l;return[t[33]||(t[33]=e("div",{class:"flex align-items-center justify-content-center mb-3"},[e("div",{class:"border-circle w-3rem h-3rem bg-purple-100 flex align-items-center justify-content-center"},[e("i",{class:"pi pi-box text-purple-500 text-xl"})])],-1)),t[34]||(t[34]=e("div",{class:"text-500 font-medium mb-2"},"Total Products",-1)),e("div",ft,u(((l=_(y))==null?void 0:l.totalProducts)||180),1),t[35]||(t[35]=e("div",{class:"text-purple-500 text-sm mt-1"}," Across all categories ",-1))]}),_:1})])]),e("div",yt,[e("div",bt,[e("div",Ct,[e("div",wt,[t[36]||(t[36]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("i",{class:"pi pi-search text-gray-400 text-sm"})],-1)),a(J,{modelValue:S.value,"onUpdate:modelValue":t[2]||(t[2]=l=>S.value=l),placeholder:"Search categories...",class:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onInput:he},null,8,["modelValue"])])]),e("div",ht,[a(T,{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=l=>h.value=l),options:re,optionLabel:"label",optionValue:"value",placeholder:"Status",class:"w-28",onChange:q},null,8,["modelValue"]),a(T,{modelValue:L.value,"onUpdate:modelValue":t[4]||(t[4]=l=>L.value=l),options:ne,optionLabel:"label",optionValue:"value",placeholder:"Level",class:"w-24",onChange:q},null,8,["modelValue"]),a(T,{modelValue:N.value,"onUpdate:modelValue":t[5]||(t[5]=l=>N.value=l),options:de,optionLabel:"label",optionValue:"value",placeholder:"Sort",class:"w-32",onChange:ve},null,8,["modelValue"]),e("div",Vt,[w(a(n,{icon:"pi pi-refresh",class:"p-button-outlined p-button-sm",onClick:Ve},null,512),[[C,"Reset",void 0,{top:!0}]]),w(a(n,{icon:"pi pi-filter",class:"p-button-outlined p-button-sm",onClick:t[6]||(t[6]=l=>s.value=!s.value)},null,512),[[C,"Filters",void 0,{top:!0}]])])])]),s.value?($(),M("div",_t,[e("div",kt,[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Product Count Range",-1)),e("div",St,[a(R,{modelValue:b.value.minProducts,"onUpdate:modelValue":t[7]||(t[7]=l=>b.value.minProducts=l),placeholder:"Min",class:"w-full",min:0},null,8,["modelValue"]),t[37]||(t[37]=e("span",{class:"text-gray-500"},"to",-1)),a(R,{modelValue:b.value.maxProducts,"onUpdate:modelValue":t[8]||(t[8]=l=>b.value.maxProducts=l),placeholder:"Max",class:"w-full",min:0},null,8,["modelValue"])])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Value Range (₹)",-1)),e("div",Pt,[a(R,{modelValue:b.value.minValue,"onUpdate:modelValue":t[9]||(t[9]=l=>b.value.minValue=l),placeholder:"Min Value",class:"w-full",min:0},null,8,["modelValue"]),t[39]||(t[39]=e("span",{class:"text-gray-500"},"to",-1)),a(R,{modelValue:b.value.maxValue,"onUpdate:modelValue":t[10]||(t[10]=l=>b.value.maxValue=l),placeholder:"Max Value",class:"w-full",min:0},null,8,["modelValue"])])]),e("div",At,[a(n,{label:"Apply Filters",icon:"pi pi-check",class:"p-button-primary p-button-sm w-full",onClick:ge})])])])):Q("",!0)]),e("div",Lt,[e("div",Ut,[e("div",$t,[e("div",null,[t[41]||(t[41]=e("h3",{class:"text-base font-semibold text-gray-900"},"Categories",-1)),e("p",Ot,u(_(E).length)+" of "+u(((ae=_(y))==null?void 0:ae.totalCategories)||0)+" categories ",1)]),e("div",Ft,[w(a(n,{icon:"pi pi-trash",class:"p-button-outlined p-button-sm p-button-danger",onClick:ye,disabled:!f.value.length},null,8,["disabled"]),[[C,"Delete",void 0,{top:!0}]])])])]),a(Ue,{ref_key:"dt",ref:le,selection:f.value,"onUpdate:selection":t[12]||(t[12]=l=>f.value=l),value:_(E),loading:_(I),paginator:!0,rows:15,rowsPerPageOptions:[10,15,25,50],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",responsiveLayout:"scroll",class:"border-0",dataKey:"id",rowHover:!0,stripedRows:"",rowClass:()=>"p-0"},{header:c(()=>[e("div",jt,[t[42]||(t[42]=e("h3",{class:"m-0"},"Categories",-1)),e("div",Et,[w(a(n,{icon:"pi pi-file-excel",class:"p-button-success p-button-sm",onClick:xe},null,512),[[C,"Export CSV",void 0,{top:!0}]]),w(a(n,{icon:"pi pi-print",class:"p-button-outlined p-button-sm",onClick:fe},null,512),[[C,"Print",void 0,{top:!0}]])])])]),empty:c(()=>[e("div",It,[t[43]||(t[43]=e("div",{class:"bg-gray-50 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"},[e("i",{class:"pi pi-tags text-3xl text-gray-400"})],-1)),t[44]||(t[44]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No categories found",-1)),t[45]||(t[45]=e("p",{class:"text-gray-500 mb-4"},"Get started by creating your first category",-1)),a(n,{label:"Add Category",icon:"pi pi-plus",class:"p-button-primary",onClick:t[11]||(t[11]=l=>V.value=!0)})])]),default:c(()=>[a(P,{selectionMode:"multiple",headerStyle:"width: 3rem"}),a(P,{field:"name",header:"Category",sortable:""},{body:c(({data:l})=>[e("div",Dt,[e("div",{class:"w-4 h-8 rounded-sm",style:B({backgroundColor:l.color})},null,4),e("div",{class:"w-6 h-6 rounded-md flex items-center justify-center text-white text-xs",style:B({backgroundColor:l.color})},[e("i",{class:O(l.icon)},null,2)],4),e("div",Nt,[e("div",Tt,[e("span",Rt,u(l.name),1),l.level>1?($(),et(Le,{key:0,value:`L${l.level}`,class:"p-badge-secondary",size:"small"},null,8,["value"])):Q("",!0)]),e("p",Mt,u(l.description||"No description"),1)])])]),_:1}),a(P,{field:"productCount",header:"Products",sortable:"",class:"text-center",style:{width:"100px"}},{body:c(({data:l})=>[e("div",Bt,[e("div",zt,u(l.productCount),1),e("div",Ht,u(pe(l.productCount))+"% ",1)])]),_:1}),a(P,{field:"totalValue",header:"Value",sortable:"",class:"text-center",style:{width:"120px"}},{body:c(({data:l})=>[e("div",qt,[e("div",Zt,"₹"+u(ue(l.totalValue)),1),e("div",Gt,u(me(l.totalValue))+"% ",1)])]),_:1}),a(P,{field:"isActive",header:"Status",sortable:"",class:"text-center",style:{width:"80px"}},{body:c(({data:l})=>[e("div",Kt,[e("span",{class:O(["px-2 py-1 rounded-full text-xs font-medium",l.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},u(l.isActive?"Active":"Inactive"),3)])]),_:1}),a(P,{field:"sortOrder",header:"Order",sortable:"",class:"text-center",style:{width:"80px"}},{body:c(({data:l})=>[e("div",Wt,[w(a(n,{icon:"pi pi-arrow-up",class:"p-button-text p-button-sm p-0",onClick:G=>Ce(l),disabled:l.sortOrder===1,style:{width:"20px",height:"20px"}},null,8,["onClick","disabled"]),[[C,"Up",void 0,{top:!0}]]),e("span",Xt,u(l.sortOrder),1),w(a(n,{icon:"pi pi-arrow-down",class:"p-button-text p-button-sm p-0",onClick:G=>we(l),style:{width:"20px",height:"20px"}},null,8,["onClick"]),[[C,"Down",void 0,{top:!0}]])])]),_:1}),a(P,{header:"Actions",exportable:!1,class:"text-center",style:{width:"100px"}},{body:c(({data:l})=>[e("div",Jt,[w(a(n,{icon:"pi pi-pencil",class:"p-button-rounded p-button-text p-button-sm p-0",onClick:G=>_e(l),style:{width:"24px",height:"24px"}},null,8,["onClick"]),[[C,"Edit",void 0,{top:!0}]]),w(a(n,{icon:"pi pi-copy",class:"p-button-rounded p-button-text p-button-sm p-0",onClick:G=>be(l),style:{width:"24px",height:"24px"}},null,8,["onClick"]),[[C,"Copy",void 0,{top:!0}]]),w(a(n,{icon:"pi pi-trash",class:"p-button-rounded p-button-text p-button-sm p-button-danger p-0",onClick:G=>Pe(l),style:{width:"24px",height:"24px"}},null,8,["onClick"]),[[C,"Delete",void 0,{top:!0}]])])]),_:1})]),_:1},8,["selection","value","loading"])])]),a(oe,{visible:V.value,"onUpdate:visible":t[21]||(t[21]=l=>V.value=l),modal:!0,closable:!0,style:{width:"600px"},class:"p-dialog-maximized-responsive"},{header:c(()=>[e("div",Qt,[t[46]||(t[46]=e("div",{class:"bg-blue-600 p-2 rounded-lg"},[e("i",{class:"pi pi-tags text-white"})],-1)),e("div",null,[e("h3",Yt,u(d.value?"Edit Category":"Add New Category"),1),e("p",el,u(d.value?"Update category information":"Create a new product category"),1)])])]),footer:c(()=>[e("div",Cl,[t[61]||(t[61]=e("div",{class:"text-sm text-gray-500"}," * Required fields ",-1)),e("div",wl,[a(n,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:se}),a(n,{label:d.value?"Update Category":"Create Category",icon:d.value?"pi pi-check":"pi pi-plus",class:"p-button-primary",onClick:Se,loading:_(I)},null,8,["label","icon","loading"])])])]),default:c(()=>[e("div",tl,[e("div",ll,[t[50]||(t[50]=e("h4",{class:"text-sm font-semibold text-gray-900 mb-4 flex items-center"},[e("i",{class:"pi pi-info-circle mr-2"}),Y(" Basic Information ")],-1)),e("div",sl,[e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Category Name * ",-1)),a(J,{modelValue:r.value.name,"onUpdate:modelValue":t[13]||(t[13]=l=>r.value.name=l),placeholder:"Enter category name (e.g., Pain Relief, Antibiotics)",class:O(["w-full",{"p-invalid":U.value.name}])},null,8,["modelValue","class"]),U.value.name?($(),M("small",ol,u(U.value.name),1)):Q("",!0)]),e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Description ",-1)),a($e,{modelValue:r.value.description,"onUpdate:modelValue":t[14]||(t[14]=l=>r.value.description=l),placeholder:"Enter a detailed description of this category...",class:"w-full",rows:"3"},null,8,["modelValue"]),t[49]||(t[49]=e("small",{class:"text-gray-500"}," Provide a clear description to help users understand this category ",-1))])])]),e("div",al,[t[54]||(t[54]=e("h4",{class:"text-sm font-semibold text-gray-900 mb-4 flex items-center"},[e("i",{class:"pi pi-palette mr-2"}),Y(" Visual Settings ")],-1)),e("div",il,[e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Icon",-1)),a(T,{modelValue:r.value.icon,"onUpdate:modelValue":t[15]||(t[15]=l=>r.value.icon=l),options:te,optionLabel:"label",optionValue:"value",placeholder:"Select an icon",class:"w-full"},{value:c(({value:l})=>[l?($(),M("div",rl,[e("div",{class:"w-6 h-6 rounded flex items-center justify-center text-white text-sm",style:B({backgroundColor:r.value.color})},[e("i",{class:O(l)},null,2)],4),e("span",null,u(ce(l)),1)])):($(),M("span",nl,"Select icon"))]),option:c(({option:l})=>[e("div",dl,[e("div",{class:"w-6 h-6 rounded flex items-center justify-center text-white text-sm",style:B({backgroundColor:r.value.color})},[e("i",{class:O(l.value)},null,2)],4),e("span",null,u(l.label),1)])]),_:1},8,["modelValue"])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Color",-1)),e("div",ul,[a(Oe,{modelValue:r.value.color,"onUpdate:modelValue":t[16]||(t[16]=l=>r.value.color=l)},null,8,["modelValue"]),e("div",cl,[a(J,{modelValue:r.value.color,"onUpdate:modelValue":t[17]||(t[17]=l=>r.value.color=l),placeholder:"#6c757d",class:"w-full"},null,8,["modelValue"])])])])]),e("div",pl,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Preview",-1)),e("div",ml,[e("div",{class:"w-10 h-10 rounded-lg flex items-center justify-center text-white shadow-sm",style:B({backgroundColor:r.value.color})},[e("i",{class:O([r.value.icon,"text-lg"])},null,2)],4),e("div",null,[e("div",vl,u(r.value.name||"Category Name"),1),e("div",gl,u(r.value.description||"Category description"),1)])])])]),e("div",xl,[t[60]||(t[60]=e("h4",{class:"text-sm font-semibold text-gray-900 mb-4 flex items-center"},[e("i",{class:"pi pi-cog mr-2"}),Y(" Organization Settings ")],-1)),e("div",fl,[e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sort Order",-1)),a(R,{modelValue:r.value.sortOrder,"onUpdate:modelValue":t[18]||(t[18]=l=>r.value.sortOrder=l),min:1,max:100,class:"w-full",placeholder:"1"},null,8,["modelValue"]),t[56]||(t[56]=e("small",{class:"text-gray-500"},"Lower numbers appear first",-1))]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category Level",-1)),a(T,{modelValue:r.value.level,"onUpdate:modelValue":t[19]||(t[19]=l=>r.value.level=l),options:[{label:"Level 1 (Main Category)",value:1},{label:"Level 2 (Sub Category)",value:2},{label:"Level 3 (Sub Sub Category)",value:3}],optionLabel:"label",optionValue:"value",placeholder:"Select level",class:"w-full"},null,8,["modelValue"])])]),e("div",yl,[e("div",bl,[a(Fe,{modelValue:r.value.isActive,"onUpdate:modelValue":t[20]||(t[20]=l=>r.value.isActive=l),inputId:"isActive",binary:!0},null,8,["modelValue"]),t[58]||(t[58]=e("label",{for:"isActive",class:"text-sm font-medium text-gray-700"}," Active Category ",-1))]),t[59]||(t[59]=e("small",{class:"text-gray-500 ml-6"}," Only active categories will be available for product assignment ",-1))])])])]),_:1},8,["visible"]),a(oe,{visible:i.value,"onUpdate:visible":t[23]||(t[23]=l=>i.value=l),header:"Import Categories",modal:!0,closable:!0,style:{width:"500px"}},{footer:c(()=>[e("div",_l,[a(n,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:t[22]||(t[22]=l=>i.value=!1)}),a(n,{label:"Import",icon:"pi pi-check",class:"p-button-primary",disabled:""})])]),default:c(()=>[e("div",hl,[e("div",Vl,[t[62]||(t[62]=e("i",{class:"pi pi-upload text-4xl text-gray-300 mb-4"},null,-1)),t[63]||(t[63]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Import Categories",-1)),t[64]||(t[64]=e("p",{class:"text-gray-500 mb-4"},"Upload a CSV file to import multiple categories",-1)),a(n,{label:"Choose File",icon:"pi pi-upload",class:"p-button-outlined"})])])]),_:1},8,["visible"]),a(je)])}}},ns=lt(kl,[["__scopeId","data-v-69f12dae"]]);export{ns as default};
