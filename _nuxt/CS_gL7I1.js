import{r as h,l as P,j as i}from"./C75sWQ17.js";const j=()=>{const A=h(!1),k=h(null),B=P.getProductService(),f=P.getSalesService(),S=P.getInventoryService(),p=P.getSettingsService(),I=P.getPurchaseService(),m=P.getAutoOrderService(),c=u=>{A.value=u},b=u=>{k.value=u},s=u=>{console.error("Service error:",u),b(u.message||"An error occurred"),c(!1)},a=()=>{b(null),c(!1)},C=()=>{const u=h([]),y=h(null),v=async l=>{try{c(!0);const e=await B.search(l||{});return u.value=e.data,a(),e}catch(e){throw s(e),e}},g=async l=>{try{c(!0);const e=await B.getById(l);return y.value=e,a(),e}catch(e){throw s(e),e}},d=async l=>{try{c(!0);const e=await B.search({query:l});return u.value=e.data,a(),e}catch(e){throw s(e),e}},w=async l=>{try{c(!0);const e=await B.getByBarcode(l);return a(),e}catch(e){throw s(e),e}};return{products:i(()=>u.value),product:i(()=>y.value),fetchProducts:v,fetchProduct:g,searchProducts:d,getProductByBarcode:w}},V=()=>{const u=h([]),y=h(null),v=h([]),g=async o=>{try{c(!0);const t=await f.search(o||{});return u.value=t.data,a(),t}catch(t){throw s(t),t}},d=async o=>{try{c(!0);const t=await f.getById(o);return y.value=t,a(),t}catch(t){throw s(t),t}},w=async o=>{try{c(!0);const t=await f.create(o);return a(),t}catch(t){throw s(t),t}},l=async()=>{try{c(!0);const o=await f.getTodaySales();return u.value=o,a(),o}catch(o){throw s(o),o}},e=async(o,t)=>{try{c(!0);const r=await f.getSalesStats(o,t);return a(),r}catch(r){throw s(r),r}},n=async()=>{try{c(!0);const o=await f.getCustomers();return v.value=o,a(),o}catch(o){throw s(o),o}};return{sales:i(()=>u.value),sale:i(()=>y.value),customers:i(()=>v.value),fetchSales:g,fetchSale:d,createSale:w,getTodaySales:l,getSalesStats:e,fetchCustomers:n}},L=()=>{const u=h([]),y=h([]),v=h([]),g=async n=>{try{c(!0);const o=await S.search(n||{});return u.value=o.data,a(),o}catch(o){throw s(o),o}},d=async()=>{try{c(!0);const n=await S.getStockAlerts();return y.value=n,a(),n}catch(n){throw s(n),n}},w=async()=>{try{c(!0);const n=await S.getBatches();return v.value=n,a(),n}catch(n){throw s(n),n}},l=async(n,o)=>{try{c(!0);const t=await S.updateStock(n,o);return a(),t}catch(t){throw s(t),t}},e=async()=>{try{c(!0);const n=await S.getInventoryStats();return a(),n}catch(n){throw s(n),n}};return{inventoryItems:i(()=>u.value),stockAlerts:i(()=>y.value),batches:i(()=>v.value),fetchInventory:g,fetchStockAlerts:d,fetchBatches:w,updateStock:l,getInventoryStats:e,getByBarcode:S.getByBarcode.bind(S)}},z=()=>{const u=h(null),y=h(null),v=h(null),g=h(null),d=h(null),w=async()=>{try{c(!0);const r=await p.getSettings();return u.value=r,a(),r}catch(r){throw s(r),r}},l=async r=>{try{c(!0);const O=await p.updateSettings(r);return u.value=O,a(),O}catch(O){throw s(O),O}},e=async()=>{try{c(!0);const r=await p.getBackupSettings();return y.value=r,a(),r}catch(r){throw s(r),r}},n=async()=>{try{c(!0);const r=await p.getReceiptSettings();return v.value=r,a(),r}catch(r){throw s(r),r}},o=async()=>{try{c(!0);const r=await p.getBarcodeSettings();return g.value=r,a(),r}catch(r){throw s(r),r}},t=async()=>{try{c(!0);const r=await p.getShopSettings();return d.value=r,a(),r}catch(r){throw s(r),r}};return{settings:i(()=>u.value),backupSettings:i(()=>y.value),receiptSettings:i(()=>v.value),barcodeSettings:i(()=>g.value),shopSettings:i(()=>d.value),fetchSettings:w,updateSettings:l,fetchBackupSettings:e,fetchReceiptSettings:n,fetchBarcodeSettings:o,fetchShopSettings:t}},E=()=>{const u=h([]),y=h([]),v=async l=>{try{c(!0);const e=await I.search(l||{});return u.value=e.data,a(),e}catch(e){throw s(e),e}},g=async()=>{try{c(!0);const l=await I.getVendors();return y.value=l,a(),l}catch(l){throw s(l),l}},d=async l=>{try{c(!0);const e=await I.create(l);return a(),e}catch(e){throw s(e),e}},w=async(l,e)=>{try{c(!0);const n=await I.getPurchaseStats(l,e);return a(),n}catch(n){throw s(n),n}};return{purchaseOrders:i(()=>u.value),vendors:i(()=>y.value),fetchPurchaseOrders:v,fetchVendors:g,createPurchaseOrder:d,getPurchaseStats:w}},R=()=>{const u=h([]),y=h([]),v=h(null),g=h(null),d=async()=>{try{c(!0);const t=await m.getAutoOrderItems();return u.value=t,a(),t}catch(t){throw s(t),t}},w=async()=>{try{c(!0);const t=await m.getVendorPerformance();return y.value=t,a(),t}catch(t){throw s(t),t}},l=async()=>{try{c(!0);const t=await m.getConfig();return v.value=t,a(),t}catch(t){throw s(t),t}},e=async()=>{try{c(!0);const t=await m.getAutoOrderStats();return g.value=t,a(),t}catch(t){throw s(t),t}},n=async()=>{try{c(!0);const t=await m.runOptimization();return a(),t}catch(t){throw s(t),t}},o=async()=>{try{c(!0);const t=await m.generatePurchaseOrders();return a(),t}catch(t){throw s(t),t}};return{autoOrderItems:i(()=>u.value),vendorPerformance:i(()=>y.value),config:i(()=>v.value),stats:i(()=>g.value),fetchAutoOrderItems:d,fetchVendorPerformance:w,fetchConfig:l,getAutoOrderStats:e,runOptimization:n,generatePurchaseOrders:o}};return{isLoading:i(()=>A.value),error:i(()=>k.value),useProducts:C,useSales:V,useInventory:L,useSettings:z,usePurchase:E,useAutoOrder:R}};export{j as u};
