var p=Object.defineProperty;var v=(n,e,t)=>e in n?p(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var u=(n,e,t)=>v(n,typeof e!="symbol"?e+"":e,t);const g=[{id:"cat_001",name:"Pain Relief",description:"Medications for pain management and relief",parentId:void 0,level:1,isActive:!0,sortOrder:1,productCount:15,totalValue:45600,icon:"pi-heart",color:"#e74c3c",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_002",name:"Antibiotics",description:"Prescription antibiotics and antimicrobial medications",parentId:void 0,level:1,isActive:!0,sortOrder:2,productCount:12,totalValue:38400,icon:"pi-shield",color:"#3498db",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_003",name:"Vitamins & Supplements",description:"Nutritional supplements and vitamin preparations",parentId:void 0,level:1,isActive:!0,sortOrder:3,productCount:25,totalValue:52800,icon:"pi-sun",color:"#f39c12",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_004",name:"Allergy & Cold",description:"Medications for allergies, cold, and respiratory issues",parentId:void 0,level:1,isActive:!0,sortOrder:4,productCount:18,totalValue:34200,icon:"pi-cloud",color:"#9b59b6",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_005",name:"Diabetes Care",description:"Diabetes management and blood sugar control",parentId:void 0,level:1,isActive:!0,sortOrder:5,productCount:8,totalValue:28900,icon:"pi-heart-fill",color:"#e67e22",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_006",name:"Digestive Health",description:"Medications for digestive and gastrointestinal issues",parentId:void 0,level:1,isActive:!0,sortOrder:6,productCount:14,totalValue:31500,icon:"pi-circle",color:"#27ae60",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_007",name:"Skin Care",description:"Topical medications and skin care products",parentId:void 0,level:1,isActive:!0,sortOrder:7,productCount:22,totalValue:41800,icon:"pi-star",color:"#f1c40f",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_008",name:"Eye & Ear Care",description:"Ophthalmic and otic medications",parentId:void 0,level:1,isActive:!0,sortOrder:8,productCount:9,totalValue:19600,icon:"pi-eye",color:"#34495e",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_009",name:"Oral Pain Relief",description:"Tablets and capsules for pain relief",parentId:"cat_001",level:2,isActive:!0,sortOrder:1,productCount:8,totalValue:24e3,icon:"pi-tablet",color:"#e74c3c",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_010",name:"Topical Pain Relief",description:"Creams, gels, and sprays for external pain relief",parentId:"cat_001",level:2,isActive:!0,sortOrder:2,productCount:7,totalValue:21600,icon:"pi-palette",color:"#e74c3c",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_011",name:"Penicillins",description:"Penicillin-based antibiotics",parentId:"cat_002",level:2,isActive:!0,sortOrder:1,productCount:5,totalValue:15200,icon:"pi-shield",color:"#3498db",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_012",name:"Cephalosporins",description:"Cephalosporin antibiotics",parentId:"cat_002",level:2,isActive:!0,sortOrder:2,productCount:4,totalValue:12800,icon:"pi-shield",color:"#3498db",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_013",name:"Macrolides",description:"Macrolide antibiotics",parentId:"cat_002",level:2,isActive:!0,sortOrder:3,productCount:3,totalValue:10400,icon:"pi-shield",color:"#3498db",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_014",name:"Multivitamins",description:"Complete vitamin and mineral supplements",parentId:"cat_003",level:2,isActive:!0,sortOrder:1,productCount:12,totalValue:28800,icon:"pi-sun",color:"#f39c12",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_015",name:"Single Vitamins",description:"Individual vitamin supplements",parentId:"cat_003",level:2,isActive:!0,sortOrder:2,productCount:8,totalValue:16e3,icon:"pi-sun",color:"#f39c12",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"},{id:"cat_016",name:"Minerals",description:"Mineral supplements",parentId:"cat_003",level:2,isActive:!0,sortOrder:3,productCount:5,totalValue:8e3,icon:"pi-sun",color:"#f39c12",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-06-22T10:00:00Z"}];class h{constructor(){u(this,"categories",[...g])}delay(e=500){return new Promise(t=>setTimeout(t,e))}async getAll(e={}){await this.delay();let t=[...this.categories];if(e.search){const i=e.search.toLowerCase();t=t.filter(o=>{var l;return o.name.toLowerCase().includes(i)||((l=o.description)==null?void 0:l.toLowerCase().includes(i))})}e.parentId!==void 0&&(t=t.filter(i=>i.parentId===e.parentId)),e.level!==void 0&&(t=t.filter(i=>i.level===e.level)),e.isActive!==void 0&&(t=t.filter(i=>i.isActive===e.isActive)),t.sort((i,o)=>i.sortOrder-o.sortOrder);const r=e.page||1,a=e.limit||10,s=(r-1)*a,d=s+a;return{data:t.slice(s,d),total:t.length,page:r,limit:a,totalPages:Math.ceil(t.length/a)}}async getById(e){return await this.delay(),this.categories.find(t=>t.id===e)||null}async create(e){await this.delay();const t={...e,id:`cat_${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.categories.push(t),t}async update(e,t){await this.delay();const r=this.categories.findIndex(a=>a.id===e);return r===-1?null:(this.categories[r]={...this.categories[r],...t,updatedAt:new Date().toISOString()},this.categories[r])}async delete(e){await this.delay();const t=this.categories.findIndex(r=>r.id===e);return t===-1?!1:(this.categories.splice(t,1),!0)}async getStats(){await this.delay();const e=this.categories.filter(i=>i.isActive),t=this.categories.filter(i=>!i.isActive),r=this.categories.reduce((i,o)=>i+o.productCount,0),a=this.categories.reduce((i,o)=>i+o.totalValue,0),s=this.categories.filter(i=>i.isActive).sort((i,o)=>o.productCount-i.productCount).slice(0,5).map(i=>({id:i.id,name:i.name,productCount:i.productCount,value:i.totalValue,percentage:r>0?i.productCount/r*100:0})),d=new Map;this.categories.forEach(i=>{d.set(i.level,(d.get(i.level)||0)+1)});const c=Array.from(d.entries()).map(([i,o])=>({level:i,count:o})).sort((i,o)=>i.level-o.level);return{totalCategories:this.categories.length,activeCategories:e.length,inactiveCategories:t.length,totalProducts:r,totalValue:a,averageProductsPerCategory:r/this.categories.length,topCategories:s,categoryLevels:c}}async getActiveCategories(){return await this.delay(),this.categories.filter(e=>e.isActive)}async getCategoryTree(){await this.delay();const e=(t=void 0,r=0)=>this.categories.filter(a=>a.parentId===t&&a.isActive).sort((a,s)=>a.sortOrder-s.sortOrder).map(a=>{const s=e(a.id,r+1);return{...a,children:s,depth:r,hasChildren:s.length>0,isExpanded:!1}});return e()}async getRootCategories(){return await this.delay(),this.categories.filter(e=>!e.parentId&&e.isActive).sort((e,t)=>e.sortOrder-t.sortOrder)}async getSubCategories(e){return await this.delay(),this.categories.filter(t=>t.parentId===e&&t.isActive).sort((t,r)=>t.sortOrder-r.sortOrder)}}export{h as M};
