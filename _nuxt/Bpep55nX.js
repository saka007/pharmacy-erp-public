import dt from"./yaW8KJk6.js";import Pe from"./BQU78TzK.js";import Ce from"./CczAeT1L.js";import ut from"./D14OpTM8.js";import Ue from"./B58TIf-U.js";import Je from"./BO6ULsRQ.js";import Ze from"./Dm5AprhL.js";import Ve from"./BnobeqRl.js";import De from"./BtM64CUo.js";import We from"./D5Ks51LN.js";import mt from"./CfzG85BX.js";import st from"./DBE3UfU_.js";import Ke from"./lICK5X5-.js";import{r as p,j as oe,f as Ae,n as pt,U as Me,c as U,o as D,a as e,b as s,X as $e,w as i,t as a,W as ie,R as te,V as K,M as Fe,d as he,O as He,Q as Qe,S as vt,T as xt,a1 as gt,l as ft}from"./Brj3wMBg.js";import{u as Ie,a as je}from"./b1TIqIk9.js";import{M as yt}from"./Dv2xEQ-L.js";import{M as bt}from"./qcfWgvxB.js";import Ne from"./BcBZS8eP.js";import Be from"./rAT67NMt.js";import{_ as Ee}from"./DlAUqK2U.js";import et from"./j6KzyLsS.js";import ht from"./CQ3s1Nz1.js";import"./CPnrFujV.js";import"./C3apnNTk.js";import"./JBg3BgYv.js";import"./sv4f-xJQ.js";import"./BebXPpSf.js";import"./DFW4FdYb.js";import"./Bf8IPL8d.js";import"./afuiaTcZ.js";import"./CKn9WxWY.js";import"./BSkuv6gM.js";import"./DBs6zXwy.js";import"./DixNfKca.js";import"./Bw3Ft88d.js";import"./DTUPzpni.js";import"./avhwCvwR.js";import"./B4q2DkeP.js";import"./s9Bi9M2F.js";import"./BjPHq___.js";import"./DKO89CjO.js";import"./BnyZfsYx.js";import"./Ceg9RaKh.js";import"./DG7bCZdc.js";import"./CDRcj7e4.js";import"./6pkZfkFl.js";import"./DgF0lW5g.js";const _t={class:"enhanced-stock-grid"},kt={class:"flex flex-column md:flex-row justify-content-between align-items-start md:align-items-center mb-4 gap-3"},wt={class:"flex flex-wrap gap-2"},St={class:"grid mb-4"},$t={class:"col-12 md:col-3"},Pt={class:"p-inputgroup"},Ct={class:"col-12 md:col-2"},Vt={class:"col-12 md:col-2"},Dt={class:"col-12 md:col-2"},At={class:"product-cell"},It={class:"font-semibold text-900"},Et={class:"text-sm text-600"},Tt={class:"text-xs text-500"},Lt={class:"category-cell"},Rt={class:"font-medium text-900"},Ut={class:"text-xs text-600"},Mt={class:"qty-cell text-center"},Nt={class:"text-xs text-600"},Bt={key:0,class:"text-xs text-500"},zt={class:"price-cell text-right"},Ot={class:"font-semibold text-900"},Ft={class:"text-xs text-600"},jt={class:"purchase-cell text-right"},qt={class:"font-medium text-900"},Gt={class:"tax-cell text-center"},Ht={class:"font-bold text-900"},Qt={class:"status-cell"},Wt={class:"text-xs text-600 mt-1"},Kt={class:"flex gap-1"},Yt={class:"grid mt-4"},Xt={class:"col-12 md:col-3"},Jt={class:"text-center"},Zt={class:"text-2xl font-bold text-blue-600"},es={class:"col-12 md:col-3"},ts={class:"text-center"},ss={class:"text-2xl font-bold text-green-600"},os={class:"col-12 md:col-3"},ls={class:"text-center"},is={class:"text-2xl font-bold text-orange-600"},ns={class:"col-12 md:col-3"},as={class:"text-center"},rs={class:"text-2xl font-bold text-red-600"},cs={__name:"EnhancedStockGrid",props:{refreshTrigger:{type:Number,default:0}},emits:["edit-stock","add-stock","view-details"],setup(ke,{emit:ne}){const G=ke,Y=ne,M=p(!1),N=p(""),j=p(null),B=p(null),z=p(null),{products:O,fetchProducts:$}=Ie(),{categories:J,loadCategories:Z}=je(),ve=[{label:"In Stock",value:"in-stock"},{label:"Low Stock",value:"low-stock"},{label:"Out of Stock",value:"out-of-stock"}],ae=[{label:"Expiring Soon (30 days)",value:"expiring-soon"},{label:"Expired",value:"expired"},{label:"Valid",value:"valid"}],T=oe(()=>{if(!O.value.length)return[];let S=[...O.value];if(N.value){const h=N.value.toLowerCase();S=S.filter(E=>{var v;return E.name.toLowerCase().includes(h)||E.sku.toLowerCase().includes(h)||E.description&&E.description.toLowerCase().includes(h)||((v=E.category)==null?void 0:v.name)&&E.category.name.toLowerCase().includes(h)})}return j.value&&(S=S.filter(h=>h.categoryId===j.value)),B.value&&(S=S.filter(h=>Q(h.currentStock||0,h.reorderPoint||10)===B.value)),z.value&&(S=S.filter(h=>C(h.expiryDate)===z.value)),S}),I=oe(()=>{if(!O.value.length)return{totalItems:0,totalValue:0,lowStockItems:0,expiringItems:0};const S=O.value;return{totalItems:S.reduce((h,E)=>h+(E.currentStock||0),0),totalValue:S.reduce((h,E)=>h+(E.currentStock||0)*E.sellingPrice,0),lowStockItems:S.filter(h=>Q(h.currentStock||0,h.reorderPoint||10)==="low-stock").length,expiringItems:0}}),V=S=>new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(S),Q=(S,h)=>S===0?"out-of-stock":S<=(h||0)?"low-stock":"in-stock",F=(S,h)=>{switch(Q(S,h)){case"out-of-stock":return"text-red-600";case"low-stock":return"text-orange-600";default:return"text-green-600"}},W=(S,h)=>{switch(Q(S,h)){case"out-of-stock":return"Out of Stock";case"low-stock":return"Low Stock";default:return"In Stock"}},_=(S,h)=>{switch(Q(S,h)){case"out-of-stock":return"danger";case"low-stock":return"warning";default:return"success"}},C=S=>{if(!S)return"valid";const h=new Date,v=new Date(S)-h,r=Math.ceil(v/(1e3*60*60*24));return r<0?"expired":r<=30?"expiring-soon":"valid"},re=S=>{Y("edit-stock",S)},H=S=>{Y("add-stock",S)},xe=S=>{Y("view-details",S)},le=()=>{console.log("Exporting stock data...")},L=async()=>{M.value=!0;try{await Promise.all([$(),Z()])}catch(S){console.error("Error refreshing stock:",S)}finally{M.value=!1}};return Ae(async()=>{M.value=!0;try{await Promise.all([$(),Z()])}catch(S){console.error("Error loading data:",S)}finally{M.value=!1}}),pt(()=>G.refreshTrigger,()=>{L()}),(S,h)=>{const E=Pe,v=Ve,r=De,P=Ne,x=Ue,o=Be,n=Ce,y=Me("tooltip");return D(),U("div",_t,[e("div",kt,[h[4]||(h[4]=e("div",null,[e("h2",{class:"text-xl font-bold text-900 m-0"},"Stock Overview"),e("p",{class:"text-600 text-sm mt-1 mb-0"},"Detailed stock information with batch tracking")],-1)),e("div",wt,[s(E,{label:"Export",icon:"pi pi-download",severity:"secondary",outlined:"",size:"small",onClick:le}),s(E,{label:"Refresh",icon:"pi pi-refresh",severity:"secondary",outlined:"",size:"small",onClick:L})])]),e("div",St,[e("div",$t,[e("div",Pt,[h[5]||(h[5]=e("span",{class:"p-inputgroup-addon"},[e("i",{class:"pi pi-search"})],-1)),s(v,{modelValue:N.value,"onUpdate:modelValue":h[0]||(h[0]=m=>N.value=m),placeholder:"Search products...",class:"w-full"},null,8,["modelValue"])])]),e("div",Ct,[s(r,{modelValue:j.value,"onUpdate:modelValue":h[1]||(h[1]=m=>j.value=m),options:$e(J),"option-label":"name","option-value":"id",placeholder:"Category",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",Vt,[s(r,{modelValue:B.value,"onUpdate:modelValue":h[2]||(h[2]=m=>B.value=m),options:ve,"option-label":"label","option-value":"value",placeholder:"Stock Status",class:"w-full","show-clear":""},null,8,["modelValue"])]),e("div",Dt,[s(r,{modelValue:z.value,"onUpdate:modelValue":h[3]||(h[3]=m=>z.value=m),options:ae,"option-label":"label","option-value":"value",placeholder:"Expiry Status",class:"w-full","show-clear":""},null,8,["modelValue"])])]),s(n,null,{content:i(()=>[s(o,{value:T.value,paginator:!0,rows:25,loading:M.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[10,25,50,100],"current-page-report-template":"Showing {first} to {last} of {totalRecords} items","responsive-layout":"scroll","striped-rows":"","global-filter-fields":["name","batch","sku"],class:"enhanced-stock-table"},{default:i(()=>[s(P,{field:"name",header:"Product",sortable:!0,style:{"min-width":"250px"}},{body:i(({data:m})=>[e("div",At,[e("div",It,a(m.name),1),e("div",Et,a(m.brand||"Generic"),1),e("div",Tt,"SKU: "+a(m.sku),1)])]),_:1}),s(P,{field:"category",header:"Category",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:m})=>{var A;return[e("div",Lt,[e("div",Rt,a(((A=m.category)==null?void 0:A.name)||"N/A"),1),e("div",Ut,a(m.manufacturerId),1)])]}),_:1}),s(P,{field:"currentStock",header:"Qty",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:m})=>[e("div",Mt,[e("div",{class:te(["font-bold text-lg",F(m.currentStock||0,m.reorderPoint||10)])},a(m.currentStock||0),3),e("div",Nt,a(m.unit||"pcs"),1),m.reorderPoint?(D(),U("div",Bt," Min: "+a(m.reorderPoint),1)):ie("",!0)])]),_:1}),s(P,{field:"sellingPrice",header:"Price",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:m})=>[e("div",zt,[e("div",Ot,"₹"+a(V(m.sellingPrice)),1),e("div",Ft,"per "+a(m.unit||"pc"),1)])]),_:1}),s(P,{field:"purchasePrice",header:"Purchase",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:m})=>[e("div",jt,[e("div",qt,"₹"+a(V(m.purchasePrice)),1),h[6]||(h[6]=e("div",{class:"text-xs text-600"},"Cost",-1))])]),_:1}),s(P,{field:"taxRate",header:"Tax",sortable:!0,style:{"min-width":"80px"}},{body:i(({data:m})=>[e("div",Gt,[e("div",Ht,a(m.taxRate||0)+"%",1),h[7]||(h[7]=e("div",{class:"text-xs text-600"},"GST",-1))])]),_:1}),s(P,{field:"status",header:"Status",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:m})=>[e("div",Qt,[s(x,{value:W(m.currentStock||0,m.reorderPoint||10),severity:_(m.currentStock||0,m.reorderPoint||10),class:"text-xs"},null,8,["value","severity"]),e("div",Wt," Value: ₹"+a(V((m.currentStock||0)*m.sellingPrice)),1)])]),_:1}),s(P,{header:"Actions",style:{"min-width":"120px"}},{body:i(({data:m})=>[e("div",Kt,[K(s(E,{icon:"pi pi-pencil",size:"small",text:"",rounded:"",severity:"secondary",onClick:A=>re(m)},null,8,["onClick"]),[[y,"Edit Stock",void 0,{top:!0}]]),K(s(E,{icon:"pi pi-plus",size:"small",text:"",rounded:"",severity:"success",onClick:A=>H(m)},null,8,["onClick"]),[[y,"Add Stock",void 0,{top:!0}]]),K(s(E,{icon:"pi pi-eye",size:"small",text:"",rounded:"",severity:"info",onClick:A=>xe(m)},null,8,["onClick"]),[[y,"View Details",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading"])]),_:1}),e("div",Yt,[e("div",Xt,[s(n,{class:"summary-card"},{content:i(()=>[e("div",Jt,[e("div",Zt,a(I.value.totalItems),1),h[8]||(h[8]=e("div",{class:"text-sm text-600"},"Total Items",-1))])]),_:1})]),e("div",es,[s(n,{class:"summary-card"},{content:i(()=>[e("div",ts,[e("div",ss,"₹"+a(V(I.value.totalValue)),1),h[9]||(h[9]=e("div",{class:"text-sm text-600"},"Total Value",-1))])]),_:1})]),e("div",os,[s(n,{class:"summary-card"},{content:i(()=>[e("div",ls,[e("div",is,a(I.value.lowStockItems),1),h[10]||(h[10]=e("div",{class:"text-sm text-600"},"Low Stock",-1))])]),_:1})]),e("div",ns,[s(n,{class:"summary-card"},{content:i(()=>[e("div",as,[e("div",rs,a(I.value.expiringItems),1),h[11]||(h[11]=e("div",{class:"text-sm text-600"},"Expiring Soon",-1))])]),_:1})])])])}}},ds=Ee(cs,[["__scopeId","data-v-628c9724"]]),us={class:"batch-tracking-system"},ms={class:"flex flex-column md:flex-row justify-content-between align-items-start md:align-items-center mb-4 gap-3"},ps={class:"flex flex-wrap gap-2"},vs={class:"grid mb-4"},xs={class:"col-12 md:col-3"},gs={class:"p-inputgroup"},fs={class:"col-12 md:col-2"},ys={class:"col-12 md:col-2"},bs={class:"col-12 md:col-2"},hs={class:"grid mb-4"},_s={class:"col-12 md:col-3"},ks={class:"flex align-items-center"},ws={class:"text-2xl font-bold text-900"},Ss={class:"col-12 md:col-3"},$s={class:"flex align-items-center"},Ps={class:"text-2xl font-bold text-900"},Cs={class:"col-12 md:col-3"},Vs={class:"flex align-items-center"},Ds={class:"text-2xl font-bold text-900"},As={class:"col-12 md:col-3"},Is={class:"flex align-items-center"},Es={class:"text-2xl font-bold text-900"},Ts={class:"product-info"},Ls={class:"font-semibold text-900"},Rs={class:"text-sm text-600"},Us={class:"text-xs text-500"},Ms={class:"batch-info"},Ns={class:"font-bold text-900"},Bs={class:"text-xs text-600"},zs={class:"stock-info text-center"},Os={class:"text-xs text-600"},Fs={class:"purchase-info text-right"},js={class:"text-sm font-medium text-900"},qs={class:"text-xs text-600"},Gs={class:"text-xs text-500"},Hs={class:"expiry-info"},Qs={class:"value-info text-right"},Ws={class:"font-semibold text-900"},Ks={class:"flex gap-1"},Ys={class:"grid p-fluid"},Xs={class:"col-12"},Js={class:"col-6"},Zs={class:"col-6"},eo={class:"col-6"},to={class:"col-6"},so={class:"col-6"},oo={class:"col-6"},lo={__name:"BatchTrackingSystem",props:{productId:{type:String,default:null}},emits:["batch-added","batch-updated","batch-expired"],setup(ke,{emit:ne}){const G=ke,Y=ne,M=p(!1),N=p(""),j=p(null),B=p(null),z=p(null),O=p(!1),$=p({productId:null,batchNumber:"",initialStock:null,mfgDate:null,expiryDate:null,purchasePrice:null,purchaseDate:new Date}),J=[{label:"Active",value:"active"},{label:"Expiring Soon (30 days)",value:"expiring-soon"},{label:"Expired",value:"expired"}],{products:Z,fetchProducts:ve}=Ie(),ae=p([{id:"batch_001",productId:"prod_001",productName:"Paracetamol 500mg",batchNumber:"PAR001",initialStock:100,currentStock:75,mfgDate:"2024-01-15",expiryDate:"2026-01-15",purchasePrice:8.5,purchaseDate:"2024-01-20",status:"active"},{id:"batch_002",productId:"prod_002",productName:"Ibuprofen 400mg",batchNumber:"IBU002",initialStock:50,currentStock:8,mfgDate:"2024-02-10",expiryDate:"2025-12-10",purchasePrice:15,purchaseDate:"2024-02-15",status:"expiring-soon"},{id:"batch_003",productId:"prod_003",productName:"Amoxicillin 250mg",batchNumber:"AMX003",initialStock:30,currentStock:0,mfgDate:"2023-12-01",expiryDate:"2024-11-30",purchasePrice:22,purchaseDate:"2023-12-05",status:"expired"}]),T=oe(()=>{let o=[...ae.value];if(N.value){const n=N.value.toLowerCase();o=o.filter(y=>y.productName.toLowerCase().includes(n)||y.batchNumber.toLowerCase().includes(n)||y.sku.toLowerCase().includes(n)||y.brand.toLowerCase().includes(n))}if(j.value&&(o=o.filter(n=>n.productId===j.value)),B.value&&(o=o.filter(n=>C(n.expiryDate)===B.value)),z.value&&z.value.length===2){const[n,y]=z.value;o=o.filter(m=>{const A=new Date(m.expiryDate);return A>=n&&A<=y})}return o}),I=oe(()=>{const o=ae.value;return{totalBatches:o.length,activeBatches:o.filter(n=>n.status==="Active").length,expiringBatches:o.filter(n=>F(n.expiryDate)&&n.status!=="Expired").length,expiredBatches:o.filter(n=>n.status==="Expired"||W(n.expiryDate)).length}}),V=o=>new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(o),Q=o=>o?new Date(o).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"-",F=o=>{if(!o)return!1;const n=new Date,m=new Date(o)-n,A=Math.ceil(m/(1e3*60*60*24));return A<=30&&A>0},W=o=>{if(!o)return!1;const n=new Date;return new Date(o)<n},_=o=>{if(!o)return"-";const n=new Date,m=new Date(o)-n,A=Math.ceil(m/(1e3*60*60*24));return A<0?"Expired":A===0?"Today":A},C=o=>W(o)?"expired":F(o)?"expiring-soon":"active",re=o=>{const n=_(o);return n==="Expired"?"Expired":n==="Today"?"Expires Today":typeof n=="number"&&n<=30?`${n} days left`:"Valid"},H=o=>W(o)?"text-red-600 font-bold":F(o)?"text-orange-600 font-medium":"text-green-600",xe=o=>W(o)?"danger":F(o)?"warning":"success",le=o=>o===0?"text-red-600":o<=20?"text-orange-600":"text-green-600",L=o=>{switch(o){case"Active":return"success";case"Expiring Soon":return"warning";case"Expired":return"danger";case"Out of Stock":return"secondary";default:return"info"}},S=o=>o.currentStock*o.purchasePrice,h=o=>{console.log("Editing batch:",o)},E=o=>{console.log("Viewing batch history:",o)},v=o=>{console.log("Marking batch as expired:",o);const n=ae.value.findIndex(y=>y.id===o.id);n>-1&&(ae.value[n].status="Expired",Y("batch-expired",o))},r=()=>{var y,m,A;if(!$.value.productId||!$.value.batchNumber||!$.value.initialStock){console.error("Please fill all required fields");return}const o=Z.value.find(ce=>ce.id===$.value.productId);if(!o)return;const n={id:Date.now(),productId:$.value.productId,productName:o.name,brand:o.brand,sku:`SKU${$.value.productId}`,batchNumber:$.value.batchNumber,initialStock:$.value.initialStock,currentStock:$.value.initialStock,unit:"units",mfgDate:(y=$.value.mfgDate)==null?void 0:y.toISOString().split("T")[0],expiryDate:(m=$.value.expiryDate)==null?void 0:m.toISOString().split("T")[0],purchaseDate:(A=$.value.purchaseDate)==null?void 0:A.toISOString().split("T")[0],purchasePrice:$.value.purchasePrice,status:"Active"};ae.value.unshift(n),P(),O.value=!1,Y("batch-added",n),console.log("Batch added successfully")},P=()=>{$.value={productId:null,batchNumber:"",initialStock:null,mfgDate:null,expiryDate:null,purchasePrice:null,purchaseDate:new Date}},x=()=>{console.log("Generating batch report...")};return Ae(async()=>{M.value=!0;try{await ve()}catch(o){console.error("Error loading batch data:",o)}finally{M.value=!1}G.productId&&(j.value=G.productId)}),(o,n)=>{const y=Pe,m=Ve,A=De,ce=et,de=Ce,q=Ne,b=Ue,X=Be,ue=We,_e=Ke,u=Me("tooltip");return D(),U("div",us,[e("div",ms,[n[14]||(n[14]=e("div",null,[e("h2",{class:"text-xl font-bold text-900 m-0"},"Batch Tracking"),e("p",{class:"text-600 text-sm mt-1 mb-0"},"Monitor batch-wise inventory and expiry dates")],-1)),e("div",ps,[s(y,{label:"Add Batch",icon:"pi pi-plus",size:"small",onClick:n[0]||(n[0]=t=>O.value=!0)}),s(y,{label:"Batch Report",icon:"pi pi-file-pdf",severity:"secondary",outlined:"",size:"small",onClick:x})])]),e("div",vs,[e("div",xs,[e("div",gs,[n[15]||(n[15]=e("span",{class:"p-inputgroup-addon"},[e("i",{class:"pi pi-search"})],-1)),s(m,{modelValue:N.value,"onUpdate:modelValue":n[1]||(n[1]=t=>N.value=t),placeholder:"Search batches...",class:"w-full"},null,8,["modelValue"])])]),e("div",fs,[s(A,{modelValue:j.value,"onUpdate:modelValue":n[2]||(n[2]=t=>j.value=t),options:$e(Z),"option-label":"name","option-value":"id",placeholder:"Product",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",ys,[s(A,{modelValue:B.value,"onUpdate:modelValue":n[3]||(n[3]=t=>B.value=t),options:J,"option-label":"label","option-value":"value",placeholder:"Expiry Status",class:"w-full","show-clear":""},null,8,["modelValue"])]),e("div",bs,[s(ce,{modelValue:z.value,"onUpdate:modelValue":n[4]||(n[4]=t=>z.value=t),"selection-mode":"range","manual-input":!1,placeholder:"Expiry Date Range",class:"w-full","show-clear":""},null,8,["modelValue"])])]),e("div",hs,[e("div",_s,[s(de,{class:"batch-summary-card"},{content:i(()=>[e("div",ks,[n[17]||(n[17]=e("div",{class:"batch-icon bg-blue-100 text-blue-600 mr-3"},[e("i",{class:"pi pi-box text-xl"})],-1)),e("div",null,[e("div",ws,a(I.value.totalBatches),1),n[16]||(n[16]=e("div",{class:"text-sm text-600"},"Total Batches",-1))])])]),_:1})]),e("div",Ss,[s(de,{class:"batch-summary-card"},{content:i(()=>[e("div",$s,[n[19]||(n[19]=e("div",{class:"batch-icon bg-orange-100 text-orange-600 mr-3"},[e("i",{class:"pi pi-exclamation-triangle text-xl"})],-1)),e("div",null,[e("div",Ps,a(I.value.expiringBatches),1),n[18]||(n[18]=e("div",{class:"text-sm text-600"},"Expiring Soon",-1))])])]),_:1})]),e("div",Cs,[s(de,{class:"batch-summary-card"},{content:i(()=>[e("div",Vs,[n[21]||(n[21]=e("div",{class:"batch-icon bg-red-100 text-red-600 mr-3"},[e("i",{class:"pi pi-times-circle text-xl"})],-1)),e("div",null,[e("div",Ds,a(I.value.expiredBatches),1),n[20]||(n[20]=e("div",{class:"text-sm text-600"},"Expired",-1))])])]),_:1})]),e("div",As,[s(de,{class:"batch-summary-card"},{content:i(()=>[e("div",Is,[n[23]||(n[23]=e("div",{class:"batch-icon bg-green-100 text-green-600 mr-3"},[e("i",{class:"pi pi-check-circle text-xl"})],-1)),e("div",null,[e("div",Es,a(I.value.activeBatches),1),n[22]||(n[22]=e("div",{class:"text-sm text-600"},"Active Batches",-1))])])]),_:1})])]),s(de,null,{content:i(()=>[s(X,{value:T.value,paginator:!0,rows:20,loading:M.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[10,20,50],"current-page-report-template":"Showing {first} to {last} of {totalRecords} batches","responsive-layout":"scroll","striped-rows":"",class:"batch-table"},{default:i(()=>[s(q,{field:"productName",header:"Product",sortable:!0,style:{"min-width":"200px"}},{body:i(({data:t})=>[e("div",Ts,[e("div",Ls,a(t.productName),1),e("div",Rs,a(t.brand),1),e("div",Us,"SKU: "+a(t.sku),1)])]),_:1}),s(q,{field:"batchNumber",header:"Batch #",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:t})=>[e("div",Ms,[e("div",Ns,a(t.batchNumber),1),e("div",Bs,a(Q(t.mfgDate)),1)])]),_:1}),s(q,{field:"currentStock",header:"Stock",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:t})=>[e("div",zs,[e("div",{class:te(["font-bold text-lg",le(t.currentStock)])},a(t.currentStock),3),e("div",Os,a(t.unit),1)])]),_:1}),s(q,{header:"Purchase",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:t})=>[e("div",Fs,[e("div",js,"₹"+a(V(t.purchasePrice)),1),e("div",qs,a(t.initialStock)+" units",1),e("div",Gs,a(Q(t.purchaseDate)),1)])]),_:1}),s(q,{field:"expiryDate",header:"Expiry",sortable:!0,style:{"min-width":"140px"}},{body:i(({data:t})=>[e("div",Hs,[e("div",{class:te(["font-medium",H(t.expiryDate)])},a(Q(t.expiryDate)),3),e("div",{class:te(["text-xs",H(t.expiryDate)])},a(re(t.expiryDate)),3),F(t.expiryDate)?(D(),Fe(b,{key:0,value:_(t.expiryDate)+" days",severity:xe(t.expiryDate),class:"text-xs mt-1"},null,8,["value","severity"])):ie("",!0)])]),_:1}),s(q,{header:"Value",sortable:!1,style:{"min-width":"100px"}},{body:i(({data:t})=>[e("div",Qs,[e("div",Ws,"₹"+a(V(S(t))),1),n[24]||(n[24]=e("div",{class:"text-xs text-600"},"Current",-1))])]),_:1}),s(q,{field:"status",header:"Status",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:t})=>[s(b,{value:t.status,severity:L(t.status),class:"font-medium"},null,8,["value","severity"])]),_:1}),s(q,{header:"Actions",style:{"min-width":"120px"}},{body:i(({data:t})=>[e("div",Ks,[K(s(y,{icon:"pi pi-pencil",size:"small",text:"",rounded:"",severity:"secondary",onClick:l=>h(t)},null,8,["onClick"]),[[u,"Edit Batch",void 0,{top:!0}]]),K(s(y,{icon:"pi pi-history",size:"small",text:"",rounded:"",severity:"info",onClick:l=>E(t)},null,8,["onClick"]),[[u,"Batch History",void 0,{top:!0}]]),K(s(y,{icon:"pi pi-ban",size:"small",text:"",rounded:"",severity:"danger",onClick:l=>v(t),disabled:t.status==="Expired"},null,8,["onClick","disabled"]),[[u,"Mark Expired",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading"])]),_:1}),s(_e,{visible:O.value,"onUpdate:visible":n[13]||(n[13]=t=>O.value=t),modal:"",header:"Add New Batch",style:{width:"600px"},breakpoints:{"960px":"75vw","641px":"90vw"}},{footer:i(()=>[s(y,{label:"Cancel",icon:"pi pi-times",text:"",onClick:n[12]||(n[12]=t=>O.value=!1)}),s(y,{label:"Save Batch",icon:"pi pi-check",onClick:r})]),default:i(()=>[e("div",Ys,[e("div",Xs,[n[25]||(n[25]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Product *",-1)),s(A,{modelValue:$.value.productId,"onUpdate:modelValue":n[5]||(n[5]=t=>$.value.productId=t),options:$e(Z),"option-label":"name","option-value":"id",placeholder:"Select Product",class:"w-full"},null,8,["modelValue","options"])]),e("div",Js,[n[26]||(n[26]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Batch Number *",-1)),s(m,{modelValue:$.value.batchNumber,"onUpdate:modelValue":n[6]||(n[6]=t=>$.value.batchNumber=t),placeholder:"e.g., BTH001"},null,8,["modelValue"])]),e("div",Zs,[n[27]||(n[27]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Initial Stock *",-1)),s(ue,{modelValue:$.value.initialStock,"onUpdate:modelValue":n[7]||(n[7]=t=>$.value.initialStock=t),min:1},null,8,["modelValue"])]),e("div",eo,[n[28]||(n[28]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Manufacturing Date *",-1)),s(ce,{modelValue:$.value.mfgDate,"onUpdate:modelValue":n[8]||(n[8]=t=>$.value.mfgDate=t),"show-icon":""},null,8,["modelValue"])]),e("div",to,[n[29]||(n[29]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Expiry Date *",-1)),s(ce,{modelValue:$.value.expiryDate,"onUpdate:modelValue":n[9]||(n[9]=t=>$.value.expiryDate=t),"show-icon":""},null,8,["modelValue"])]),e("div",so,[n[30]||(n[30]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Purchase Price *",-1)),s(ue,{modelValue:$.value.purchasePrice,"onUpdate:modelValue":n[10]||(n[10]=t=>$.value.purchasePrice=t),mode:"currency",currency:"INR"},null,8,["modelValue"])]),e("div",oo,[n[31]||(n[31]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Purchase Date",-1)),s(ce,{modelValue:$.value.purchaseDate,"onUpdate:modelValue":n[11]||(n[11]=t=>$.value.purchaseDate=t),"show-icon":""},null,8,["modelValue"])])])]),_:1},8,["visible"])])}}},io=Ee(lo,[["__scopeId","data-v-1068db48"]]),no={class:"pricing-management"},ao={class:"flex flex-column md:flex-row justify-content-between align-items-start md:align-items-center mb-4 gap-3"},ro={class:"flex flex-wrap gap-2"},co={class:"grid mb-4"},uo={class:"col-12 md:col-3"},mo={class:"p-inputgroup"},po={class:"col-12 md:col-2"},vo={class:"col-12 md:col-2"},xo={class:"col-12 md:col-2"},go={class:"grid mb-4"},fo={class:"col-12 md:col-3"},yo={class:"flex align-items-center"},bo={class:"text-2xl font-bold text-900"},ho={class:"col-12 md:col-3"},_o={class:"flex align-items-center"},ko={class:"text-2xl font-bold text-900"},wo={class:"col-12 md:col-3"},So={class:"flex align-items-center"},$o={class:"text-2xl font-bold text-900"},Po={class:"col-12 md:col-3"},Co={class:"flex align-items-center"},Vo={class:"text-2xl font-bold text-900"},Do={class:"product-info"},Ao={class:"font-semibold text-900"},Io={class:"text-sm text-600"},Eo={class:"text-xs text-500"},To={class:"purchase-price text-right"},Lo={class:"font-medium text-900"},Ro={class:"mrp-price text-right"},Uo={class:"font-bold text-900"},Mo={class:"selling-price text-right"},No={class:"font-bold text-900"},Bo={class:"discount-info text-center"},zo={class:"font-medium text-900"},Oo={class:"text-xs text-green-600"},Fo={class:"margin-info text-center"},jo={class:"net-price text-right"},qo={class:"font-bold text-900"},Go={class:"gst-info text-center"},Ho={class:"font-medium text-900"},Qo={class:"flex gap-1"},Wo={class:"grid p-fluid"},Ko={class:"col-12"},Yo={class:"col-12"},Xo={class:"col-12"},Jo={__name:"PricingManagement",emits:["pricing-updated","bulk-update-applied"],setup(ke,{emit:ne}){const G=ne,Y=p(!1),M=p(""),N=p(null),j=p(null),B=p(null),z=p(!1),O=p(!1),{products:$,fetchProducts:J}=Ie(),{categories:Z,loadCategories:ve}=je(),ae=p([{label:"High Margin (>30%)",value:"high"},{label:"Medium Margin (15-30%)",value:"medium"},{label:"Low Margin (<15%)",value:"low"},{label:"Negative Margin",value:"negative"}]),T=p([{label:"No Discount (0%)",value:"none"},{label:"Low Discount (1-10%)",value:"low"},{label:"Medium Discount (11-20%)",value:"medium"},{label:"High Discount (>20%)",value:"high"}]),I=p([{label:"Increase by Percentage",value:"percentage"},{label:"Increase by Amount",value:"amount"},{label:"Set Fixed Margin",value:"margin"}]),V=p({type:null,value:null,categories:[]}),Q=oe(()=>$.value.map(v=>{var r;return{id:v.id,name:v.name,brand:v.manufacturerId,sku:v.sku,purchasePrice:v.purchasePrice,mrp:v.sellingPrice*1.2,sellingPrice:v.sellingPrice,discount:Math.round((v.sellingPrice*1.2-v.sellingPrice)/(v.sellingPrice*1.2)*100),gstRate:v.taxRate,category:v.categoryId,categoryName:((r=v.category)==null?void 0:r.name)||"Unknown",stock:v.currentStock||0,margin:Math.round((v.sellingPrice-v.purchasePrice)/v.purchasePrice*100)}})),F=oe(()=>{let v=[...Q.value];if(M.value){const r=M.value.toLowerCase();v=v.filter(P=>P.name.toLowerCase().includes(r)||P.sku.toLowerCase().includes(r)||P.brand.toLowerCase().includes(r))}return N.value&&(v=v.filter(r=>r.category===N.value)),j.value&&(v=v.filter(r=>{const P=r.margin||0;switch(j.value){case"high":return P>30;case"medium":return P>=15&&P<=30;case"low":return P>0&&P<15;case"negative":return P<=0;default:return!0}})),B.value&&(v=v.filter(r=>{const P=r.discount||0;switch(B.value){case"none":return P===0;case"low":return P>0&&P<=10;case"medium":return P>10&&P<=20;case"high":return P>20;default:return!0}})),v}),W=oe(()=>{const v=Q.value,r=v.length;if(r===0)return{avgMRP:0,avgMargin:0,avgDiscount:0,totalValue:0};const P=v.reduce((y,m)=>y+m.mrp,0)/r,x=v.reduce((y,m)=>y+H(m.purchasePrice,m.sellingPrice),0)/r,o=v.reduce((y,m)=>y+(m.discount||0),0)/r,n=v.reduce((y,m)=>y+m.stock*m.sellingPrice,0);return{avgMRP:Math.round(P*100)/100,avgMargin:Math.round(x*100)/100,avgDiscount:Math.round(o*100)/100,totalValue:Math.round(n*100)/100}}),_=v=>new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(v),C=(v,r)=>v*(r||0)/100,re=(v,r)=>v-C(v,r),H=(v,r)=>{if(v===0)return 0;const P=(r-v)/v*100;return Math.round(P*100)/100},xe=v=>v<=0?"text-red-600":v<15?"text-orange-600":v<30?"text-blue-600":"text-green-600",le=v=>{const{data:r,newValue:P,field:x}=v;r[x]=P,(x==="mrp"||x==="discount")&&(r.sellingPrice=re(r.mrp,r.discount)),G("pricing-updated",r),console.log("Pricing updated for:",r.name)},L=v=>{console.log("Editing pricing for:",v)},S=v=>{console.log("Viewing price history for:",v),O.value=!0},h=v=>{console.log("Copying pricing from:",v)},E=()=>{if(!V.value.type||!V.value.value){console.error("Please fill all required fields");return}let v=0;Q.value.forEach(r=>{if(V.value.categories.length===0||V.value.categories.includes(r.category)){switch(V.value.type){case"percentage":r.mrp=r.mrp*(1+V.value.value/100),r.sellingPrice=re(r.mrp,r.discount);break;case"amount":r.mrp+=V.value.value,r.sellingPrice=re(r.mrp,r.discount);break;case"margin":r.sellingPrice=r.purchasePrice*(1+V.value.value/100);break}v++}}),z.value=!1,G("bulk-update-applied",{count:v,type:V.value.type}),console.log(`Bulk update applied to ${v} products`),V.value={type:null,value:null,categories:[]}};return Ae(async()=>{Y.value=!0;try{await Promise.all([J(),ve()])}catch(v){console.error("Error loading pricing data:",v)}finally{Y.value=!1}}),(v,r)=>{const P=Pe,x=Ve,o=De,n=Ce,y=Ne,m=We,A=Be,ce=ht,de=Ke,q=Me("tooltip");return D(),U("div",no,[e("div",ao,[r[11]||(r[11]=e("div",null,[e("h2",{class:"text-xl font-bold text-900 m-0"},"Pricing Management"),e("p",{class:"text-600 text-sm mt-1 mb-0"},"Manage MRP, discounts, and pricing strategies")],-1)),e("div",ro,[s(P,{label:"Bulk Update",icon:"pi pi-upload",severity:"secondary",outlined:"",size:"small",onClick:r[0]||(r[0]=b=>z.value=!0)}),s(P,{label:"Price History",icon:"pi pi-history",severity:"info",outlined:"",size:"small",onClick:r[1]||(r[1]=b=>O.value=!0)})])]),e("div",co,[e("div",uo,[e("div",mo,[r[12]||(r[12]=e("span",{class:"p-inputgroup-addon"},[e("i",{class:"pi pi-search"})],-1)),s(x,{modelValue:M.value,"onUpdate:modelValue":r[2]||(r[2]=b=>M.value=b),placeholder:"Search products...",class:"w-full"},null,8,["modelValue"])])]),e("div",po,[s(o,{modelValue:N.value,"onUpdate:modelValue":r[3]||(r[3]=b=>N.value=b),options:$e(Z),"option-label":"name","option-value":"id",placeholder:"Category",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",vo,[s(o,{modelValue:j.value,"onUpdate:modelValue":r[4]||(r[4]=b=>j.value=b),options:ae.value,"option-label":"label","option-value":"value",placeholder:"Margin Range",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",xo,[s(o,{modelValue:B.value,"onUpdate:modelValue":r[5]||(r[5]=b=>B.value=b),options:T.value,"option-label":"label","option-value":"value",placeholder:"Discount Range",class:"w-full","show-clear":""},null,8,["modelValue","options"])])]),e("div",go,[e("div",fo,[s(n,{class:"pricing-summary-card"},{content:i(()=>[e("div",yo,[r[14]||(r[14]=e("div",{class:"pricing-icon bg-blue-100 text-blue-600 mr-3"},[e("i",{class:"pi pi-tag text-xl"})],-1)),e("div",null,[e("div",bo,"₹"+a(_(W.value.avgMRP)),1),r[13]||(r[13]=e("div",{class:"text-sm text-600"},"Avg MRP",-1))])])]),_:1})]),e("div",ho,[s(n,{class:"pricing-summary-card"},{content:i(()=>[e("div",_o,[r[16]||(r[16]=e("div",{class:"pricing-icon bg-green-100 text-green-600 mr-3"},[e("i",{class:"pi pi-percentage text-xl"})],-1)),e("div",null,[e("div",ko,a(W.value.avgMargin)+"%",1),r[15]||(r[15]=e("div",{class:"text-sm text-600"},"Avg Margin",-1))])])]),_:1})]),e("div",wo,[s(n,{class:"pricing-summary-card"},{content:i(()=>[e("div",So,[r[18]||(r[18]=e("div",{class:"pricing-icon bg-orange-100 text-orange-600 mr-3"},[e("i",{class:"pi pi-minus text-xl"})],-1)),e("div",null,[e("div",$o,a(W.value.avgDiscount)+"%",1),r[17]||(r[17]=e("div",{class:"text-sm text-600"},"Avg Discount",-1))])])]),_:1})]),e("div",Po,[s(n,{class:"pricing-summary-card"},{content:i(()=>[e("div",Co,[r[20]||(r[20]=e("div",{class:"pricing-icon bg-purple-100 text-purple-600 mr-3"},[e("i",{class:"pi pi-money-bill text-xl"})],-1)),e("div",null,[e("div",Vo,"₹"+a(_(W.value.totalValue)),1),r[19]||(r[19]=e("div",{class:"text-sm text-600"},"Total Value",-1))])])]),_:1})])]),s(n,null,{content:i(()=>[s(A,{value:F.value,paginator:!0,rows:20,loading:Y.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[10,20,50],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll","striped-rows":"",class:"pricing-table","edit-mode":"cell",onCellEditComplete:le},{default:i(()=>[s(y,{field:"name",header:"Product",sortable:!0,style:{"min-width":"200px"}},{body:i(({data:b})=>[e("div",Do,[e("div",Ao,a(b.name),1),e("div",Io,a(b.brand),1),e("div",Eo,"SKU: "+a(b.sku),1)])]),_:1}),s(y,{field:"purchasePrice",header:"Purchase Price",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:b})=>[e("div",To,[e("div",Lo,"₹"+a(_(b.purchasePrice)),1),r[21]||(r[21]=e("div",{class:"text-xs text-600"},"Cost",-1))])]),_:1}),s(y,{field:"mrp",header:"MRP",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:b})=>[e("div",Ro,[e("div",Uo,"₹"+a(_(b.mrp)),1),r[22]||(r[22]=e("div",{class:"text-xs text-600"},"Max Retail",-1))])]),editor:i(({data:b,field:X})=>[s(m,{modelValue:b[X],"onUpdate:modelValue":ue=>b[X]=ue,mode:"currency",currency:"INR",min:0,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),s(y,{field:"sellingPrice",header:"Selling Price",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:b})=>[e("div",Mo,[e("div",No,"₹"+a(_(b.sellingPrice)),1),r[23]||(r[23]=e("div",{class:"text-xs text-600"},"Actual Sale",-1))])]),editor:i(({data:b,field:X})=>[s(m,{modelValue:b[X],"onUpdate:modelValue":ue=>b[X]=ue,mode:"currency",currency:"INR",min:0,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),s(y,{field:"discount",header:"Discount",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:b})=>[e("div",Bo,[e("div",zo,a(b.discount||0)+"%",1),e("div",Oo," -₹"+a(_(C(b.mrp,b.discount))),1)])]),editor:i(({data:b,field:X})=>[s(m,{modelValue:b[X],"onUpdate:modelValue":ue=>b[X]=ue,min:0,max:100,suffix:"%",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),s(y,{header:"Margin",sortable:!1,style:{"min-width":"100px"}},{body:i(({data:b})=>[e("div",Fo,[e("div",{class:te(["font-bold text-lg",xe(H(b.purchasePrice,b.sellingPrice))])},a(H(b.purchasePrice,b.sellingPrice))+"% ",3),r[24]||(r[24]=e("div",{class:"text-xs text-600"},"Profit",-1))])]),_:1}),s(y,{header:"Net Price",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:b})=>[e("div",jo,[e("div",qo,"₹"+a(_(re(b.mrp,b.discount))),1),r[25]||(r[25]=e("div",{class:"text-xs text-600"},"After Discount",-1))])]),_:1}),s(y,{field:"gstRate",header:"GST",sortable:!0,style:{"min-width":"80px"}},{body:i(({data:b})=>[e("div",Go,[e("div",Ho,a(b.gstRate||0)+"%",1),r[26]||(r[26]=e("div",{class:"text-xs text-600"},"Tax",-1))])]),_:1}),s(y,{header:"Actions",style:{"min-width":"120px"}},{body:i(({data:b})=>[e("div",Qo,[K(s(P,{icon:"pi pi-pencil",size:"small",text:"",rounded:"",severity:"secondary",onClick:X=>L(b)},null,8,["onClick"]),[[q,"Edit Pricing",void 0,{top:!0}]]),K(s(P,{icon:"pi pi-history",size:"small",text:"",rounded:"",severity:"info",onClick:X=>S(b)},null,8,["onClick"]),[[q,"Price History",void 0,{top:!0}]]),K(s(P,{icon:"pi pi-copy",size:"small",text:"",rounded:"",severity:"success",onClick:X=>h(b)},null,8,["onClick"]),[[q,"Copy Pricing",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading"])]),_:1}),s(de,{visible:z.value,"onUpdate:visible":r[10]||(r[10]=b=>z.value=b),modal:"",header:"Bulk Price Update",style:{width:"500px"},breakpoints:{"960px":"75vw","641px":"90vw"}},{footer:i(()=>[s(P,{label:"Cancel",icon:"pi pi-times",text:"",onClick:r[9]||(r[9]=b=>z.value=!1)}),s(P,{label:"Apply Update",icon:"pi pi-check",onClick:E})]),default:i(()=>[e("div",Wo,[e("div",Ko,[r[27]||(r[27]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Update Type",-1)),s(o,{modelValue:V.value.type,"onUpdate:modelValue":r[6]||(r[6]=b=>V.value.type=b),options:I.value,"option-label":"label","option-value":"value",placeholder:"Select Update Type",class:"w-full"},null,8,["modelValue","options"])]),e("div",Yo,[r[28]||(r[28]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Value",-1)),s(m,{modelValue:V.value.value,"onUpdate:modelValue":r[7]||(r[7]=b=>V.value.value=b),suffix:V.value.type==="percentage"?"%":"",mode:V.value.type==="amount"?"currency":"decimal",currency:V.value.type==="amount"?"INR":void 0},null,8,["modelValue","suffix","mode","currency"])]),e("div",Xo,[r[29]||(r[29]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Apply To",-1)),s(ce,{modelValue:V.value.categories,"onUpdate:modelValue":r[8]||(r[8]=b=>V.value.categories=b),options:$e(Z),"option-label":"name","option-value":"id",placeholder:"Select Categories",class:"w-full"},null,8,["modelValue","options"])])])]),_:1},8,["visible"])])}}},Zo=Ee(Jo,[["__scopeId","data-v-10e172b9"]]),el={class:"stock-alerts-system"},tl={class:"flex flex-column md:flex-row justify-content-between align-items-start md:align-items-center mb-4 gap-3"},sl={class:"flex flex-wrap gap-2"},ol={class:"grid mb-4"},ll={class:"col-12 md:col-3"},il={class:"flex align-items-center"},nl={class:"text-2xl font-bold text-900"},al={class:"col-12 md:col-3"},rl={class:"flex align-items-center"},cl={class:"text-2xl font-bold text-900"},dl={class:"col-12 md:col-3"},ul={class:"flex align-items-center"},ml={class:"text-2xl font-bold text-900"},pl={class:"col-12 md:col-3"},vl={class:"flex align-items-center"},xl={class:"text-2xl font-bold text-900"},gl={class:"grid mb-4"},fl={class:"col-12 md:col-3"},yl={class:"col-12 md:col-2"},bl={class:"col-12 md:col-2"},hl={class:"col-12 md:col-2"},_l={class:"col-12 md:col-3"},kl={class:"p-inputgroup"},wl={class:"severity-indicator"},Sl={class:"alert-type"},$l={class:"font-medium text-900"},Pl={class:"text-xs text-600"},Cl={class:"product-batch-info"},Vl={class:"font-semibold text-900"},Dl={class:"text-sm text-600"},Al={key:0,class:"text-xs text-500"},Il={class:"alert-message"},El={class:"font-medium text-900"},Tl={class:"text-sm text-600 mt-1"},Ll={class:"current-value text-center"},Rl={class:"text-xs text-600"},Ul={class:"threshold-value text-center"},Ml={class:"font-medium text-900"},Nl={class:"created-date"},Bl={class:"font-medium text-900"},zl={class:"text-xs text-600"},Ol={class:"flex gap-1"},Fl={class:"grid p-fluid"},jl={class:"col-6"},ql={class:"col-6"},Gl={class:"col-6"},Hl={class:"col-6"},Ql={class:"col-12"},Wl={class:"field-checkbox"},Kl={class:"col-12"},Yl={class:"field-checkbox"},Xl={__name:"StockAlertsSystem",emits:["alert-resolved","alert-snoozed","alert-dismissed","config-updated"],setup(ke,{emit:ne}){const{products:G,fetchProducts:Y}=Ie(),M=oe(()=>{if(!G.value.length)return[];const x=[];return G.value.forEach(o=>{var m,A;const n=o.currentStock||0,y=o.reorderPoint||10;n>0&&n<=y&&x.push({id:`low-${o.id}`,productId:o.id,productName:o.name,sku:o.sku,type:"low-stock",severity:"warning",status:"active",message:`Stock is running low (${n} units remaining)`,currentStock:n,reorderPoint:y,createdAt:new Date().toISOString(),category:((m=o.category)==null?void 0:m.name)||"Unknown"}),n===0&&x.push({id:`out-${o.id}`,productId:o.id,productName:o.name,sku:o.sku,type:"out-of-stock",severity:"critical",status:"active",message:"Product is out of stock",currentStock:n,reorderPoint:y,createdAt:new Date().toISOString(),category:((A=o.category)==null?void 0:A.name)||"Unknown"})}),x}),N=ne,j=p(!1),B=p(""),z=p(null),O=p(null),$=p(null),J=p(null),Z=p(!1),ve=p([{label:"Low Stock",value:"low-stock"},{label:"Out of Stock",value:"out-of-stock"},{label:"Expiring Soon",value:"expiring-soon"},{label:"Expired",value:"expired"},{label:"Overstock",value:"overstock"},{label:"Price Change",value:"price-change"}]),ae=p([{label:"Critical",value:"critical"},{label:"Warning",value:"warning"},{label:"Info",value:"info"}]),T=p([{label:"Active",value:"active"},{label:"Snoozed",value:"snoozed"},{label:"Resolved",value:"resolved"}]),I=p({lowStockThreshold:20,criticalStockThreshold:10,expiryWarningDays:30,expiryCriticalDays:7,emailNotifications:!0,smsNotifications:!1}),V=oe(()=>{let x=[...M.value];if(B.value){const o=B.value.toLowerCase();x=x.filter(n=>n.productName.toLowerCase().includes(o)||n.title.toLowerCase().includes(o)||n.message.toLowerCase().includes(o)||n.batchNumber&&n.batchNumber.toLowerCase().includes(o))}if(z.value&&(x=x.filter(o=>o.type===z.value)),O.value&&(x=x.filter(o=>o.severity===O.value)),$.value&&(x=x.filter(o=>o.status===$.value)),J.value&&J.value.length===2){const[o,n]=J.value;x=x.filter(y=>{const m=new Date(y.createdAt);return m>=o&&m<=n})}return x.sort((o,n)=>{const y={critical:3,warning:2,info:1};return y[o.severity]!==y[n.severity]?y[n.severity]-y[o.severity]:new Date(n.createdAt)-new Date(o.createdAt)})}),Q=oe(()=>{const x=M.value;return{critical:x.filter(o=>o.severity==="critical"&&o.status==="active").length,warning:x.filter(o=>o.severity==="warning"&&o.status==="active").length,info:x.filter(o=>o.severity==="info"&&o.status==="active").length,resolved:x.filter(o=>o.status==="resolved"&&L(o.createdAt)).length}}),F=x=>new Date(x).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),W=x=>new Date(x).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),_=(x,o)=>{switch(o){case"low-stock":case"out-of-stock":case"overstock":return x.toString();case"expiring-soon":case"expired":return Math.abs(x).toString();case"price-change":return`₹${x.toFixed(2)}`;default:return x.toString()}},C=x=>{switch(x){case"low-stock":case"out-of-stock":case"overstock":return"units";case"expiring-soon":case"expired":return"days";case"price-change":return"price";default:return""}},re=(x,o,n)=>{switch(n){case"low-stock":case"out-of-stock":return x===0?"text-red-600":x<=o?"text-orange-600":"text-green-600";case"expiring-soon":return x<=7?"text-red-600":x<=30?"text-orange-600":"text-green-600";case"expired":return"text-red-600";case"overstock":return"text-blue-600";case"price-change":return"text-purple-600";default:return"text-900"}},H=x=>{switch(x){case"critical":return"danger";case"warning":return"warning";case"info":return"info";default:return"secondary"}},xe=x=>{switch(x){case"critical":return"pi pi-exclamation-triangle";case"warning":return"pi pi-exclamation-circle";case"info":return"pi pi-info-circle";default:return"pi pi-circle"}},le=x=>{switch(x){case"active":return"danger";case"snoozed":return"warning";case"resolved":return"success";default:return"secondary"}},L=x=>{const o=new Date,n=new Date(x);return o.toDateString()===n.toDateString()},S=x=>{x.status="resolved",N("alert-resolved",x),console.log("Alert resolved:",x.title)},h=x=>{x.status="snoozed",N("alert-snoozed",x),console.log("Alert snoozed:",x.title)},E=x=>{const o=M.value.findIndex(n=>n.id===x.id);o>-1&&(M.value.splice(o,1),N("alert-dismissed",x),console.log("Alert dismissed:",x.title))},v=x=>{console.log("Viewing alert details:",x)},r=()=>{console.log("Exporting alerts report...")},P=()=>{console.log("Saving alert configuration:",I.value),N("config-updated",I.value),Z.value=!1};return Ae(async()=>{j.value=!0;try{await Y()}catch(x){console.error("Error loading stock alerts data:",x)}finally{j.value=!1}}),(x,o)=>{const n=Pe,y=Ce,m=De,A=et,ce=Ve,de=Ue,q=Ne,b=Be,X=We,ue=st,_e=Ke,u=Me("tooltip");return D(),U("div",el,[e("div",tl,[o[14]||(o[14]=e("div",null,[e("h2",{class:"text-xl font-bold text-900 m-0"},"Stock Alerts"),e("p",{class:"text-600 text-sm mt-1 mb-0"},"Monitor critical stock levels and expiry alerts")],-1)),e("div",sl,[s(n,{label:"Configure Alerts",icon:"pi pi-cog",severity:"secondary",outlined:"",size:"small",onClick:o[0]||(o[0]=t=>Z.value=!0)}),s(n,{label:"Export Report",icon:"pi pi-download",severity:"info",outlined:"",size:"small",onClick:r})])]),e("div",ol,[e("div",ll,[s(y,{class:"alert-summary-card critical-card"},{content:i(()=>[e("div",il,[o[16]||(o[16]=e("div",{class:"alert-icon bg-red-100 text-red-600 mr-3"},[e("i",{class:"pi pi-exclamation-triangle text-xl"})],-1)),e("div",null,[e("div",nl,a(Q.value.critical),1),o[15]||(o[15]=e("div",{class:"text-sm text-600"},"Critical Alerts",-1))])])]),_:1})]),e("div",al,[s(y,{class:"alert-summary-card warning-card"},{content:i(()=>[e("div",rl,[o[18]||(o[18]=e("div",{class:"alert-icon bg-orange-100 text-orange-600 mr-3"},[e("i",{class:"pi pi-exclamation-circle text-xl"})],-1)),e("div",null,[e("div",cl,a(Q.value.warning),1),o[17]||(o[17]=e("div",{class:"text-sm text-600"},"Warning Alerts",-1))])])]),_:1})]),e("div",dl,[s(y,{class:"alert-summary-card info-card"},{content:i(()=>[e("div",ul,[o[20]||(o[20]=e("div",{class:"alert-icon bg-blue-100 text-blue-600 mr-3"},[e("i",{class:"pi pi-info-circle text-xl"})],-1)),e("div",null,[e("div",ml,a(Q.value.info),1),o[19]||(o[19]=e("div",{class:"text-sm text-600"},"Info Alerts",-1))])])]),_:1})]),e("div",pl,[s(y,{class:"alert-summary-card success-card"},{content:i(()=>[e("div",vl,[o[22]||(o[22]=e("div",{class:"alert-icon bg-green-100 text-green-600 mr-3"},[e("i",{class:"pi pi-check-circle text-xl"})],-1)),e("div",null,[e("div",xl,a(Q.value.resolved),1),o[21]||(o[21]=e("div",{class:"text-sm text-600"},"Resolved Today",-1))])])]),_:1})])]),e("div",gl,[e("div",fl,[s(m,{modelValue:z.value,"onUpdate:modelValue":o[1]||(o[1]=t=>z.value=t),options:ve.value,"option-label":"label","option-value":"value",placeholder:"Alert Type",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",yl,[s(m,{modelValue:O.value,"onUpdate:modelValue":o[2]||(o[2]=t=>O.value=t),options:ae.value,"option-label":"label","option-value":"value",placeholder:"Severity",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",bl,[s(m,{modelValue:$.value,"onUpdate:modelValue":o[3]||(o[3]=t=>$.value=t),options:T.value,"option-label":"label","option-value":"value",placeholder:"Status",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",hl,[s(A,{modelValue:J.value,"onUpdate:modelValue":o[4]||(o[4]=t=>J.value=t),"selection-mode":"range","manual-input":!1,placeholder:"Date Range",class:"w-full","show-clear":""},null,8,["modelValue"])]),e("div",_l,[e("div",kl,[o[23]||(o[23]=e("span",{class:"p-inputgroup-addon"},[e("i",{class:"pi pi-search"})],-1)),s(ce,{modelValue:B.value,"onUpdate:modelValue":o[5]||(o[5]=t=>B.value=t),placeholder:"Search alerts...",class:"w-full"},null,8,["modelValue"])])])]),s(y,null,{content:i(()=>[s(b,{value:V.value,paginator:!0,rows:15,loading:j.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[10,15,25,50],"current-page-report-template":"Showing {first} to {last} of {totalRecords} alerts","responsive-layout":"scroll","striped-rows":"",class:"alerts-table"},{default:i(()=>[s(q,{field:"severity",header:"Severity",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:t})=>[e("div",wl,[s(de,{value:t.severity,severity:H(t.severity),icon:xe(t.severity),class:"font-medium"},null,8,["value","severity","icon"])])]),_:1}),s(q,{field:"type",header:"Type",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:t})=>[e("div",Sl,[e("div",$l,a(t.type),1),e("div",Pl,a(t.category),1)])]),_:1}),s(q,{header:"Product/Batch",sortable:!1,style:{"min-width":"200px"}},{body:i(({data:t})=>[e("div",Cl,[e("div",Vl,a(t.productName),1),e("div",Dl,a(t.brand),1),t.batchNumber?(D(),U("div",Al," Batch: "+a(t.batchNumber),1)):ie("",!0)])]),_:1}),s(q,{field:"message",header:"Alert Message",sortable:!1,style:{"min-width":"250px"}},{body:i(({data:t})=>[e("div",Il,[e("div",El,a(t.title),1),e("div",Tl,a(t.message),1)])]),_:1}),s(q,{header:"Current Value",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:t})=>[e("div",Ll,[e("div",{class:te(["font-bold text-lg",re(t.currentValue,t.thresholdValue,t.type)])},a(_(t.currentValue,t.type)),3),e("div",Rl,a(C(t.type)),1)])]),_:1}),s(q,{header:"Threshold",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:t})=>[e("div",Ul,[e("div",Ml,a(_(t.thresholdValue,t.type)),1),o[24]||(o[24]=e("div",{class:"text-xs text-600"},"Limit",-1))])]),_:1}),s(q,{field:"createdAt",header:"Created",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:t})=>[e("div",Nl,[e("div",Bl,a(F(t.createdAt)),1),e("div",zl,a(W(t.createdAt)),1)])]),_:1}),s(q,{field:"status",header:"Status",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:t})=>[s(de,{value:t.status,severity:le(t.status),class:"font-medium"},null,8,["value","severity"])]),_:1}),s(q,{header:"Actions",style:{"min-width":"150px"}},{body:i(({data:t})=>[e("div",Ol,[K(s(n,{icon:"pi pi-check",size:"small",text:"",rounded:"",severity:"success",onClick:l=>S(t),disabled:t.status==="Resolved"},null,8,["onClick","disabled"]),[[u,"Mark Resolved",void 0,{top:!0}]]),K(s(n,{icon:"pi pi-clock",size:"small",text:"",rounded:"",severity:"warning",onClick:l=>h(t),disabled:t.status==="Resolved"},null,8,["onClick","disabled"]),[[u,"Snooze Alert",void 0,{top:!0}]]),K(s(n,{icon:"pi pi-eye",size:"small",text:"",rounded:"",severity:"info",onClick:l=>v(t)},null,8,["onClick"]),[[u,"View Details",void 0,{top:!0}]]),K(s(n,{icon:"pi pi-times",size:"small",text:"",rounded:"",severity:"danger",onClick:l=>E(t)},null,8,["onClick"]),[[u,"Dismiss Alert",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading"])]),_:1}),s(_e,{visible:Z.value,"onUpdate:visible":o[13]||(o[13]=t=>Z.value=t),modal:"",header:"Alert Configuration",style:{width:"700px"},breakpoints:{"960px":"75vw","641px":"90vw"}},{footer:i(()=>[s(n,{label:"Cancel",icon:"pi pi-times",text:"",onClick:o[12]||(o[12]=t=>Z.value=!1)}),s(n,{label:"Save Configuration",icon:"pi pi-check",onClick:P})]),default:i(()=>[e("div",Fl,[o[31]||(o[31]=e("div",{class:"col-12"},[e("h4",{class:"text-lg font-semibold text-900 mb-3"},"Stock Level Alerts")],-1)),e("div",jl,[o[25]||(o[25]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Low Stock Threshold (%)",-1)),s(X,{modelValue:I.value.lowStockThreshold,"onUpdate:modelValue":o[6]||(o[6]=t=>I.value.lowStockThreshold=t),min:1,max:50,suffix:"%"},null,8,["modelValue"])]),e("div",ql,[o[26]||(o[26]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Critical Stock Threshold (%)",-1)),s(X,{modelValue:I.value.criticalStockThreshold,"onUpdate:modelValue":o[7]||(o[7]=t=>I.value.criticalStockThreshold=t),min:1,max:25,suffix:"%"},null,8,["modelValue"])]),o[32]||(o[32]=e("div",{class:"col-12"},[e("h4",{class:"text-lg font-semibold text-900 mb-3 mt-4"},"Expiry Alerts")],-1)),e("div",Gl,[o[27]||(o[27]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Expiry Warning (days)",-1)),s(X,{modelValue:I.value.expiryWarningDays,"onUpdate:modelValue":o[8]||(o[8]=t=>I.value.expiryWarningDays=t),min:1,max:365,suffix:" days"},null,8,["modelValue"])]),e("div",Hl,[o[28]||(o[28]=e("label",{class:"block text-sm font-medium text-900 mb-2"},"Expiry Critical (days)",-1)),s(X,{modelValue:I.value.expiryCriticalDays,"onUpdate:modelValue":o[9]||(o[9]=t=>I.value.expiryCriticalDays=t),min:1,max:30,suffix:" days"},null,8,["modelValue"])]),o[33]||(o[33]=e("div",{class:"col-12"},[e("h4",{class:"text-lg font-semibold text-900 mb-3 mt-4"},"Notification Settings")],-1)),e("div",Ql,[e("div",Wl,[s(ue,{modelValue:I.value.emailNotifications,"onUpdate:modelValue":o[10]||(o[10]=t=>I.value.emailNotifications=t),binary:!0},null,8,["modelValue"]),o[29]||(o[29]=e("label",null,"Enable email notifications",-1))])]),e("div",Kl,[e("div",Yl,[s(ue,{modelValue:I.value.smsNotifications,"onUpdate:modelValue":o[11]||(o[11]=t=>I.value.smsNotifications=t),binary:!0},null,8,["modelValue"]),o[30]||(o[30]=e("label",null,"Enable SMS notifications",-1))])])])]),_:1},8,["visible"])])}}},Jl=Ee(Xl,[["__scopeId","data-v-55bc41bc"]]),Zl={class:"stock-analytics"},ei={class:"flex flex-column md:flex-row justify-content-between align-items-start md:align-items-center mb-4 gap-3"},ti={class:"flex flex-wrap gap-2"},si={class:"grid mb-4"},oi={class:"col-12 md:col-3"},li={class:"flex align-items-center"},ii={class:"text-2xl font-bold text-900"},ni={class:"col-12 md:col-3"},ai={class:"flex align-items-center"},ri={class:"text-2xl font-bold text-900"},ci={class:"col-12 md:col-3"},di={class:"flex align-items-center"},ui={class:"text-2xl font-bold text-900"},mi={class:"col-12 md:col-3"},pi={class:"flex align-items-center"},vi={class:"text-2xl font-bold text-900"},xi={class:"grid"},gi={class:"col-12 md:col-8"},fi={class:"flex justify-content-between align-items-center p-3"},yi={class:"col-12 md:col-4"},bi={class:"top-products"},hi={class:"flex align-items-center"},_i={class:"rank-badge mr-3"},ki={class:"font-semibold text-900"},wi={class:"text-sm text-600"},Si={class:"text-right"},$i={class:"font-bold text-900"},Pi={class:"grid mb-4"},Ci={class:"col-12 md:col-3"},Vi={class:"p-inputgroup"},Di={class:"col-12 md:col-2"},Ai={class:"col-12 md:col-2"},Ii={class:"product-info"},Ei={class:"font-semibold text-900"},Ti={class:"text-sm text-600"},Li={class:"text-xs text-500"},Ri={class:"stock-info text-center"},Ui={class:"min-stock text-center"},Mi={class:"font-medium text-900"},Ni={class:"days-to-stockout text-center"},Bi={class:"last-reorder"},zi={class:"font-medium text-900"},Oi={class:"text-xs text-600"},Fi={class:"suggested-order text-center"},ji={class:"font-bold text-green-600 text-lg"},qi={class:"flex gap-1"},Gi={class:"grid mb-4"},Hi={class:"col-12 md:col-3"},Qi={class:"p-inputgroup"},Wi={class:"col-12 md:col-2"},Ki={class:"col-12 md:col-2"},Yi={class:"product-batch-info"},Xi={class:"font-semibold text-900"},Ji={class:"text-sm text-600"},Zi={class:"text-xs text-500"},en={class:"expiry-date"},tn={class:"font-medium text-900"},sn={class:"stock-quantity text-center"},on={class:"font-bold text-900"},ln={class:"value-at-risk text-right"},nn={class:"font-bold text-red-600"},an={class:"days-to-expiry text-center"},rn={class:"flex gap-1"},cn={__name:"StockAnalytics",emits:["po-created","stock-added","thresholds-updated","discount-applied","batch-returned","batch-disposed"],setup(ke,{emit:ne}){const G=ne,Y=p(!1),M=p(""),N=p(""),j=p("30days"),B=p(null),z=p(null),O=p(null),$=p(null),J=[{label:"Last 7 Days",value:"7days"},{label:"Last 30 Days",value:"30days"},{label:"Last 3 Months",value:"3months"},{label:"Last 6 Months",value:"6months"},{label:"Last Year",value:"1year"}],Z=[{label:"Critical (0-5 units)",value:"critical"},{label:"Low (6-20 units)",value:"low"},{label:"Warning (21-50 units)",value:"warning"}],ve=[{label:"Expired",value:"expired"},{label:"Next 7 Days",value:"7days"},{label:"Next 30 Days",value:"30days"},{label:"Next 90 Days",value:"90days"}],ae=[{label:"Active",value:"active"},{label:"Expiring",value:"expiring"},{label:"Expired",value:"expired"}],{products:T,fetchProducts:I}=Ie(),{categories:V,loadCategories:Q}=je(),F=oe(()=>{if(!T.value.length)return{totalProducts:0,totalValue:0,lowStockItems:0,expiringItems:0};const u=T.value.length,t=T.value.reduce((R,pe)=>R+(pe.currentStock||0)*pe.sellingPrice,0),l=T.value.filter(R=>(R.currentStock||0)<=(R.reorderPoint||10)).length;return{totalProducts:u,totalValue:t,lowStockItems:l,expiringItems:0}}),W=oe(()=>T.value.filter(u=>(u.currentStock||0)<=(u.reorderPoint||10)).map(u=>{var t;return{id:u.id,name:u.name,sku:u.sku,currentStock:u.currentStock||0,reorderPoint:u.reorderPoint||10,category:((t=u.category)==null?void 0:t.name)||"Unknown",sellingPrice:u.sellingPrice,unit:u.unit||"units"}})),_=p([]),C=p([]),re=oe(()=>{let u=[...W.value];if(M.value){const t=M.value.toLowerCase();u=u.filter(l=>l.name.toLowerCase().includes(t)||l.sku.toLowerCase().includes(t)||l.brand.toLowerCase().includes(t))}return B.value&&(u=u.filter(t=>t.category===B.value)),z.value&&(u=u.filter(t=>{switch(z.value){case"critical":return t.currentStock<=5;case"low":return t.currentStock>5&&t.currentStock<=20;case"warning":return t.currentStock>20&&t.currentStock<=50;default:return!0}})),u.sort((t,l)=>t.currentStock-l.currentStock)}),H=oe(()=>{let u=[...C.value];if(N.value){const t=N.value.toLowerCase();u=u.filter(l=>l.productName.toLowerCase().includes(t)||l.batchNumber.toLowerCase().includes(t)||l.brand.toLowerCase().includes(t))}return O.value&&(u=u.filter(t=>{switch(O.value){case"expired":return t.daysToExpiry<0;case"7days":return t.daysToExpiry>=0&&t.daysToExpiry<=7;case"30days":return t.daysToExpiry>=0&&t.daysToExpiry<=30;case"90days":return t.daysToExpiry>=0&&t.daysToExpiry<=90;default:return!0}})),$.value&&(u=u.filter(t=>{switch($.value){case"expired":return t.daysToExpiry<0;case"expiring":return t.daysToExpiry>=0&&t.daysToExpiry<=30;case"active":return t.daysToExpiry>30;default:return!0}})),u.sort((t,l)=>t.daysToExpiry-l.daysToExpiry)}),xe=u=>new Intl.NumberFormat("en-IN",{minimumFractionDigits:0,maximumFractionDigits:0}).format(u),le=u=>new Date(u).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),L=u=>{const t=new Date(u),k=Math.floor((new Date-t)/(1e3*60*60*24));return k===0?"Today":k===1?"Yesterday":k<7?`${k} days ago`:k<30?`${Math.floor(k/7)} weeks ago`:`${Math.floor(k/30)} months ago`},S=u=>{switch(u){case 0:return"success";case 1:return"info";case 2:return"warning";default:return"secondary"}},h=(u,t)=>u===0||u<=t*.2?"text-red-600":u<=t*.5?"text-orange-600":"text-green-600",E=(u,t)=>u===0?"Out of Stock":u<=t*.2?"Critical":u<=t*.5?"Low":u<=t?"Warning":"Normal",v=(u,t)=>u===0||u<=t*.2?"danger":u<=t*.5?"warning":u<=t?"info":"success",r=u=>!u||u<=0||u<=7?"text-red-600":u<=14?"text-orange-600":"text-green-600",P=u=>{const t=new Date,l=new Date(u),k=Math.ceil((l-t)/(1e3*60*60*24));return k<0?"Expired":k===0?"Expires Today":k===1?"Expires Tomorrow":k<=7?`${k} days left`:k<=30?`${k} days left`:"Good"},x=u=>{const t=new Date,l=new Date(u),k=Math.ceil((l-t)/(1e3*60*60*24));return k<0||k<=7?"text-red-600":k<=30?"text-orange-600":"text-green-600"},o=u=>u<0||u<=7?"text-red-600":u<=30?"text-orange-600":"text-green-600",n=u=>u<0?"Dispose":u<=7?"Urgent Sale":u<=30?"Discount Sale":u<=90?"Monitor":"Normal Sale",y=u=>u<0||u<=7?"danger":u<=30?"warning":u<=90?"info":"success",m=()=>{console.log("Exporting analytics report...")},A=()=>{console.log("Scheduling report...")},ce=()=>{console.log("Configuring alerts...")},de=u=>{console.log("Creating PO for:",u),G("po-created",u)},q=u=>{console.log("Adding stock for:",u),G("stock-added",u)},b=u=>{console.log("Updating thresholds for:",u),G("thresholds-updated",u)},X=u=>{console.log("Applying discount to batch:",u),G("discount-applied",u)},ue=u=>{console.log("Returning batch to vendor:",u),G("batch-returned",u)},_e=u=>{console.log("Marking batch for disposal:",u),G("batch-disposed",u)};return Ae(async()=>{Y.value=!0;try{await Promise.all([I(),Q()]),_.value=[{id:1,name:"Paracetamol 500mg",sales:245,revenue:12250,growth:15.2},{id:2,name:"Amoxicillin 250mg",sales:189,revenue:22680,growth:8.7},{id:3,name:"Vitamin D3 1000IU",sales:156,revenue:9360,growth:22.1},{id:4,name:"Insulin Glargine",sales:89,revenue:75650,growth:5.3},{id:5,name:"Metformin 500mg",sales:134,revenue:8040,growth:12.8}],W.value=[{id:1,name:"Paracetamol 500mg",currentStock:15,minStock:50,status:"critical"},{id:2,name:"Amoxicillin 250mg",currentStock:8,minStock:25,status:"critical"},{id:3,name:"Insulin Glargine",currentStock:3,minStock:10,status:"critical"}],C.value=[{id:1,name:"Vitamin B Complex",batch:"VB2024001",expiryDate:"2024-02-15",daysToExpiry:20,quantity:45},{id:2,name:"Calcium Tablets",batch:"CA2024002",expiryDate:"2024-02-28",daysToExpiry:33,quantity:28},{id:3,name:"Iron Supplements",batch:"IR2024003",expiryDate:"2024-03-10",daysToExpiry:44,quantity:67}]}finally{Y.value=!1}}),(u,t)=>{const l=Pe,k=Ce,R=De,pe=Ue,we=Je,ye=Ve,se=Ne,ee=Be,Te=Ze,fe=Me("tooltip");return D(),U("div",Zl,[e("div",ei,[t[7]||(t[7]=e("div",null,[e("h2",{class:"text-xl font-bold text-900 m-0"},"Stock Analytics"),e("p",{class:"text-600 text-sm mt-1 mb-0"},"Comprehensive inventory insights and reports")],-1)),e("div",ti,[s(l,{label:"Export Report",icon:"pi pi-download",severity:"primary",size:"small",onClick:m}),s(l,{label:"Schedule Report",icon:"pi pi-calendar",severity:"secondary",outlined:"",size:"small",onClick:A}),s(l,{label:"Configure Alerts",icon:"pi pi-cog",severity:"info",outlined:"",size:"small",onClick:ce})])]),e("div",si,[e("div",oi,[s(k,{class:"analytics-card"},{content:i(()=>[e("div",li,[t[10]||(t[10]=e("div",{class:"analytics-icon bg-blue-100 text-blue-600 mr-3"},[e("i",{class:"pi pi-box text-xl"})],-1)),e("div",null,[e("div",ii,a(F.value.totalProducts),1),t[8]||(t[8]=e("div",{class:"text-sm text-600"},"Total Products",-1)),t[9]||(t[9]=e("div",{class:"text-xs text-green-600 mt-1"},[e("i",{class:"pi pi-arrow-up mr-1"}),he("+5.2% vs last month ")],-1))])])]),_:1})]),e("div",ni,[s(k,{class:"analytics-card"},{content:i(()=>[e("div",ai,[t[13]||(t[13]=e("div",{class:"analytics-icon bg-green-100 text-green-600 mr-3"},[e("i",{class:"pi pi-chart-line text-xl"})],-1)),e("div",null,[e("div",ri,"₹"+a(xe(F.value.totalValue)),1),t[11]||(t[11]=e("div",{class:"text-sm text-600"},"Total Stock Value",-1)),t[12]||(t[12]=e("div",{class:"text-xs text-green-600 mt-1"},[e("i",{class:"pi pi-arrow-up mr-1"}),he("+12.8% vs last month ")],-1))])])]),_:1})]),e("div",ci,[s(k,{class:"analytics-card"},{content:i(()=>[e("div",di,[t[16]||(t[16]=e("div",{class:"analytics-icon bg-orange-100 text-orange-600 mr-3"},[e("i",{class:"pi pi-exclamation-triangle text-xl"})],-1)),e("div",null,[e("div",ui,a(F.value.lowStockItems),1),t[14]||(t[14]=e("div",{class:"text-sm text-600"},"Low Stock Items",-1)),t[15]||(t[15]=e("div",{class:"text-xs text-red-600 mt-1"},[e("i",{class:"pi pi-arrow-up mr-1"}),he("+3 since yesterday ")],-1))])])]),_:1})]),e("div",mi,[s(k,{class:"analytics-card"},{content:i(()=>[e("div",pi,[t[19]||(t[19]=e("div",{class:"analytics-icon bg-red-100 text-red-600 mr-3"},[e("i",{class:"pi pi-clock text-xl"})],-1)),e("div",null,[e("div",vi,a(F.value.expiringItems),1),t[17]||(t[17]=e("div",{class:"text-sm text-600"},"Expiring Soon",-1)),t[18]||(t[18]=e("div",{class:"text-xs text-orange-600 mt-1"},[e("i",{class:"pi pi-calendar mr-1"}),he("Next 30 days ")],-1))])])]),_:1})])]),s(Te,null,{default:i(()=>[s(we,{header:"Stock Movement"},{default:i(()=>[e("div",xi,[e("div",gi,[s(k,null,{header:i(()=>[e("div",fi,[t[20]||(t[20]=e("h3",{class:"text-lg font-semibold text-900 m-0"},"Stock Movement Trends",-1)),s(R,{modelValue:j.value,"onUpdate:modelValue":t[0]||(t[0]=f=>j.value=f),options:J,"option-label":"label","option-value":"value",placeholder:"Select Period",class:"w-auto"},null,8,["modelValue"])])]),content:i(()=>t[21]||(t[21]=[e("div",{class:"stock-movement-chart"},[e("div",{class:"chart-placeholder"},[e("div",{class:"flex flex-column align-items-center justify-content-center h-20rem"},[e("i",{class:"pi pi-chart-line text-6xl text-300 mb-3"}),e("p",{class:"text-600 text-center"},[he("Stock Movement Chart"),e("br"),e("small",{class:"text-500"},"Interactive chart showing stock in/out trends")])])])],-1)])),_:1})]),e("div",yi,[s(k,null,{header:i(()=>t[22]||(t[22]=[e("div",{class:"p-3"},[e("h3",{class:"text-lg font-semibold text-900 m-0"},"Top Moving Products")],-1)])),content:i(()=>[e("div",bi,[(D(!0),U(He,null,Qe(_.value,(f,me)=>(D(),U("div",{key:f.id,class:"product-item flex justify-content-between align-items-center p-2 border-bottom-1 surface-border"},[e("div",hi,[e("div",_i,[s(pe,{value:me+1,severity:S(me),class:"font-bold"},null,8,["value","severity"])]),e("div",null,[e("div",ki,a(f.name),1),e("div",wi,a(f.brand),1)])]),e("div",Si,[e("div",$i,a(f.movement),1),t[23]||(t[23]=e("div",{class:"text-xs text-600"},"units sold",-1))])]))),128))])]),_:1})])])]),_:1}),s(we,{header:"Low Stock Report"},{default:i(()=>[e("div",Pi,[e("div",Ci,[e("div",Vi,[t[24]||(t[24]=e("span",{class:"p-inputgroup-addon"},[e("i",{class:"pi pi-search"})],-1)),s(ye,{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=f=>M.value=f),placeholder:"Search products...",class:"w-full"},null,8,["modelValue"])])]),e("div",Di,[s(R,{modelValue:B.value,"onUpdate:modelValue":t[2]||(t[2]=f=>B.value=f),options:$e(V),"option-label":"name","option-value":"id",placeholder:"Category",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",Ai,[s(R,{modelValue:z.value,"onUpdate:modelValue":t[3]||(t[3]=f=>z.value=f),options:Z,"option-label":"label","option-value":"value",placeholder:"Stock Level",class:"w-full","show-clear":""},null,8,["modelValue"])])]),s(k,null,{content:i(()=>[s(ee,{value:re.value,paginator:!0,rows:15,loading:Y.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[10,15,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll","striped-rows":"",class:"low-stock-table"},{default:i(()=>[s(se,{field:"name",header:"Product",sortable:!0,style:{"min-width":"200px"}},{body:i(({data:f})=>[e("div",Ii,[e("div",Ei,a(f.name),1),e("div",Ti,a(f.brand),1),e("div",Li,"SKU: "+a(f.sku),1)])]),_:1}),s(se,{field:"currentStock",header:"Current Stock",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:f})=>[e("div",Ri,[e("div",{class:te(["font-bold text-lg",h(f.currentStock,f.minStock)])},a(f.currentStock),3),t[25]||(t[25]=e("div",{class:"text-xs text-600"},"units",-1))])]),_:1}),s(se,{field:"minStock",header:"Min Stock",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:f})=>[e("div",Ui,[e("div",Mi,a(f.minStock),1),t[26]||(t[26]=e("div",{class:"text-xs text-600"},"threshold",-1))])]),_:1}),s(se,{header:"Status",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:f})=>[s(pe,{value:E(f.currentStock,f.minStock),severity:v(f.currentStock,f.minStock),class:"font-medium"},null,8,["value","severity"])]),_:1}),s(se,{header:"Days to Stock Out",sortable:!1,style:{"min-width":"140px"}},{body:i(({data:f})=>[e("div",Ni,[e("div",{class:te(["font-bold text-lg",r(f.daysToStockout)])},a(f.daysToStockout||"N/A"),3),t[27]||(t[27]=e("div",{class:"text-xs text-600"},"days",-1))])]),_:1}),s(se,{field:"lastReorder",header:"Last Reorder",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:f})=>[e("div",Bi,[e("div",zi,a(le(f.lastReorder)),1),e("div",Oi,a(L(f.lastReorder)),1)])]),_:1}),s(se,{header:"Suggested Order",sortable:!1,style:{"min-width":"140px"}},{body:i(({data:f})=>[e("div",Fi,[e("div",ji,a(f.suggestedOrder),1),t[28]||(t[28]=e("div",{class:"text-xs text-600"},"units",-1))])]),_:1}),s(se,{header:"Actions",style:{"min-width":"150px"}},{body:i(({data:f})=>[e("div",qi,[K(s(l,{icon:"pi pi-shopping-cart",size:"small",text:"",rounded:"",severity:"primary",onClick:me=>de(f)},null,8,["onClick"]),[[fe,"Create Purchase Order",void 0,{top:!0}]]),K(s(l,{icon:"pi pi-plus",size:"small",text:"",rounded:"",severity:"success",onClick:me=>q(f)},null,8,["onClick"]),[[fe,"Add Stock",void 0,{top:!0}]]),K(s(l,{icon:"pi pi-cog",size:"small",text:"",rounded:"",severity:"secondary",onClick:me=>b(f)},null,8,["onClick"]),[[fe,"Update Thresholds",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading"])]),_:1})]),_:1}),s(we,{header:"Expiry Report"},{default:i(()=>[e("div",Gi,[e("div",Hi,[e("div",Qi,[t[29]||(t[29]=e("span",{class:"p-inputgroup-addon"},[e("i",{class:"pi pi-search"})],-1)),s(ye,{modelValue:N.value,"onUpdate:modelValue":t[4]||(t[4]=f=>N.value=f),placeholder:"Search products...",class:"w-full"},null,8,["modelValue"])])]),e("div",Wi,[s(R,{modelValue:O.value,"onUpdate:modelValue":t[5]||(t[5]=f=>O.value=f),options:ve,"option-label":"label","option-value":"value",placeholder:"Expiry Range",class:"w-full","show-clear":""},null,8,["modelValue"])]),e("div",Ki,[s(R,{modelValue:$.value,"onUpdate:modelValue":t[6]||(t[6]=f=>$.value=f),options:ae,"option-label":"label","option-value":"value",placeholder:"Batch Status",class:"w-full","show-clear":""},null,8,["modelValue"])])]),s(k,null,{content:i(()=>[s(ee,{value:H.value,paginator:!0,rows:15,loading:Y.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[10,15,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} batches","responsive-layout":"scroll","striped-rows":"",class:"expiry-table"},{default:i(()=>[s(se,{header:"Product/Batch",sortable:!1,style:{"min-width":"200px"}},{body:i(({data:f})=>[e("div",Yi,[e("div",Xi,a(f.productName),1),e("div",Ji,a(f.brand),1),e("div",Zi,"Batch: "+a(f.batchNumber),1)])]),_:1}),s(se,{field:"expiryDate",header:"Expiry Date",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:f})=>[e("div",en,[e("div",tn,a(le(f.expiryDate)),1),e("div",{class:te(["text-xs",x(f.expiryDate)])},a(P(f.expiryDate)),3)])]),_:1}),s(se,{field:"quantity",header:"Stock Qty",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:f})=>[e("div",sn,[e("div",on,a(f.quantity),1),t[30]||(t[30]=e("div",{class:"text-xs text-600"},"units",-1))])]),_:1}),s(se,{header:"Value at Risk",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:f})=>[e("div",ln,[e("div",nn,"₹"+a(xe(f.valueAtRisk)),1),t[31]||(t[31]=e("div",{class:"text-xs text-600"},"potential loss",-1))])]),_:1}),s(se,{header:"Days to Expiry",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:f})=>[e("div",an,[e("div",{class:te(["font-bold text-lg",o(f.daysToExpiry)])},a(f.daysToExpiry),3),t[32]||(t[32]=e("div",{class:"text-xs text-600"},"days",-1))])]),_:1}),s(se,{header:"Recommended Action",sortable:!1,style:{"min-width":"150px"}},{body:i(({data:f})=>[s(pe,{value:n(f.daysToExpiry),severity:y(f.daysToExpiry),class:"font-medium"},null,8,["value","severity"])]),_:1}),s(se,{header:"Actions",style:{"min-width":"150px"}},{body:i(({data:f})=>[e("div",rn,[K(s(l,{icon:"pi pi-percentage",size:"small",text:"",rounded:"",severity:"warning",onClick:me=>X(f)},null,8,["onClick"]),[[fe,"Apply Discount",void 0,{top:!0}]]),K(s(l,{icon:"pi pi-send",size:"small",text:"",rounded:"",severity:"info",onClick:me=>ue(f)},null,8,["onClick"]),[[fe,"Return to Vendor",void 0,{top:!0}]]),K(s(l,{icon:"pi pi-trash",size:"small",text:"",rounded:"",severity:"danger",onClick:me=>_e(f)},null,8,["onClick"]),[[fe,"Mark for Disposal",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading"])]),_:1})]),_:1})]),_:1})])}}},dn=Ee(cn,[["__scopeId","data-v-f8b376b8"]]),un={class:"cost-analysis"},mn={class:"flex flex-column md:flex-row justify-content-between align-items-start md:align-items-center mb-4 gap-3"},pn={class:"flex flex-wrap gap-2"},vn={class:"grid mb-4"},xn={class:"col-12 lg:col-8"},gn={class:"grid mb-3"},fn={class:"col-12 md:col-6"},yn={class:"flex align-items-center justify-content-between"},bn={class:"text-3xl font-bold text-900"},hn={class:"text-xs text-green-600 mt-1"},_n={class:"col-12 md:col-6"},kn={class:"flex align-items-center justify-content-between"},wn={class:"text-3xl font-bold text-900"},Sn={class:"text-xs text-purple-600 mt-1"},$n={class:"grid"},Pn={class:"col-12 md:col-4"},Cn={class:"text-center"},Vn={class:"text-2xl font-bold text-900"},Dn={class:"col-12 md:col-4"},An={class:"text-center"},In={class:"text-2xl font-bold text-900"},En={class:"text-xs text-red-600 mt-1"},Tn={class:"col-12 md:col-4"},Ln={class:"text-center"},Rn={class:"text-2xl font-bold text-900"},Un={class:"text-xs text-indigo-600 mt-1"},Mn={class:"col-12 lg:col-4"},Nn={class:"flex align-items-center justify-content-between p-3 pb-0"},Bn={class:"report-stats"},zn={class:"stat-item flex justify-content-between align-items-center mb-3"},On={class:"font-bold text-900"},Fn={class:"stat-item flex justify-content-between align-items-center mb-3"},jn={class:"font-bold text-green-600"},qn={class:"stat-item flex justify-content-between align-items-center mb-3"},Gn={class:"font-bold text-purple-600"},Hn={class:"stat-item flex justify-content-between align-items-center"},Qn={class:"font-bold text-indigo-600"},Wn={class:"flex align-items-center"},Kn={class:"flex-1"},Yn={class:"text-xs text-600 mb-1"},Xn={class:"flex gap-2"},Jn={class:"quick-actions-grid"},Zn={class:"grid mb-4"},ea={class:"col-12 md:col-3"},ta={class:"p-inputgroup"},sa={class:"col-12 md:col-2"},oa={class:"col-12 md:col-2"},la={class:"col-12 md:col-2"},ia={class:"product-info"},na={class:"font-semibold text-900"},aa={class:"text-sm text-600"},ra={class:"text-xs text-500"},ca={class:"purchase-cost text-right"},da={class:"font-medium text-900"},ua={class:"text-xs text-600"},ma={class:"sale-revenue text-right"},pa={class:"font-medium text-900"},va={class:"text-xs text-600"},xa={class:"gross-profit text-right"},ga={class:"profit-margin text-center"},fa={class:"roi text-center"},ya={class:"turnover-rate text-center"},ba={class:"font-medium text-900"},ha={class:"flex gap-1"},_a={class:"grid"},ka={class:"col-12 md:col-8"},wa={class:"flex justify-content-between align-items-center p-3"},Sa={class:"col-12 md:col-4"},$a={class:"cost-categories"},Pa={class:"flex align-items-center"},Ca={class:"font-semibold text-900"},Va={class:"text-sm text-600"},Da={class:"text-right"},Aa={class:"font-bold text-900"},Ia={class:"text-xs text-600"},Ea={class:"grid mb-4"},Ta={class:"col-12 md:col-3"},La={class:"p-inputgroup"},Ra={class:"col-12 md:col-2"},Ua={class:"col-12 md:col-2"},Ma={class:"product-info"},Na={class:"font-semibold text-900"},Ba={class:"text-sm text-600"},za={class:"text-xs text-500"},Oa={class:"stock-age text-center"},Fa={class:"quantity text-center"},ja={class:"font-medium text-900"},qa={class:"investment-value text-right"},Ga={class:"font-bold text-red-600"},Ha={class:"last-sale"},Qa={class:"font-medium text-900"},Wa={class:"text-xs text-600"},Ka={class:"flex gap-1"},Ya={__name:"CostAnalysis",emits:["pricing-optimized","dead-stock-processed","cost-analysis-updated"],setup(ke,{emit:ne}){const G=ne,Y=p(!1),M=p(""),N=p(""),j=p(null),B=p(null),z=p("30days"),O=p(null),$=p(null),J=p(null),{fetchProducts:Z}=Ie(),{categories:ve,loadCategories:ae}=je(),T=p([{label:"High Profit (>30%)",value:"high"},{label:"Medium Profit (15-30%)",value:"medium"},{label:"Low Profit (5-15%)",value:"low"},{label:"Loss Making (<5%)",value:"loss"}]),I=p([{label:"Last 7 Days",value:"7days"},{label:"Last 30 Days",value:"30days"},{label:"Last 3 Months",value:"3months"},{label:"Last 6 Months",value:"6months"}]),V=p([{label:"30-60 Days",value:"30-60"},{label:"60-90 Days",value:"60-90"},{label:"90-180 Days",value:"90-180"},{label:"180+ Days",value:"180+"}]),Q=p([{label:"Low Value (<₹1000)",value:"low"},{label:"Medium Value (₹1000-5000)",value:"medium"},{label:"High Value (>₹5000)",value:"high"}]);p([]),p([]);const F=p({totalSaleRevenue:0,revenueGrowth:0,totalCostPrice:0,costGrowth:0,grossProfit:0,profitGrowth:0,profitMargin:0}),W=p({todaySales:0,todayProfit:0,todayMargin:0,todayTransactions:0}),_=p({nearExpiryValue:0,nearExpiryItems:0,potentialLoss:0}),C=p([]),re=p([]),H=p([]);Ae(async()=>{Y.value=!0;try{await Promise.all([Z(),ae()]),F.value={totalSaleRevenue:285600,revenueGrowth:15.2,totalCostPrice:198420,costGrowth:8.7,grossProfit:87180,profitGrowth:28.5,profitMargin:30.5},W.value={todaySales:45250,todayProfit:13575,todayMargin:30,todayTransactions:47},_.value={nearExpiryValue:12450,nearExpiryItems:23,potentialLoss:8715},C.value=[{category:"Prescription Drugs",cost:125e3,revenue:18e4,profit:55e3,margin:30.6},{category:"OTC Medicines",cost:45e3,revenue:65e3,profit:2e4,margin:30.8},{category:"Vitamins & Supplements",cost:18420,revenue:28600,profit:10180,margin:35.6},{category:"Medical Devices",cost:1e4,revenue:12e3,profit:2e3,margin:16.7}],re.value=[{product:"Paracetamol 500mg",costPrice:45,sellingPrice:65,profit:20,margin:30.8,sales:245},{product:"Amoxicillin 250mg",costPrice:120,sellingPrice:180,profit:60,margin:33.3,sales:189},{product:"Vitamin D3 1000IU",costPrice:60,sellingPrice:85,profit:25,margin:29.4,sales:156}],H.value=[{product:"Old Formula Cough Syrup",costPrice:85,currentStock:45,daysStagnant:180,potentialLoss:3825},{product:"Discontinued Pain Relief",costPrice:120,currentStock:28,daysStagnant:150,potentialLoss:3360}]}finally{Y.value=!1}});const xe=oe(()=>{let t=[...re.value];if(M.value){const l=M.value.toLowerCase();t=t.filter(k=>k.name.toLowerCase().includes(l)||k.sku.toLowerCase().includes(l)||k.brand.toLowerCase().includes(l))}return j.value&&(t=t.filter(l=>l.category===j.value)),B.value&&(t=t.filter(l=>{switch(B.value){case"high":return l.profitMargin>30;case"medium":return l.profitMargin>=15&&l.profitMargin<=30;case"low":return l.profitMargin>=5&&l.profitMargin<15;case"loss":return l.profitMargin<5;default:return!0}})),t.sort((l,k)=>k.profitMargin-l.profitMargin)}),le=oe(()=>{let t=[...H.value];if(N.value){const l=N.value.toLowerCase();t=t.filter(k=>k.name.toLowerCase().includes(l)||k.sku.toLowerCase().includes(l)||k.brand.toLowerCase().includes(l))}return O.value&&(t=t.filter(l=>{switch(O.value){case"30-60":return l.stockAge>=30&&l.stockAge<=60;case"60-90":return l.stockAge>60&&l.stockAge<=90;case"90-180":return l.stockAge>90&&l.stockAge<=180;case"180+":return l.stockAge>180;default:return!0}})),$.value&&(t=t.filter(l=>{switch($.value){case"low":return l.investmentValue<1e3;case"medium":return l.investmentValue>=1e3&&l.investmentValue<=5e3;case"high":return l.investmentValue>5e3;default:return!0}})),t.sort((l,k)=>k.stockAge-l.stockAge)}),L=t=>new Intl.NumberFormat("en-IN",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t),S=t=>new Date(t).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),h=t=>{const l=new Date(t),R=Math.floor((new Date-l)/(1e3*60*60*24));return R===0?"Today":R===1?"Yesterday":R<7?`${R} days ago`:R<30?`${Math.floor(R/7)} weeks ago`:`${Math.floor(R/30)} months ago`},E=t=>t<0?"text-red-600":t<1e3?"text-orange-600":t<5e3?"text-blue-600":"text-green-600",v=t=>t<5?"text-red-600":t<15?"text-orange-600":t<30?"text-blue-600":"text-green-600",r=t=>t<10?"text-red-600":t<20?"text-orange-600":t<35?"text-blue-600":"text-green-600",P=(t,l)=>t>30&&l>3?"Excellent":t>20&&l>2?"Good":t>10&&l>1?"Average":"Poor",x=(t,l)=>t>30&&l>3?"success":t>20&&l>2?"info":t>10&&l>1?"warning":"danger",o=t=>t>180?"text-red-600":t>90?"text-orange-600":t>60?"text-blue-600":"text-green-600",n=t=>{switch(t){case"Expired":return"danger";case"Discontinued":return"danger";case"Low Demand":return"warning";case"Seasonal":return"info";case"Overstocked":return"secondary";default:return"secondary"}},y=(t,l)=>l==="Expired"?"Dispose":l==="Discontinued"?"Liquidate":t>180?"Write Off":t>90?"Deep Discount":t>60?"Discount Sale":"Monitor",m=t=>t>180?"danger":t>90?"warning":t>60?"info":"secondary",A=()=>{console.log("Exporting cost analysis...")},ce=()=>{console.log("Showing cost optimization suggestions...")},de=()=>{console.log("Generating profit report...")},q=t=>{console.log("Viewing trends for:",t)},b=t=>{console.log("Optimizing pricing for:",t),G("pricing-optimized",t)},X=t=>{console.log("Detailed analysis for:",t)},ue=t=>{console.log("Applying discount to dead stock:",t),G("dead-stock-processed",{action:"discount",item:t})},_e=t=>{console.log("Returning dead stock to vendor:",t),G("dead-stock-processed",{action:"return",item:t})},u=t=>{console.log("Writing off dead stock:",t),G("dead-stock-processed",{action:"writeoff",item:t})};return(t,l)=>{const k=Pe,R=Ce,pe=Ue,we=Ve,ye=De,se=et,ee=Ne,Te=Be,fe=Je,f=Ze,me=Me("tooltip");return D(),U("div",un,[e("div",mn,[l[8]||(l[8]=e("div",null,[e("h2",{class:"text-xl font-bold text-900 m-0"},"Inventory Cost Analysis"),e("p",{class:"text-600 text-sm mt-1 mb-0"},"Purchase vs sale tracking, profit analysis, and cost optimization")],-1)),e("div",pn,[s(k,{label:"Export Analysis",icon:"pi pi-download",severity:"primary",size:"small",onClick:A}),s(k,{label:"Cost Optimization",icon:"pi pi-chart-line",severity:"secondary",outlined:"",size:"small",onClick:ce}),s(k,{label:"Profit Report",icon:"pi pi-money-bill",severity:"success",outlined:"",size:"small",onClick:de})])]),e("div",vn,[e("div",xn,[e("div",gn,[e("div",fn,[s(R,{class:"cost-card financial-card"},{content:i(()=>[e("div",yn,[e("div",null,[l[10]||(l[10]=e("div",{class:"text-sm text-600 mb-1"},"TOTAL SALES",-1)),e("div",bn,"₹"+a(L(F.value.totalSaleRevenue)),1),e("div",hn,[l[9]||(l[9]=e("i",{class:"pi pi-arrow-up mr-1"},null,-1)),he("+"+a(F.value.revenueGrowth)+"% vs last month ",1)])]),l[11]||(l[11]=e("div",{class:"cost-icon bg-green-100 text-green-600"},[e("i",{class:"pi pi-money-bill text-2xl"})],-1))])]),_:1})]),e("div",_n,[s(R,{class:"cost-card financial-card"},{content:i(()=>[e("div",kn,[e("div",null,[l[12]||(l[12]=e("div",{class:"text-sm text-600 mb-1"},"GROSS PROFIT",-1)),e("div",wn,"₹"+a(L(F.value.grossProfit)),1),e("div",Sn,a(F.value.profitMargin)+"% Profit Margin ",1)]),l[13]||(l[13]=e("div",{class:"cost-icon bg-purple-100 text-purple-600"},[e("i",{class:"pi pi-chart-bar text-2xl"})],-1))])]),_:1})])]),e("div",$n,[e("div",Pn,[s(R,{class:"cost-card metric-card"},{content:i(()=>[e("div",Cn,[l[14]||(l[14]=e("div",{class:"cost-icon bg-blue-100 text-blue-600 mx-auto mb-3"},[e("i",{class:"pi pi-shopping-bag text-xl"})],-1)),l[15]||(l[15]=e("div",{class:"text-sm text-600 mb-1"},"COST OF GOODS",-1)),e("div",Vn,"₹"+a(L(F.value.totalPurchaseCost)),1),l[16]||(l[16]=e("div",{class:"text-xs text-blue-600 mt-1"},"This Month",-1))])]),_:1})]),e("div",Dn,[s(R,{class:"cost-card metric-card"},{content:i(()=>[e("div",An,[l[17]||(l[17]=e("div",{class:"cost-icon bg-orange-100 text-orange-600 mx-auto mb-3"},[e("i",{class:"pi pi-exclamation-triangle text-xl"})],-1)),l[18]||(l[18]=e("div",{class:"text-sm text-600 mb-1"},"DEAD STOCK",-1)),e("div",In,"₹"+a(L(F.value.deadStock)),1),e("div",En,a(F.value.deadStockItems)+" items",1)])]),_:1})]),e("div",Tn,[s(R,{class:"cost-card metric-card"},{content:i(()=>[e("div",Ln,[l[19]||(l[19]=e("div",{class:"cost-icon bg-indigo-100 text-indigo-600 mx-auto mb-3"},[e("i",{class:"pi pi-percentage text-xl"})],-1)),l[20]||(l[20]=e("div",{class:"text-sm text-600 mb-1"},"NET PROFIT",-1)),e("div",Rn,"₹"+a(L(F.value.netProfit)),1),e("div",Un,a(F.value.netMargin)+"% margin",1)])]),_:1})])])]),e("div",Mn,[s(R,{class:"cost-card report-card mb-3"},{header:i(()=>[e("div",Nn,[l[21]||(l[21]=e("h4",{class:"text-lg font-semibold text-900 m-0"},"Today's Report",-1)),s(pe,{value:"LIVE",severity:"success",class:"font-bold"})])]),content:i(()=>[e("div",Bn,[e("div",zn,[l[22]||(l[22]=e("span",{class:"text-sm text-600"},"Orders",-1)),e("span",On,a(W.value.orders),1)]),e("div",Fn,[l[23]||(l[23]=e("span",{class:"text-sm text-600"},"Sales",-1)),e("span",jn,"₹"+a(L(W.value.sales)),1)]),e("div",qn,[l[24]||(l[24]=e("span",{class:"text-sm text-600"},"Gross P",-1)),e("span",Gn,"₹"+a(L(W.value.grossProfit)),1)]),e("div",Hn,[l[25]||(l[25]=e("span",{class:"text-sm text-600"},"Net P",-1)),e("span",Qn,"₹"+a(L(W.value.netProfit)),1)])])]),_:1}),s(R,{class:"cost-card alert-card mb-3"},{content:i(()=>[e("div",Wn,[l[27]||(l[27]=e("div",{class:"alert-icon bg-red-100 text-red-600 mr-3"},[e("i",{class:"pi pi-clock text-xl"})],-1)),e("div",Kn,[l[26]||(l[26]=e("div",{class:"text-sm font-semibold text-900"},"NEAR EXPIRY",-1)),e("div",Yn,a(_.value.items)+" items expiring",1),e("div",Xn,[s(pe,{value:"3M: 5",severity:"danger",class:"text-xs"}),s(pe,{value:"10M: 2",severity:"warning",class:"text-xs"}),s(pe,{value:"5M: 0",severity:"success",class:"text-xs"})])])])]),_:1}),s(R,{class:"cost-card actions-card"},{header:i(()=>l[28]||(l[28]=[e("div",{class:"p-3 pb-0"},[e("h4",{class:"text-sm font-semibold text-900 m-0"},"QUICK ACTIONS")],-1)])),content:i(()=>[e("div",Jn,[s(k,{label:"Monthly P/L",icon:"pi pi-chart-line",size:"small",class:"w-full mb-2",severity:"info",onClick:de}),s(k,{label:"Cost Analysis",icon:"pi pi-calculator",size:"small",class:"w-full mb-2",severity:"secondary",outlined:"",onClick:ce}),s(k,{label:"Export Data",icon:"pi pi-download",size:"small",class:"w-full",severity:"success",outlined:"",onClick:A})])]),_:1})])]),s(f,null,{default:i(()=>[s(fe,{header:"Product Profitability"},{default:i(()=>[e("div",Zn,[e("div",ea,[e("div",ta,[l[29]||(l[29]=e("span",{class:"p-inputgroup-addon"},[e("i",{class:"pi pi-search"})],-1)),s(we,{modelValue:M.value,"onUpdate:modelValue":l[0]||(l[0]=g=>M.value=g),placeholder:"Search products...",class:"w-full"},null,8,["modelValue"])])]),e("div",sa,[s(ye,{modelValue:j.value,"onUpdate:modelValue":l[1]||(l[1]=g=>j.value=g),options:$e(ve),"option-label":"name","option-value":"id",placeholder:"Category",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",oa,[s(ye,{modelValue:B.value,"onUpdate:modelValue":l[2]||(l[2]=g=>B.value=g),options:T.value,"option-label":"label","option-value":"value",placeholder:"Profit Range",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",la,[s(se,{modelValue:J.value,"onUpdate:modelValue":l[3]||(l[3]=g=>J.value=g),"selection-mode":"range","manual-input":!1,placeholder:"Date Range",class:"w-full","show-clear":""},null,8,["modelValue"])])]),s(R,null,{content:i(()=>[s(Te,{value:xe.value,paginator:!0,rows:15,loading:Y.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[10,15,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll","striped-rows":"",class:"profitability-table"},{default:i(()=>[s(ee,{field:"name",header:"Product",sortable:!0,style:{"min-width":"200px"}},{body:i(({data:g})=>[e("div",ia,[e("div",na,a(g.name),1),e("div",aa,a(g.brand),1),e("div",ra,"SKU: "+a(g.sku),1)])]),_:1}),s(ee,{field:"totalPurchaseCost",header:"Purchase Cost",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:g})=>[e("div",ca,[e("div",da,"₹"+a(L(g.totalPurchaseCost)),1),e("div",ua,a(g.unitsSold)+" units",1)])]),_:1}),s(ee,{field:"totalSaleRevenue",header:"Sale Revenue",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:g})=>[e("div",ma,[e("div",pa,"₹"+a(L(g.totalSaleRevenue)),1),e("div",va,"Avg: ₹"+a(L(g.avgSellingPrice)),1)])]),_:1}),s(ee,{header:"Gross Profit",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:g})=>[e("div",xa,[e("div",{class:te(["font-bold text-lg",E(g.grossProfit)])}," ₹"+a(L(g.grossProfit)),3),l[30]||(l[30]=e("div",{class:"text-xs text-600"},"Net Gain",-1))])]),_:1}),s(ee,{header:"Profit Margin",sortable:!1,style:{"min-width":"100px"}},{body:i(({data:g})=>[e("div",ga,[e("div",{class:te(["font-bold text-lg",v(g.profitMargin)])},a(g.profitMargin)+"% ",3),l[31]||(l[31]=e("div",{class:"text-xs text-600"},"Margin",-1))])]),_:1}),s(ee,{header:"ROI",sortable:!1,style:{"min-width":"100px"}},{body:i(({data:g})=>[e("div",fa,[e("div",{class:te(["font-bold text-lg",r(g.roi)])},a(g.roi)+"% ",3),l[32]||(l[32]=e("div",{class:"text-xs text-600"},"Return",-1))])]),_:1}),s(ee,{header:"Turnover Rate",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:g})=>[e("div",ya,[e("div",ba,a(g.turnoverRate)+"x",1),l[33]||(l[33]=e("div",{class:"text-xs text-600"},"per month",-1))])]),_:1}),s(ee,{header:"Performance",sortable:!1,style:{"min-width":"120px"}},{body:i(({data:g})=>[s(pe,{value:P(g.profitMargin,g.turnoverRate),severity:x(g.profitMargin,g.turnoverRate),class:"font-medium"},null,8,["value","severity"])]),_:1}),s(ee,{header:"Actions",style:{"min-width":"150px"}},{body:i(({data:g})=>[e("div",ha,[K(s(k,{icon:"pi pi-chart-line",size:"small",text:"",rounded:"",severity:"info",onClick:Se=>q(g)},null,8,["onClick"]),[[me,"View Trends",void 0,{top:!0}]]),K(s(k,{icon:"pi pi-cog",size:"small",text:"",rounded:"",severity:"secondary",onClick:Se=>b(g)},null,8,["onClick"]),[[me,"Optimize Pricing",void 0,{top:!0}]]),K(s(k,{icon:"pi pi-eye",size:"small",text:"",rounded:"",severity:"primary",onClick:Se=>X(g)},null,8,["onClick"]),[[me,"Detailed Analysis",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading"])]),_:1})]),_:1}),s(fe,{header:"Cost Breakdown"},{default:i(()=>[e("div",_a,[e("div",ka,[s(R,null,{header:i(()=>[e("div",wa,[l[34]||(l[34]=e("h3",{class:"text-lg font-semibold text-900 m-0"},"Cost Distribution",-1)),s(ye,{modelValue:z.value,"onUpdate:modelValue":l[4]||(l[4]=g=>z.value=g),options:I.value,"option-label":"label","option-value":"value",placeholder:"Select Period",class:"w-auto"},null,8,["modelValue","options"])])]),content:i(()=>l[35]||(l[35]=[e("div",{class:"cost-breakdown-chart"},[e("div",{class:"chart-placeholder"},[e("div",{class:"flex flex-column align-items-center justify-content-center h-20rem"},[e("i",{class:"pi pi-chart-pie text-6xl text-300 mb-3"}),e("p",{class:"text-600 text-center"},[he("Cost Breakdown Chart"),e("br"),e("small",{class:"text-500"},"Interactive pie chart showing cost distribution")])])])],-1)])),_:1})]),e("div",Sa,[s(R,null,{header:i(()=>l[36]||(l[36]=[e("div",{class:"p-3"},[e("h3",{class:"text-lg font-semibold text-900 m-0"},"Cost Categories")],-1)])),content:i(()=>[e("div",$a,[(D(!0),U(He,null,Qe(C.value,g=>(D(),U("div",{key:g.name,class:"category-item flex justify-content-between align-items-center p-3 border-bottom-1 surface-border"},[e("div",Pa,[e("div",{class:"category-color mr-3",style:vt({backgroundColor:g.color})},null,4),e("div",null,[e("div",Ca,a(g.name),1),e("div",Va,a(g.percentage)+"% of total",1)])]),e("div",Da,[e("div",Aa,"₹"+a(L(g.amount)),1),e("div",Ia,a(g.items)+" items",1)])]))),128))])]),_:1})])])]),_:1}),s(fe,{header:"Dead Stock Analysis"},{default:i(()=>[e("div",Ea,[e("div",Ta,[e("div",La,[l[37]||(l[37]=e("span",{class:"p-inputgroup-addon"},[e("i",{class:"pi pi-search"})],-1)),s(we,{modelValue:N.value,"onUpdate:modelValue":l[5]||(l[5]=g=>N.value=g),placeholder:"Search products...",class:"w-full"},null,8,["modelValue"])])]),e("div",Ra,[s(ye,{modelValue:O.value,"onUpdate:modelValue":l[6]||(l[6]=g=>O.value=g),options:V.value,"option-label":"label","option-value":"value",placeholder:"Age Range",class:"w-full","show-clear":""},null,8,["modelValue","options"])]),e("div",Ua,[s(ye,{modelValue:$.value,"onUpdate:modelValue":l[7]||(l[7]=g=>$.value=g),options:Q.value,"option-label":"label","option-value":"value",placeholder:"Value Range",class:"w-full","show-clear":""},null,8,["modelValue","options"])])]),s(R,null,{content:i(()=>[s(Te,{value:le.value,paginator:!0,rows:15,loading:Y.value,"paginator-template":"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown","rows-per-page-options":[10,15,25],"current-page-report-template":"Showing {first} to {last} of {totalRecords} products","responsive-layout":"scroll","striped-rows":"",class:"dead-stock-table"},{default:i(()=>[s(ee,{field:"name",header:"Product",sortable:!0,style:{"min-width":"200px"}},{body:i(({data:g})=>[e("div",Ma,[e("div",Na,a(g.name),1),e("div",Ba,a(g.brand),1),e("div",za,"SKU: "+a(g.sku),1)])]),_:1}),s(ee,{field:"stockAge",header:"Stock Age",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:g})=>[e("div",Oa,[e("div",{class:te(["font-bold text-lg",o(g.stockAge)])},a(g.stockAge),3),l[38]||(l[38]=e("div",{class:"text-xs text-600"},"days",-1))])]),_:1}),s(ee,{field:"quantity",header:"Quantity",sortable:!0,style:{"min-width":"100px"}},{body:i(({data:g})=>[e("div",Fa,[e("div",ja,a(g.quantity),1),l[39]||(l[39]=e("div",{class:"text-xs text-600"},"units",-1))])]),_:1}),s(ee,{field:"investmentValue",header:"Investment Value",sortable:!0,style:{"min-width":"140px"}},{body:i(({data:g})=>[e("div",qa,[e("div",Ga,"₹"+a(L(g.investmentValue)),1),l[40]||(l[40]=e("div",{class:"text-xs text-600"},"locked capital",-1))])]),_:1}),s(ee,{field:"lastSale",header:"Last Sale",sortable:!0,style:{"min-width":"120px"}},{body:i(({data:g})=>[e("div",Ha,[e("div",Qa,a(S(g.lastSale)),1),e("div",Wa,a(h(g.lastSale)),1)])]),_:1}),s(ee,{field:"reason",header:"Reason",sortable:!1,style:{"min-width":"150px"}},{body:i(({data:g})=>[s(pe,{value:g.reason,severity:n(g.reason),class:"font-medium"},null,8,["value","severity"])]),_:1}),s(ee,{header:"Recommended Action",sortable:!1,style:{"min-width":"150px"}},{body:i(({data:g})=>[s(pe,{value:y(g.stockAge,g.reason),severity:m(g.stockAge),class:"font-medium"},null,8,["value","severity"])]),_:1}),s(ee,{header:"Actions",style:{"min-width":"150px"}},{body:i(({data:g})=>[e("div",Ka,[K(s(k,{icon:"pi pi-percentage",size:"small",text:"",rounded:"",severity:"warning",onClick:Se=>ue(g)},null,8,["onClick"]),[[me,"Apply Discount",void 0,{top:!0}]]),K(s(k,{icon:"pi pi-send",size:"small",text:"",rounded:"",severity:"info",onClick:Se=>_e(g)},null,8,["onClick"]),[[me,"Return to Vendor",void 0,{top:!0}]]),K(s(k,{icon:"pi pi-trash",size:"small",text:"",rounded:"",severity:"danger",onClick:Se=>u(g)},null,8,["onClick"]),[[me,"Write Off",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","loading"])]),_:1})]),_:1})]),_:1})])}}},Xa=Ee(Ya,[["__scopeId","data-v-2321c63f"]]),Ja={class:"inventory-page"},Za={key:0,class:"loading-overlay"},er={class:"flex flex-column md:flex-row justify-content-between align-items-start md:align-items-center mb-4 gap-3"},tr={class:"text-600 text-sm mt-1 mb-0"},sr={class:"flex flex-wrap gap-2"},or={class:"grid mb-4"},lr={class:"col-6 md:col-3"},ir={class:"text-900 font-bold text-xl"},nr={class:"col-6 md:col-3"},ar={class:"text-900 font-bold text-xl"},rr={key:0,class:"text-green-500 text-sm mt-1"},cr={class:"col-6 md:col-3"},dr={class:"text-900 font-bold text-xl"},ur={key:0,class:"text-yellow-500 text-sm mt-1"},mr={class:"col-6 md:col-3"},pr={class:"text-900 font-bold text-xl"},vr={key:0,class:"text-red-500 text-sm mt-1"},xr={class:"grid mb-4"},gr={class:"col-12 md:col-4"},fr={class:"grid"},yr={class:"col-6"},br={class:"col-6"},hr={class:"col-6"},_r={class:"col-6"},kr={class:"col-12 md:col-4"},wr={class:"flex align-items-center"},Sr={key:0,class:"flex flex-column gap-3"},$r={class:"flex justify-content-between align-items-start"},Pr={class:"flex-1 pr-2"},Cr={class:"font-medium text-900 text-sm"},Vr={class:"text-600 text-xs"},Dr={class:"mt-2"},Ar={class:"flex justify-content-between text-xs text-600 mb-1"},Ir={key:0},Er={key:1,class:"text-center py-4"},Tr={class:"col-12 md:col-4"},Lr={class:"flex align-items-center"},Rr={key:0,class:"flex flex-column gap-3"},Ur={class:"flex justify-content-between align-items-start"},Mr={class:"flex-1 pr-2"},Nr={class:"font-medium text-900 text-sm"},Br={class:"text-600 text-xs"},zr={class:"mt-2"},Or={class:"flex justify-content-between text-xs text-600 mb-1"},Fr={key:1,class:"text-center py-4"},jr={class:"mb-4"},qr={class:"flex items-center space-x-3"},Gr={class:"text-lg font-semibold text-gray-900"},Hr={class:"text-sm text-gray-600"},Qr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Wr={key:0,class:"p-error"},Kr={key:0,class:"p-error"},Yr={key:0,class:"p-error"},Xr={key:0,class:"p-error"},Jr={key:0,class:"p-error"},Zr={key:0,class:"p-error"},ec={class:"col-span-2"},tc={class:"col-span-2"},sc={class:"flex items-center"},oc={class:"flex justify-end space-x-2"},lc={__name:"index",setup(ke){const ne=xt();gt();const{products:G,fetchProducts:Y,createProduct:M,updateProduct:N}=Ie(),{categories:j,loadCategories:B}=je(),z=ft.getInventoryService(),O=new yt,$=new bt,J=p(!1),Z=p(new Date);p(!1);const ve=p(!1),ae=p(!1),T=p(0),I=p(!1),V=p(null),Q=p(!1),F=p([]),W=p([]),_=p({name:"",sku:"",description:"",categoryId:null,barcode:"",purchasePrice:0,sellingPrice:0,taxRate:12,unit:"pieces",currentStock:0,reorderPoint:10,manufacturerId:null,hsnCodeId:null,isActive:!0}),C=p({name:"",sku:"",purchasePrice:"",sellingPrice:"",manufacturerId:"",hsnCodeId:""}),re=p(["pieces","tablets","capsules","strips","bottles","boxes","sachets","vials","tubes","ml","grams"]),H=oe(()=>{if(!G.value.length)return{totalProducts:0,inStock:0,lowStock:0,outOfStock:0};const c=G.value.length;let d=0,Le=0,ge=0;return G.value.forEach(be=>{const ze=be.currentStock||0,qe=be.reorderPoint||10;ze===0?ge++:ze<=qe?Le++:d++}),{totalProducts:c,inStock:d,lowStock:Le,outOfStock:ge}}),xe=oe(()=>W.value.map(c=>({...c,displayText:`${c.code} - ${c.description}`}))),le=oe(()=>G.value.filter(c=>{const d=c.currentStock||0,Le=c.reorderPoint||10;return d<=Le}).map(c=>({id:c.id,name:c.name,currentStock:c.currentStock||0,minStock:c.reorderPoint||10,unit:c.unit||"units",type:(c.currentStock||0)===0?"out":"low"})).slice(0,5)),L=p([]),S=(c=null)=>{V.value=c,c?ot(c):Se(),I.value=!0},h=()=>{console.log("Viewing low stock report")},E=()=>{console.log("Managing categories")},v=()=>{console.log("Exporting products")},r=()=>{console.log("Viewing all alerts")},P=()=>{console.log("Viewing all expiring products")},x=c=>{console.log("Editing stock for:",c),ve.value=!0},o=c=>{console.log("Adding stock for:",c),ve.value=!0},n=c=>{console.log("Viewing details for:",c)},y=c=>{console.log("Batch added:",c),T.value++},m=c=>{console.log("Batch updated:",c),T.value++},A=c=>{console.log("Batch expired:",c),T.value++},ce=c=>{console.log("Pricing updated for:",c),T.value++},de=c=>{console.log("Bulk update applied:",c),T.value++},q=c=>{console.log("Alert resolved:",c),T.value++},b=c=>{console.log("Alert snoozed:",c)},X=c=>{console.log("Alert dismissed:",c)},ue=c=>{console.log("Alert configuration updated:",c),T.value++},_e=c=>{console.log("PO created from analytics for:",c),T.value++},u=c=>{console.log("Stock added for:",c),T.value++},t=c=>{console.log("Thresholds updated for:",c),T.value++},l=c=>{console.log("Discount applied to batch:",c),T.value++},k=c=>{console.log("Batch returned:",c),T.value++},R=c=>{console.log("Batch disposed:",c),T.value++},pe=c=>{console.log("Pricing optimized for:",c),T.value++},we=c=>{console.log("Dead stock processed:",c),T.value++},ye=c=>{console.log("Cost analysis updated:",c),T.value++},se=c=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(c),ee=c=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(c)),Te=c=>c<=0?"Expired":c<=7?`${c}d left`:c<=30?`${c} days`:`${Math.ceil(c/30)}mo left`,fe=c=>c<=7?"border-red-500":c<=30?"border-orange-500":"border-yellow-500",f=c=>c<=7?"danger":c<=30?"warning":"info",me=async()=>{try{J.value=!0,await Promise.all([Y(),B()]);try{const c=await z.getExpiringProducts();L.value=c}catch(c){console.warn("Could not load expiring products:",c),L.value=[]}Z.value=new Date}catch(c){console.error("Failed to load inventory data:",c),ne.add({severity:"error",summary:"Error",detail:"Failed to load inventory data",life:3e3})}finally{J.value=!1}},g=async()=>{try{const[c,d]=await Promise.all([O.getActiveManufacturers(),$.getActiveHSNCodes()]);F.value=c,W.value=d}catch(c){console.error("Failed to load master data:",c),ne.add({severity:"error",summary:"Error",detail:"Failed to load master data",life:3e3})}},Se=()=>{_.value={name:"",sku:"",description:"",categoryId:null,barcode:"",purchasePrice:0,sellingPrice:0,taxRate:12,unit:"pieces",currentStock:0,reorderPoint:10,manufacturerId:null,hsnCodeId:null,isActive:!0},C.value={name:"",sku:"",purchasePrice:"",sellingPrice:"",manufacturerId:"",hsnCodeId:""}},ot=c=>{_.value={name:c.name||"",sku:c.sku||"",description:c.description||"",categoryId:c.categoryId||null,barcode:c.barcode||"",purchasePrice:c.purchasePrice||0,sellingPrice:c.sellingPrice||0,taxRate:c.taxRate||12,unit:c.unit||"pieces",currentStock:c.currentStock||0,reorderPoint:c.reorderPoint||10,manufacturerId:c.manufacturerId||null,hsnCodeId:c.hsnCodeId||null,isActive:c.isActive!==!1},C.value={name:"",sku:"",purchasePrice:"",sellingPrice:"",manufacturerId:"",hsnCodeId:""}},lt=()=>{C.value={name:"",sku:"",purchasePrice:"",sellingPrice:"",manufacturerId:"",hsnCodeId:""};let c=!0;return _.value.name.trim()||(C.value.name="Product name is required",c=!1),_.value.sku.trim()||(C.value.sku="SKU is required",c=!1),(!_.value.purchasePrice||_.value.purchasePrice<=0)&&(C.value.purchasePrice="Purchase price must be greater than 0",c=!1),(!_.value.sellingPrice||_.value.sellingPrice<=0)&&(C.value.sellingPrice="Selling price must be greater than 0",c=!1),_.value.manufacturerId||(C.value.manufacturerId="Manufacturer is required",c=!1),_.value.hsnCodeId||(C.value.hsnCodeId="HSN Code is required",c=!1),c},it=async()=>{if(lt()){Q.value=!0;try{const c={..._.value,expiryDate:_.value.expiryDate?_.value.expiryDate.toISOString().split("T")[0]:null};V.value?(await N(V.value.id,c),ne.add({severity:"success",summary:"Success",detail:"Product updated successfully",life:3e3})):(await M(c),ne.add({severity:"success",summary:"Success",detail:"Product created successfully",life:3e3})),tt(),T.value++}catch(c){console.error("Failed to save product:",c),ne.add({severity:"error",summary:"Error",detail:c instanceof Error?c.message:"Failed to save product",life:5e3})}finally{Q.value=!1}}},tt=()=>{I.value=!1,V.value=null,Se()};return Ae(async()=>{await Promise.all([me(),g()])}),(c,d)=>{const Le=dt,ge=Pe,be=Ce,ze=ut,qe=Ue,Re=Je,nt=Ze,Ye=Ve,Ge=De,Oe=We,at=mt,rt=st,ct=Ke;return D(),U("div",Ja,[J.value?(D(),U("div",Za,[s(Le)])):ie("",!0),e("div",er,[e("div",null,[d[19]||(d[19]=e("h1",{class:"text-2xl font-bold text-900 m-0"},"Inventory Management",-1)),e("p",tr,"Last updated: "+a(se(Z.value)),1)]),e("div",sr,[s(ge,{label:"Add Product",icon:"pi pi-plus",disabled:J.value,onClick:d[0]||(d[0]=w=>S())},null,8,["disabled"]),s(ge,{label:"Stock Adjustment",icon:"pi pi-box",severity:"secondary",outlined:"",disabled:J.value,onClick:d[1]||(d[1]=w=>ve.value=!0)},null,8,["disabled"]),s(ge,{label:"Low Stock Report",icon:"pi pi-file-pdf",severity:"warning",outlined:"",disabled:J.value,onClick:h},null,8,["disabled"])])]),e("div",or,[e("div",lr,[s(be,{class:"text-center"},{content:i(()=>[d[20]||(d[20]=e("div",{class:"flex align-items-center justify-content-center mb-3"},[e("div",{class:"border-circle w-3rem h-3rem bg-blue-100 flex align-items-center justify-content-center"},[e("i",{class:"pi pi-box text-blue-500 text-xl"})])],-1)),d[21]||(d[21]=e("div",{class:"text-500 font-medium mb-2"},"Total Products",-1)),e("div",ir,a(H.value.totalProducts||0),1)]),_:1})]),e("div",nr,[s(be,{class:"text-center"},{content:i(()=>[d[22]||(d[22]=e("div",{class:"flex align-items-center justify-content-center mb-3"},[e("div",{class:"border-circle w-3rem h-3rem bg-green-100 flex align-items-center justify-content-center"},[e("i",{class:"pi pi-check-circle text-green-500 text-xl"})])],-1)),d[23]||(d[23]=e("div",{class:"text-500 font-medium mb-2"},"In Stock",-1)),e("div",ar,a(H.value.inStock||0),1),H.value.inStock>0?(D(),U("div",rr,a((H.value.inStock/H.value.totalProducts*100).toFixed(1))+"% of inventory ",1)):ie("",!0)]),_:1})]),e("div",cr,[s(be,{class:"text-center"},{content:i(()=>[d[24]||(d[24]=e("div",{class:"flex align-items-center justify-content-center mb-3"},[e("div",{class:"border-circle w-3rem h-3rem bg-yellow-100 flex align-items-center justify-content-center"},[e("i",{class:"pi pi-exclamation-triangle text-yellow-500 text-xl"})])],-1)),d[25]||(d[25]=e("div",{class:"text-500 font-medium mb-2"},"Low Stock",-1)),e("div",dr,a(H.value.lowStock||0),1),H.value.lowStock>0?(D(),U("div",ur," Needs reorder soon ")):ie("",!0)]),_:1})]),e("div",mr,[s(be,{class:"text-center"},{content:i(()=>[d[26]||(d[26]=e("div",{class:"flex align-items-center justify-content-center mb-3"},[e("div",{class:"border-circle w-3rem h-3rem bg-red-100 flex align-items-center justify-content-center"},[e("i",{class:"pi pi-times-circle text-red-500 text-xl"})])],-1)),d[27]||(d[27]=e("div",{class:"text-500 font-medium mb-2"},"Out of Stock",-1)),e("div",pr,a(H.value.outOfStock||0),1),H.value.outOfStock>0?(D(),U("div",vr,a((H.value.outOfStock/H.value.totalProducts*100).toFixed(1))+"% of products ",1)):ie("",!0)]),_:1})])]),e("div",xr,[e("div",gr,[s(be,null,{title:i(()=>d[28]||(d[28]=[e("div",{class:"flex align-items-center"},[e("i",{class:"pi pi-bolt text-blue-500 mr-2"}),he(" Quick Actions ")],-1)])),content:i(()=>[e("div",fr,[e("div",yr,[s(ge,{label:"Add Product",icon:"pi pi-plus",size:"small",outlined:"",class:"w-full mb-2",onClick:d[2]||(d[2]=w=>S())})]),e("div",br,[s(ge,{label:"Import",icon:"pi pi-upload",size:"small",outlined:"",severity:"secondary",class:"w-full mb-2",onClick:d[3]||(d[3]=w=>ae.value=!0)})]),e("div",hr,[s(ge,{label:"Categories",icon:"pi pi-tags",size:"small",outlined:"",severity:"help",class:"w-full",onClick:E})]),e("div",_r,[s(ge,{label:"Export",icon:"pi pi-download",size:"small",outlined:"",severity:"success",class:"w-full",onClick:v})])])]),_:1})]),e("div",kr,[s(be,null,{title:i(()=>[e("div",wr,[d[29]||(d[29]=e("i",{class:"pi pi-exclamation-triangle text-orange-500 mr-2"},null,-1)),d[30]||(d[30]=he(" Stock Alerts ")),le.value.length>0?(D(),Fe(ze,{key:0,value:le.value.length,severity:"warning",class:"ml-2"},null,8,["value"])):ie("",!0)])]),content:i(()=>[le.value.length>0?(D(),U("div",Sr,[(D(!0),U(He,null,Qe(le.value.slice(0,3),(w,Xe)=>(D(),U("div",{key:Xe,class:te(["p-2 border-round surface-100 border-left-3",{"border-yellow-500":w.type==="low","border-red-500":w.type==="out"}])},[e("div",$r,[e("div",Pr,[e("div",Cr,a(w.productName),1),e("div",Vr,a(w.batchNumber?`Batch: ${w.batchNumber}`:""),1)]),s(qe,{value:w.type==="low"?"Low Stock":"Out of Stock",severity:w.type==="low"?"warning":"danger",class:"text-xs"},null,8,["value","severity"])]),e("div",Dr,[e("div",Ar,[e("span",null,"Stock: "+a(w.currentStock)+" "+a(w.unit||"units"),1),w.type==="low"?(D(),U("span",Ir," Min: "+a(w.minStock||"N/A"),1)):ie("",!0)])])],2))),128)),le.value.length>3?(D(),Fe(ge,{key:0,label:"View All Alerts",icon:"pi pi-arrow-right","icon-pos":"right",text:"",size:"small",class:"w-full",onClick:r})):ie("",!0)])):(D(),U("div",Er,d[31]||(d[31]=[e("div",{class:"border-circle w-3rem h-3rem bg-green-100 flex align-items-center justify-content-center mx-auto mb-2"},[e("i",{class:"pi pi-check-circle text-green-500 text-xl"})],-1),e("div",{class:"text-600 font-medium"},"No stock alerts",-1),e("div",{class:"text-500 text-sm mt-1"},"All products are well-stocked",-1)])))]),_:1})]),e("div",Tr,[s(be,null,{title:i(()=>[e("div",Lr,[d[32]||(d[32]=e("i",{class:"pi pi-clock text-purple-500 mr-2"},null,-1)),d[33]||(d[33]=he(" Expiring Soon ")),L.value.length>0?(D(),Fe(ze,{key:0,value:L.value.length,severity:"info",class:"ml-2"},null,8,["value"])):ie("",!0)])]),content:i(()=>[L.value.length>0?(D(),U("div",Rr,[(D(!0),U(He,null,Qe(L.value.slice(0,3),(w,Xe)=>(D(),U("div",{key:Xe,class:te(["p-2 border-round surface-100 border-left-3",fe(w.daysUntilExpiry)])},[e("div",Ur,[e("div",Mr,[e("div",Nr,a(w.name),1),e("div",Br,a(w.batchNumber?`Batch: ${w.batchNumber}`:""),1)]),s(qe,{value:Te(w.daysUntilExpiry),severity:f(w.daysUntilExpiry),class:"text-xs"},null,8,["value","severity"])]),e("div",zr,[e("div",Or,[e("span",null,"Expires: "+a(ee(w.expiryDate)),1),e("span",null,"Qty: "+a(w.quantity)+" "+a(w.unit||"units"),1)])])],2))),128)),L.value.length>3?(D(),Fe(ge,{key:0,label:"View All Expiring",icon:"pi pi-arrow-right","icon-pos":"right",text:"",size:"small",class:"w-full",onClick:P})):ie("",!0)])):(D(),U("div",Fr,d[34]||(d[34]=[e("div",{class:"border-circle w-3rem h-3rem bg-green-100 flex align-items-center justify-content-center mx-auto mb-2"},[e("i",{class:"pi pi-check-circle text-green-500 text-xl"})],-1),e("div",{class:"text-600 font-medium"},"No expiring products",-1),e("div",{class:"text-500 text-sm mt-1"},"All products have good shelf life",-1)])))]),_:1})])]),e("div",jr,[s(nt,null,{default:i(()=>[s(Re,{header:"Stock Overview"},{default:i(()=>[s(ds,{"refresh-trigger":T.value,onEditStock:x,onAddStock:o,onViewDetails:n},null,8,["refresh-trigger"])]),_:1}),s(Re,{header:"Batch Tracking"},{default:i(()=>[s(io,{onBatchAdded:y,onBatchUpdated:m,onBatchExpired:A})]),_:1}),s(Re,{header:"Pricing Management"},{default:i(()=>[s(Zo,{onPricingUpdated:ce,onBulkUpdateApplied:de})]),_:1}),s(Re,{header:"Stock Alerts"},{default:i(()=>[s(Jl,{onAlertResolved:q,onAlertSnoozed:b,onAlertDismissed:X,onConfigUpdated:ue})]),_:1}),s(Re,{header:"Analytics"},{default:i(()=>[s(dn,{onPoCreated:_e,onStockAdded:u,onThresholdsUpdated:t,onDiscountApplied:l,onBatchReturned:k,onBatchDisposed:R})]),_:1}),s(Re,{header:"Cost Analysis"},{default:i(()=>[s(Xa,{onPricingOptimized:pe,onDeadStockProcessed:we,onCostAnalysisUpdated:ye})]),_:1})]),_:1})]),s(ct,{visible:I.value,"onUpdate:visible":d[18]||(d[18]=w=>I.value=w),modal:!0,closable:!0,style:{width:"800px"},class:"p-dialog-maximized-responsive"},{header:i(()=>[e("div",qr,[d[35]||(d[35]=e("div",{class:"bg-blue-600 p-2 rounded-lg"},[e("i",{class:"pi pi-shopping-cart text-white"})],-1)),e("div",null,[e("h3",Gr,a(V.value?"Edit Product":"Add New Product"),1),e("p",Hr,a(V.value?"Update product information":"Create a new product"),1)])])]),footer:i(()=>[e("div",oc,[s(ge,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:tt}),s(ge,{label:"Save",icon:"pi pi-check",class:"p-button-primary",loading:Q.value,onClick:it},null,8,["loading"])])]),default:i(()=>[e("div",Qr,[d[51]||(d[51]=e("div",{class:"col-span-2"},[e("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Basic Information")],-1)),e("div",null,[d[36]||(d[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Product Name *",-1)),s(Ye,{modelValue:_.value.name,"onUpdate:modelValue":d[4]||(d[4]=w=>_.value.name=w),placeholder:"Enter product name",class:te(["w-full",{"p-invalid":C.value.name}])},null,8,["modelValue","class"]),C.value.name?(D(),U("small",Wr,a(C.value.name),1)):ie("",!0)]),e("div",null,[d[37]||(d[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"SKU *",-1)),s(Ye,{modelValue:_.value.sku,"onUpdate:modelValue":d[5]||(d[5]=w=>_.value.sku=w),placeholder:"Enter SKU",class:te(["w-full",{"p-invalid":C.value.sku}])},null,8,["modelValue","class"]),C.value.sku?(D(),U("small",Kr,a(C.value.sku),1)):ie("",!0)]),e("div",null,[d[38]||(d[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),s(Ge,{modelValue:_.value.categoryId,"onUpdate:modelValue":d[6]||(d[6]=w=>_.value.categoryId=w),options:$e(j),"option-label":"name","option-value":"id",placeholder:"Select category",class:"w-full"},null,8,["modelValue","options"])]),e("div",null,[d[39]||(d[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Barcode",-1)),s(Ye,{modelValue:_.value.barcode,"onUpdate:modelValue":d[7]||(d[7]=w=>_.value.barcode=w),placeholder:"Enter barcode",class:"w-full"},null,8,["modelValue"])]),d[52]||(d[52]=e("div",{class:"col-span-2"},[e("h4",{class:"text-md font-medium text-gray-900 mb-4 mt-4"},"Pricing Information")],-1)),e("div",null,[d[40]||(d[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Purchase Price *",-1)),s(Oe,{modelValue:_.value.purchasePrice,"onUpdate:modelValue":d[8]||(d[8]=w=>_.value.purchasePrice=w),mode:"currency",currency:"INR",locale:"en-IN",class:te(["w-full",{"p-invalid":C.value.purchasePrice}])},null,8,["modelValue","class"]),C.value.purchasePrice?(D(),U("small",Yr,a(C.value.purchasePrice),1)):ie("",!0)]),e("div",null,[d[41]||(d[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Selling Price *",-1)),s(Oe,{modelValue:_.value.sellingPrice,"onUpdate:modelValue":d[9]||(d[9]=w=>_.value.sellingPrice=w),mode:"currency",currency:"INR",locale:"en-IN",class:te(["w-full",{"p-invalid":C.value.sellingPrice}])},null,8,["modelValue","class"]),C.value.sellingPrice?(D(),U("small",Xr,a(C.value.sellingPrice),1)):ie("",!0)]),e("div",null,[d[42]||(d[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tax Rate (%)",-1)),s(Oe,{modelValue:_.value.taxRate,"onUpdate:modelValue":d[10]||(d[10]=w=>_.value.taxRate=w),suffix:"%",min:0,max:100,class:"w-full"},null,8,["modelValue"])]),e("div",null,[d[43]||(d[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Unit",-1)),s(Ge,{modelValue:_.value.unit,"onUpdate:modelValue":d[11]||(d[11]=w=>_.value.unit=w),options:re.value,placeholder:"Select unit",class:"w-full"},null,8,["modelValue","options"])]),d[53]||(d[53]=e("div",{class:"col-span-2"},[e("h4",{class:"text-md font-medium text-gray-900 mb-4 mt-4"},"Stock Information")],-1)),e("div",null,[d[44]||(d[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Current Stock",-1)),s(Oe,{modelValue:_.value.currentStock,"onUpdate:modelValue":d[12]||(d[12]=w=>_.value.currentStock=w),class:"w-full",disabled:!0,placeholder:"Managed through stock management"},null,8,["modelValue"]),d[45]||(d[45]=e("small",{class:"text-gray-500"},"Stock is managed through the stock management system",-1))]),e("div",null,[d[46]||(d[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reorder Point",-1)),s(Oe,{modelValue:_.value.reorderPoint,"onUpdate:modelValue":d[13]||(d[13]=w=>_.value.reorderPoint=w),min:0,class:"w-full"},null,8,["modelValue"])]),d[54]||(d[54]=e("div",{class:"col-span-2"},[e("h4",{class:"text-md font-medium text-gray-900 mb-4 mt-4"},"Master Data")],-1)),e("div",null,[d[47]||(d[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Manufacturer *",-1)),s(Ge,{modelValue:_.value.manufacturerId,"onUpdate:modelValue":d[14]||(d[14]=w=>_.value.manufacturerId=w),options:F.value,"option-label":"name","option-value":"id",placeholder:"Select manufacturer",class:te(["w-full",{"p-invalid":C.value.manufacturerId}])},null,8,["modelValue","options","class"]),C.value.manufacturerId?(D(),U("small",Jr,a(C.value.manufacturerId),1)):ie("",!0)]),e("div",null,[d[48]||(d[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"HSN Code *",-1)),s(Ge,{modelValue:_.value.hsnCodeId,"onUpdate:modelValue":d[15]||(d[15]=w=>_.value.hsnCodeId=w),options:xe.value,"option-label":"displayText","option-value":"id",placeholder:"Select HSN code",class:te(["w-full",{"p-invalid":C.value.hsnCodeId}])},null,8,["modelValue","options","class"]),C.value.hsnCodeId?(D(),U("small",Zr,a(C.value.hsnCodeId),1)):ie("",!0)]),e("div",ec,[d[49]||(d[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),s(at,{modelValue:_.value.description,"onUpdate:modelValue":d[16]||(d[16]=w=>_.value.description=w),placeholder:"Enter product description",class:"w-full",rows:"3"},null,8,["modelValue"])]),e("div",tc,[e("div",sc,[s(rt,{modelValue:_.value.isActive,"onUpdate:modelValue":d[17]||(d[17]=w=>_.value.isActive=w),"input-id":"isActive",binary:""},null,8,["modelValue"]),d[50]||(d[50]=e("label",{for:"isActive",class:"ml-2 text-sm font-medium text-gray-700"}," Active Product ",-1))])])])]),_:1},8,["visible"])])}}},Jc=Ee(lc,[["__scopeId","data-v-e662efeb"]]);export{Jc as default};
