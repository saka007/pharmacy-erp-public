import Ye from"./M2-fOS9N.js";import Ze from"./hXjzZJ_3.js";import Je from"./BT7qUuys.js";import We from"./BiIHwpDv.js";import et from"./ChSZsRHc.js";import tt from"./lT0wVcxz.js";import at from"./DrrBm_tI.js";import st from"./BEk77WGX.js";import ot from"./Dv734B7a.js";import nt from"./DBRuJf76.js";import{$ as it,a0 as Ie,r as c,j as B,T as lt,a1 as rt,f as ct,m as dt,c as b,a as t,t as p,X as u,V as Q,b as d,W as I,w as k,M as ut,R as te,O as _e,Q as ke,U as mt,o as S,d as pt,a2 as Pe,a3 as vt,a4 as yt,u as Ae}from"./C75sWQ17.js";import{u as ht}from"./CmaQ8lbF.js";import{_ as ft}from"./DlAUqK2U.js";import"./DYFHDyQ0.js";import"./Bp30Rkwz.js";import"./hZldab_6.js";import"./C6o1UzvO.js";import"./7s5qCgTI.js";import"./CLKZ7GqN.js";import"./D-dmaqJg.js";import"./DnWt4iB7.js";import"./GojKZ2PW.js";import"./BImoKj12.js";import"./Kwvy9bwp.js";import"./CtWPRs3h.js";import"./a3IUqZJ6.js";import"./BLBtN7Vw.js";import"./Cx0rQrOi.js";import"./kW09eZOd.js";import"./CwqodYyw.js";import"./DLeBtkWy.js";import"./v7U6BRNz.js";import"./Du1f6vVH.js";import"./RTEWMrHx.js";import"./Dv5mX8ha.js";import"./DyoQBExO.js";import"./DiRvyYBK.js";import"./CT9-M-Jt.js";import"./Dyb13Abn.js";import"./BQcC7MIq.js";class gt extends it{constructor(){super("/sales")}async createSale(o){try{return await this.api.post(`${this.endpoint}`,o)}catch(r){throw console.error("[SalesService] Error creating sale:",r),r}}async getSales(o={}){try{return await this.api.get(`${this.endpoint}`,{params:o})}catch(r){throw console.error("[SalesService] Error fetching sales:",r),r}}async getSaleById(o){try{return await this.api.get(`${this.endpoint}/${o}`)}catch(r){throw console.error("[SalesService] Error fetching sale:",r),r}}async updateSaleStatus(o,r){try{return await this.api.patch(`${this.endpoint}/${o}/status`,{status:r})}catch(s){throw console.error("[SalesService] Error updating sale status:",s),s}}async processReturn(o,r){try{return await this.api.post(`${this.endpoint}/${o}/return`,{items:r})}catch(s){throw console.error("[SalesService] Error processing return:",s),s}}async getSalesStats(o={}){try{return await this.api.get(`${this.endpoint}/stats`,{params:o})}catch(r){throw console.error("[SalesService] Error fetching sales stats:",r),r}}async searchCustomers(o){try{return await this.api.get("/customers/search",{params:{q:o,limit:10}})}catch(r){throw console.error("[SalesService] Error searching customers:",r),r}}async createCustomer(o){try{return await this.api.post("/customers",o)}catch(r){throw console.error("[SalesService] Error creating customer:",r),r}}async generateInvoiceNumber(){try{return await this.api.get(`${this.endpoint}/generate-invoice`)}catch(o){throw console.error("[SalesService] Error generating invoice number:",o),o}}async printReceipt(o,r="thermal"){try{return await this.api.post(`${this.endpoint}/${o}/print`,{format:r})}catch(s){throw console.error("[SalesService] Error printing receipt:",s),s}}}const ce=new gt;var x=(h=>(h.PURCHASE_ORDER="PURCHASE_ORDER",h.SALE="SALE",h.STOCK_ADJUSTMENT="STOCK_ADJUSTMENT",h.STOCK_TRANSFER="STOCK_TRANSFER",h.STOCK_RETURN="STOCK_RETURN",h.STOCK_TAKE="STOCK_TAKE",h.DAMAGED="DAMAGED",h.EXPIRED="EXPIRED",h.OTHER="OTHER",h))(x||{});const Te=Ie("inventory",()=>{const h=c([]),o=c(null),r=c(!1),s=c(null),$=c([x.PURCHASE_ORDER,x.SALE,x.STOCK_ADJUSTMENT,x.STOCK_TRANSFER,x.STOCK_RETURN,x.STOCK_TAKE,x.DAMAGED,x.EXPIRED,x.OTHER]),P=v=>B(()=>h.value.find(y=>y.id===v)),F=v=>B(()=>h.value.filter(y=>y.productId===v)),O=async(v={})=>{try{return r.value=!0,s.value=null,h.value=[],[]}catch(y){throw s.value=y.message||"Failed to fetch transactions",y}finally{r.value=!1}};return{transactions:h,currentTransaction:o,isLoading:r,error:s,transactionTypes:$,getTransactionById:P,getTransactionsByProductId:F,fetchTransactions:O,fetchInventory:O,createTransaction:async v=>{try{r.value=!0,s.value=null;const y={...v,id:`trans_${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return h.value.unshift(y),y}catch(y){throw s.value=y.message||"Failed to create transaction",y}finally{r.value=!1}},adjustStock:async v=>{try{r.value=!0,s.value=null;const y={id:`trans_${Date.now()}`,productId:v.productId,quantity:Math.abs(v.quantity),previousQuantity:0,newQuantity:v.quantity,transactionType:x.STOCK_ADJUSTMENT,referenceId:`adj_${Date.now()}`,referenceType:"STOCK_ADJUSTMENT",notes:v.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return h.value.unshift(y),y}catch(y){throw s.value=y.message||"Failed to adjust stock",y}finally{r.value=!1}},transferStock:async v=>{try{r.value=!0,s.value=null;const y={id:`trans_out_${Date.now()}`,productId:v.productId,quantity:v.quantity,previousQuantity:0,newQuantity:-v.quantity,transactionType:x.STOCK_TRANSFER,referenceId:`xfer_${Date.now()}`,referenceType:"STOCK_TRANSFER",notes:v.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},j={id:`trans_in_${Date.now()+1}`,productId:v.productId,quantity:v.quantity,previousQuantity:0,newQuantity:v.quantity,transactionType:x.STOCK_TRANSFER,referenceId:y.referenceId,referenceType:"STOCK_TRANSFER",notes:v.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return h.value.unshift(j,y),{in:j,out:y}}catch(y){throw s.value=y.message||"Failed to transfer stock",y}finally{r.value=!1}},initializeMockData:async()=>{try{return r.value=!0,s.value=null,h.value=[],console.log("‚úÖ Mock inventory data initialized"),{data:[],meta:{total:0}}}catch(v){throw s.value=v.message||"Failed to initialize mock inventory data",v}finally{r.value=!1}},$reset:()=>{h.value=[],o.value=null,s.value=null,r.value=!1}}}),St=Ie("sales",()=>{const h=c([]),o=c({}),r=c([]),s=c(null),$=c("cash"),P=c(0),F=c(!1),O=c(!1),E=c(null),H=c(null),V=c(null),_=c(0),G=c(1),ae=c(10),v=B(()=>r.value.reduce((l,m)=>l+(m.totalAmount||0),0)),y=B(()=>r.value.reduce((l,m)=>l+m.quantity*m.unitPrice,0)),j=B(()=>r.value.reduce((l,m)=>l+(m.discountAmount||0),0)),se=B(()=>r.value.reduce((l,m)=>l+m.taxAmount,0)),de=B(()=>r.value.reduce((l,m)=>l+m.quantity,0)),oe=B(()=>$.value==="cash"&&P.value>0?Math.max(0,P.value-v.value):0),U=B(()=>r.value.length>0&&!O.value&&($.value!=="cash"||P.value>=v.value)),W=(l,m=1)=>{var C;const g=r.value.find(D=>D.productId===l.id);if(g)ee(g.tempId,g.quantity+m);else{const D={tempId:`temp_${Date.now()}_${Math.random()}`,productId:l.id,productName:l.name,productCode:l.sku||l.code,barcode:l.barcode,quantity:m,unitPrice:l.sellingPrice||l.mrp,discount:0,discountType:"percentage",discountValue:0,discountAmount:0,taxRate:l.taxRate||12,taxAmount:0,totalPrice:0,totalAmount:0,batchNumber:l.batchNumber,expiryDate:l.expiryDate,manufacturer:l.manufacturer,category:(C=l.category)==null?void 0:C.name,unit:l.unit};X(D),r.value.push(D)}},ne=l=>{const m=r.value.findIndex(g=>g.tempId===l);m!==-1&&r.value.splice(m,1)},ee=(l,m)=>{const g=r.value.find(C=>C.tempId===l);g&&m>0&&(g.quantity=m,X(g))},ie=(l,m,g)=>{const C=r.value.find(D=>D.tempId===l);C&&(C.discountType=m,C.discountValue=g,X(C))},X=l=>{const m=l.quantity*l.unitPrice;l.discountType==="percentage"?l.discountAmount=m*(l.discountValue||0)/100:l.discountAmount=l.discountValue||0;const g=m-(l.discountAmount||0);l.taxAmount=g*l.taxRate/100,l.totalPrice=g,l.totalAmount=g+l.taxAmount},z=()=>{r.value=[],s.value=null,$.value="cash",P.value=0,o.value={}};return{sales:h,currentSale:o,cartItems:r,selectedCustomer:s,paymentMethod:$,cashReceived:P,isLoading:F,isProcessing:O,error:E,lastSale:H,salesStats:V,totalItems:_,currentPage:G,itemsPerPage:ae,cartTotal:v,cartSubtotal:y,cartTotalDiscount:j,cartTotalTax:se,cartItemCount:de,changeAmount:oe,canCompleteSale:U,addToCart:W,removeFromCart:ne,updateCartItemQuantity:ee,updateCartItemDiscount:ie,clearCart:z,setPaymentMethod:l=>{$.value=l,l!=="cash"?P.value=v.value:P.value=0},setCustomer:l=>{s.value=l},completeSale:async()=>{var l,m,g;if(!U.value)throw new Error("Cannot complete sale: invalid state");try{O.value=!0,E.value=null;const C={customerId:((l=s.value)==null?void 0:l.id)||"",customerName:((m=s.value)==null?void 0:m.name)||"Walk-in Customer",customerPhone:((g=s.value)==null?void 0:g.phone)||"",items:r.value.map(R=>({productId:R.productId,productName:R.productName,quantity:R.quantity,unitPrice:R.unitPrice,totalPrice:R.totalPrice,discount:R.discount,taxRate:R.taxRate,taxAmount:R.taxAmount})),subtotal:y.value,taxAmount:se.value,discountAmount:j.value,totalAmount:v.value,paymentMethod:$.value,paymentStatus:"paid"},D=await ce.createSale(C),Y=Te();for(const R of r.value)await Y.adjustStock({productId:R.productId,quantity:-R.quantity,reason:"sale",notes:`Sale: ${D.invoiceNumber}`});return H.value=D,h.value.unshift(D),z(),D}catch(C){throw E.value=C.message||"Failed to complete sale",C}finally{O.value=!1}},fetchSales:async(l={})=>{try{F.value=!0,E.value=null;const m=await ce.getSales({...l,page:l.page||G.value,limit:l.limit||ae.value});return h.value=m.data,_.value=m.meta.total,G.value=m.meta.page,m}catch(m){throw E.value=m.message||"Failed to fetch sales",m}finally{F.value=!1}},fetchSalesStats:async(l={})=>{try{const m=await ce.getSalesStats(l);return V.value=m,m}catch(m){throw E.value=m.message||"Failed to fetch sales stats",m}},$reset:()=>{h.value=[],z(),F.value=!1,O.value=!1,E.value=null,H.value=null,V.value=null,_.value=0,G.value=1}}}),Ct=window.setInterval,bt={class:"modern-pos"},wt={class:"pos-header"},_t={class:"header-info"},kt={class:"info-item"},Pt={class:"value"},At={class:"info-item"},It={class:"value"},Tt={class:"info-item"},Dt={class:"value"},Rt={class:"header-total"},xt={class:"total-info"},$t={class:"total-amount"},Et={class:"total-items"},Mt={class:"header-actions"},Nt={class:"pos-main"},Ft={class:"pos-left"},Ot={class:"pos-card customer-card"},Vt={class:"card-header"},qt={class:"card-content"},Lt={class:"customer-suggestion"},Ut={class:"customer-details"},zt={class:"customer-name"},Bt={class:"customer-meta"},Kt={key:0,class:"loyalty-points"},Qt={key:0,class:"customer-badge"},Ht={key:0,class:"selected-customer"},Gt={class:"customer-info"},jt={class:"customer-data"},Xt={key:0,class:"customer-stats"},Yt={key:0,class:"stat"},Zt={key:1,class:"stat"},Jt={class:"pos-card search-card"},Wt={class:"card-content"},ea={class:"search-wrapper"},ta={class:"search-input-group"},aa={class:"product-suggestion"},sa={class:"product-info"},oa={class:"product-name"},na={class:"product-meta"},ia={class:"sku"},la={class:"manufacturer"},ra={class:"product-details"},ca={class:"price"},da={key:0,class:"expiry"},ua={class:"barcode-wrapper"},ma={class:"barcode-input-group"},pa={key:0,class:"scanner-status"},va={class:"prescription-wrapper"},ya={key:0,class:"prescription-list"},ha={class:"pos-card cart-card"},fa={class:"card-header"},ga={class:"header-title"},Sa={class:"card-content"},Ca={class:"product-cell"},ba={class:"product-name"},wa={class:"product-code"},_a={key:0,class:"product-manufacturer"},ka={class:"quantity-controls"},Pa={class:"price-cell"},Aa={class:"discount-controls"},Ia={class:"total-cell"},Ta={key:0},Da={class:"pos-right"},Ra={class:"pos-card payment-card"},xa={class:"card-content"},$a={class:"payment-methods"},Ea={key:0,class:"payment-details"},Ma={class:"cash-input-group"},Na={key:0,class:"change-display"},Fa={class:"pos-card actions-card"},Oa={class:"card-content"},Va={class:"action-buttons"},qa={key:0,class:"quick-amounts"},La={class:"quick-amount-grid"},Ua={class:"amount-display"},za={class:"amount-value"},Ba={class:"keypad"},Ka={class:"keypad-grid"},Qa={class:"pos-footer"},Ha={class:"summary-stats"},Ga={class:"stat"},ja={class:"value"},Xa={class:"stat"},Ya={class:"value"},Za={class:"stat"},Ja={class:"value"},Wa={class:"stat"},es={class:"value"},ts={class:"stat"},as={class:"value"},ss={class:"stat total"},os={class:"value"},ns={__name:"index",setup(h){const o=lt(),r=rt(),s=St(),$=Te(),P=ht(),F=c(""),O=c(new Date().toLocaleDateString("en-GB")),E=c(new Date().toLocaleTimeString("en-GB",{hour12:!1}));c("Dr. Pharmacist");const H=c(!1),V=c(!1),_=c(null),G=c(!0),ae=c(!0),v=c(!1),y=c(0),j=c({x:0,y:0}),se=c(50),de=c(300),oe=c(null),U=c(""),W=c([]),ne=c([]),ee=c(!1),ie=c(!1),X=c(!1),z=c(null),he=c(!1);c(!1),c(!1);const ue=c([]),M=c(0);c(!1);const fe=c(0);c(""),c({name:"",unit:"",packUnit:"",discType:"",discAmt:0,totalDiscAmt:0,qty:0,mrp:0,totalAmt:0}),c([{label:"ORIGINAL COPY",value:"original"},{label:"DUPLICATE COPY",value:"duplicate"},{label:"TRIPLICATE COPY",value:"triplicate"}]),c([{label:"Customer A4",value:"customer_a4"},{label:"Customer A5",value:"customer_a5"},{label:"Thermal 80mm",value:"thermal_80"}]),c([{label:"Preview On",value:"on"},{label:"Preview Off",value:"off"}]),c("original"),c("customer_a4"),c("on"),c({liveReporting:!0,langPrint:!1,autoNumbering:!0,parameterPrint:!1,autoSms:!1,privilegeCard:!1,giftCard:!1});const f=a=>new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a||0),ge=a=>a?new Date(a).toLocaleDateString("en-GB"):"",l=async a=>{if(!a.query||a.query.length<2){W.value=[];return}try{ee.value=!0;const e=await P.searchProducts({query:a.query,limit:10,includeStock:!0});console.log("üîç Products returned from search:",e),e&&e.length>0&&(console.log("üîç First product sample:",e[0]),console.log("üîç First product isActive:",e[0].isActive)),W.value=e||[],e&&e.length===0&&o.add({severity:"info",summary:"No Products Found",detail:`No products found matching "${a.query}"`,life:2e3})}catch(e){console.error("Error searching products:",e),W.value=[],o.add({severity:"error",summary:"Search Error",detail:"Failed to search products. Using offline mode.",life:3e3})}finally{ee.value=!1}},m=async a=>{if(!a.query||a.query.length<2){ne.value=[];return}try{ie.value=!0;const i=[{id:"cust_001",name:"Rajesh Kumar",phone:"+91 98765 43210",email:"rajesh.kumar@email.com",address:"123 Main Street, Delhi",loyaltyCard:"LC001",loyaltyPoints:250,outstanding:0,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"cust_002",name:"Priya Sharma",phone:"+91 87654 32109",email:"priya.sharma@email.com",address:"456 Park Avenue, Mumbai",loyaltyCard:"LC002",loyaltyPoints:150,outstanding:500,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"cust_003",name:"Amit Patel",phone:"+91 76543 21098",email:"amit.patel@email.com",address:"789 Garden Road, Bangalore",loyaltyPoints:75,outstanding:0,isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}].filter(w=>w.name.toLowerCase().includes(a.query.toLowerCase())||w.phone.includes(a.query)||w.email&&w.email.toLowerCase().includes(a.query.toLowerCase()));ne.value=i}catch(e){console.error("Error searching customers:",e),o.add({severity:"error",summary:"Search Error",detail:"Failed to search customers",life:3e3})}finally{ie.value=!1}},g=a=>{console.log("üîç AutoComplete selection event:",a),a.value&&C(a.value)},C=(a,e=1)=>{if(!a){o.add({severity:"warn",summary:"No Product Selected",detail:"Please select a product to add to cart",life:3e3});return}if(console.log("üîç Product data received:",a),console.log("üîç Product isActive value:",a.isActive),console.log("üîç Product isActive type:",typeof a.isActive),a.isActive===!1){o.add({severity:"error",summary:"Product Inactive",detail:"This product is currently inactive",life:3e3});return}if(a.currentStock!==void 0&&a.currentStock<e){o.add({severity:"error",summary:"Insufficient Stock",detail:`Only ${a.currentStock} units available`,life:3e3});return}if(a.expiryDate&&new Date(a.expiryDate)<new Date){o.add({severity:"error",summary:"Product Expired",detail:"This product has expired and cannot be sold",life:3e3});return}try{s.addToCart(a,e),oe.value=null,o.add({severity:"success",summary:"Added to Cart! üõí",detail:`${a.name} (${e} ${a.unit}) added successfully`,life:2e3})}catch(i){console.error("Error adding to cart:",i),o.add({severity:"error",summary:"Error",detail:i.message||"Failed to add product to cart",life:3e3})}},D=async()=>{if(!U.value||U.value.trim().length===0){o.add({severity:"warn",summary:"No Barcode",detail:"Please scan or enter a barcode",life:3e3});return}const a=U.value.trim();try{o.add({severity:"info",summary:"Searching...",detail:`Looking for product with barcode: ${a}`,life:1500});const e=await P.getProductByBarcode(a);e?(C(e),U.value="",Ae(()=>{z.value&&z.value.$el.focus()})):o.add({severity:"warn",summary:"Product Not Found",detail:`No product found with barcode: ${a}`,life:3e3})}catch(e){console.error("Error finding product by barcode:",e),o.add({severity:"error",summary:"Barcode Error",detail:"Failed to find product. Please try again.",life:3e3})}},Y=async()=>{if(s.cartItems.length===0){o.add({severity:"warn",summary:"Empty Cart",detail:"Please add items to cart before completing sale",life:3e3});return}if(!s.paymentMethod){o.add({severity:"warn",summary:"Payment Method Required",detail:"Please select a payment method",life:3e3});return}if(s.paymentMethod==="cash"&&s.cashReceived<s.cartTotal){o.add({severity:"warn",summary:"Insufficient Cash",detail:`Cash received (‚Çπ${f(s.cashReceived)}) is less than total amount (‚Çπ${f(s.cartTotal)})`,life:4e3});return}if(s.paymentMethod==="credit_customer"&&!s.selectedCustomer){o.add({severity:"warn",summary:"Customer Required",detail:"Please select a customer for credit sales",life:3e3});return}try{o.add({severity:"info",summary:"Processing Sale...",detail:"Please wait while we process your sale",life:2e3});const a=await s.completeSale();o.add({severity:"success",summary:"Sale Completed! üéâ",detail:`Invoice ${a.invoiceNumber} generated successfully. Total: ‚Çπ${f(a.totalAmount)}`,life:5e3}),await Se(),R(a)}catch(a){console.error("Error completing sale:",a),o.add({severity:"error",summary:"Sale Failed",detail:a.message||"Failed to complete sale. Please try again.",life:5e3})}},R=a=>{r.require({message:"Sale completed successfully! Would you like to print the receipt?",header:"Print Receipt",icon:"pi pi-print",acceptLabel:"Print",rejectLabel:"Skip",accept:()=>De(a.id),reject:()=>{o.add({severity:"info",summary:"Receipt Skipped",detail:"You can print the receipt later from sales history",life:3e3})}})},De=async a=>{try{await ce.printReceipt(a),o.add({severity:"success",summary:"Receipt Printed",detail:"Receipt sent to printer successfully",life:3e3})}catch(e){console.error("Error printing receipt:",e),o.add({severity:"error",summary:"Print Failed",detail:"Failed to print receipt",life:3e3})}},Se=async()=>{try{const a=await ce.generateInvoiceNumber();F.value=a.invoiceNumber}catch(a){console.error("Error generating invoice number:",a);const e=Date.now();F.value=`INV-${e}`}},Re=()=>{X.value=!0,o.add({severity:"info",summary:"Camera Scanner",detail:"Camera scanner activated. Point at barcode.",life:3e3}),Ae(()=>{z.value&&z.value.$el.focus()})},xe=()=>{X.value=!1,o.add({severity:"info",summary:"Scanner Stopped",detail:"Camera scanner deactivated",life:2e3})},$e=a=>{a.preventDefault();const e=a.dataTransfer.files;e.length>0&&Ce({files:Array.from(e)})},Ce=a=>{const e=a.files||a.target.files;if(e&&e.length>0){const i=e[0];ue.value.push({id:Date.now(),name:i.name,file:i}),o.add({severity:"success",summary:"Prescription Uploaded",detail:`${i.name} uploaded successfully`,life:3e3})}},Ee=a=>{o.add({severity:"info",summary:"View Prescription",detail:`Opening ${a.name}...`,life:3e3})},Me=()=>{if(!s.selectedCustomer||s.selectedCustomer.loyaltyPoints<100){o.add({severity:"warn",summary:"Insufficient Points",detail:"Minimum 100 points required for redemption",life:3e3});return}const a=Math.floor(s.selectedCustomer.loyaltyPoints/100)*100,e=a*.01;s.selectedCustomer.loyaltyPoints-=a,fe.value+=e,o.add({severity:"success",summary:"Points Redeemed! üéâ",detail:`${a} points redeemed for ‚Çπ${f(e)} discount`,life:4e3})},q=a=>{const e=M.value.toString();if(!(e.includes(".")&&e.split(".")[1].length>=2)){if(e==="0")M.value=a;else{const i=parseFloat(e+a.toString());M.value=i}s.paymentMethod==="cash"&&(s.cashReceived=M.value)}},Ne=()=>{const a=M.value.toString();a.includes(".")||(M.value=parseFloat(a+".0"))},Fe=()=>{M.value=0,s.paymentMethod==="cash"&&(s.cashReceived=0)},Z=a=>{M.value=a,s.paymentMethod==="cash"&&(s.cashReceived=a),o.add({severity:"info",summary:"Quick Amount Set",detail:`Cash amount set to ‚Çπ${f(a)}`,life:1500})},pe=()=>{const a=s.cartTotal;M.value=a,s.paymentMethod==="cash"&&(s.cashReceived=a),o.add({severity:"success",summary:"Exact Amount Set",detail:`Cash amount set to exact total: ‚Çπ${f(a)}`,life:2e3})},Oe=()=>{if(s.cartItems.length===0){o.add({severity:"warn",summary:"Empty Cart",detail:"Cannot hold an empty bill",life:3e3});return}o.add({severity:"info",summary:"Bill Held",detail:"Bill has been saved for later completion",life:3e3}),s.clearCart()},me=()=>{if(s.cartItems.length===0){o.add({severity:"info",summary:"Cart Empty",detail:"Cart is already empty",life:2e3});return}r.require({message:"Are you sure you want to clear the entire cart?",header:"Clear Cart",icon:"pi pi-exclamation-triangle",acceptLabel:"Clear",rejectLabel:"Cancel",accept:()=>{s.clearCart(),o.add({severity:"success",summary:"Cart Cleared",detail:"All items have been removed from cart",life:3e3})}})},be=()=>{o.add({severity:"info",summary:"Settings",detail:"Opening POS settings...",life:2e3})},Ve=()=>{o.add({severity:"info",summary:"Help & Support",detail:"Opening help documentation...",life:2e3})},qe=()=>{r.require({message:"Are you sure you want to logout?",header:"Confirm Logout",icon:"pi pi-sign-out",acceptLabel:"Logout",rejectLabel:"Cancel",accept:()=>{o.add({severity:"info",summary:"Logged Out",detail:"You have been logged out successfully",life:3e3}),yt("/login")}})},Le={F1:()=>showHelp(),F2:()=>focusProductSearch(),F3:()=>focusBarcodeInput(),F4:()=>focusCustomerSearch(),F5:()=>refreshData(),F8:()=>Y(),F9:()=>me(),F10:()=>be(),F12:()=>Be(),Escape:()=>cancelCurrentAction(),Enter:()=>handleEnterKey(),Delete:()=>removeLastCartItem(),NumpadEnter:()=>Y(),NumpadPlus:()=>increaseLastItemQuantity(),NumpadMinus:()=>decreaseLastItemQuantity(),NumpadMultiply:()=>applyDiscount(),NumpadDivide:()=>splitPayment(),"Ctrl+N":()=>startNewSale(),"Ctrl+P":()=>printLastReceipt(),"Ctrl+S":()=>saveDraft(),"Ctrl+Z":()=>undoLastAction(),"Ctrl+F":()=>focusProductSearch(),"Ctrl+B":()=>focusBarcodeInput(),"Ctrl+C":()=>focusCustomerSearch(),"Ctrl+1":()=>setPaymentMethod("cash"),"Ctrl+2":()=>setPaymentMethod("card"),"Ctrl+3":()=>setPaymentMethod("upi"),"Ctrl+4":()=>setPaymentMethod("credit"),"Alt+Q":()=>Z(100),"Alt+W":()=>Z(500),"Alt+E":()=>Z(1e3),"Alt+R":()=>pe()},we=a=>{if(!G.value)return;const e=a.key,i=a.ctrlKey,w=a.altKey;let A="";i&&w?A=`Ctrl+Alt+${e}`:i?A=`Ctrl+${e}`:w?A=`Alt+${e}`:A=e;const L=Le[A];L&&(a.preventDefault(),L(),o.add({severity:"info",summary:"Shortcut Used",detail:`${A} - Action executed`,life:1e3}))};ct(async()=>{console.log("üöÄ PharmaPOS System with Enhanced UX Initialized"),document.addEventListener("keydown",we),Ue(),Ke(),Ct(()=>{E.value=new Date().toLocaleTimeString("en-GB",{hour12:!1})},1e3);try{await Se();const a=[];a.push(P.fetchProducts({limit:100}).catch(e=>(console.warn("Failed to fetch products from API, using mock data:",e),P.initializeMockData()))),a.push($.fetchInventory({limit:100}).catch(e=>(console.warn("Failed to fetch inventory from API, using mock data:",e),$.initializeMockData()))),await Promise.all(a),o.add({severity:"success",summary:"System Ready! üéâ",detail:"POS system initialized successfully",life:3e3})}catch(a){console.error("Error initializing POS:",a);try{await P.initializeMockData(),await $.initializeMockData(),o.add({severity:"warn",summary:"System Ready (Offline Mode)",detail:"Running with sample data - some features may be limited",life:4e3})}catch(e){console.error("Failed to initialize mock data:",e),o.add({severity:"error",summary:"Initialization Failed",detail:"Unable to start POS system. Please check your connection.",life:5e3})}}}),dt(()=>{document.removeEventListener("keydown",we),_.value&&_.value.stop()});const Ue=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const a=window.SpeechRecognition||window.webkitSpeechRecognition;_.value=new a,_.value.continuous=!1,_.value.interimResults=!1,_.value.lang="en-US",_.value.onresult=e=>{const i=e.results[0][0].transcript.toLowerCase().trim();ze(i)},_.value.onerror=e=>{console.error("Voice recognition error:",e.error),V.value=!1},_.value.onend=()=>{V.value=!1},H.value=!0,o.add({severity:"success",summary:"Voice Commands Ready",detail:'Press F12 or say "Hey POS" to activate voice commands',life:3e3})}else console.warn("Speech recognition not supported in this browser")},ze=a=>{console.log("Voice command received:",a);const e={"add product":()=>focusProductSearch(),"scan barcode":()=>focusBarcodeInput(),"add customer":()=>focusCustomerSearch(),"complete sale":()=>Y(),"clear cart":()=>me(),"cash payment":()=>setPaymentMethod("cash"),"card payment":()=>setPaymentMethod("card"),"upi payment":()=>setPaymentMethod("upi"),"credit payment":()=>setPaymentMethod("credit"),help:()=>showHelp(),refresh:()=>refreshData(),"new sale":()=>startNewSale(),"print receipt":()=>printLastReceipt(),"exact amount":()=>pe(),"quick hundred":()=>Z(100),"quick five hundred":()=>Z(500),"quick thousand":()=>Z(1e3)},i=Object.keys(e).find(w=>a.includes(w)||w.includes(a));i?(e[i](),o.add({severity:"success",summary:"Voice Command Executed",detail:`"${a}" - ${i}`,life:2e3})):o.add({severity:"warn",summary:"Command Not Recognized",detail:`"${a}" - Try: add product, scan barcode, complete sale, etc.`,life:3e3})},Be=()=>{if(!H.value){o.add({severity:"warn",summary:"Voice Not Supported",detail:"Voice recognition is not available in this browser",life:3e3});return}V.value?(_.value.stop(),V.value=!1,o.add({severity:"info",summary:"Voice Listening Stopped",detail:"Voice commands deactivated",life:2e3})):(_.value.start(),V.value=!0,o.add({severity:"info",summary:"Voice Listening Started",detail:"Speak your command now...",life:2e3}))},Ke=()=>{if(!ae.value)return;const a=document.querySelector(".pos-main");if(!a)return;let e,i,w;a.addEventListener("touchstart",A=>{const L=A.touches[0];e=L.clientX,i=L.clientY,w=Date.now(),j.value={x:e,y:i}}),a.addEventListener("touchend",A=>{if(!A.changedTouches[0])return;const L=A.changedTouches[0],ve=L.clientX,ye=L.clientY,K=Date.now(),J=ve-e,le=ye-i,re=K-w;if(Math.abs(J)>se.value&&re<500&&(J>0?Qe():He()),Math.abs(le)>se.value&&re<500&&(le>0?Ge():je()),re<de.value&&Math.abs(J)<20&&Math.abs(le)<20){const N=Date.now();N-y.value<de.value&&Xe(),y.value=N}}),o.add({severity:"info",summary:"Touch Gestures Active",detail:"Swipe left/right for payment methods, up/down for quick actions, double-tap for shortcuts",life:4e3})},Qe=()=>{const a=["cash","card","upi","credit"],i=(a.indexOf(s.paymentMethod)+1)%a.length;setPaymentMethod(a[i]),o.add({severity:"info",summary:"Payment Method Changed",detail:`Switched to ${a[i].toUpperCase()}`,life:1500})},He=()=>{const a=["cash","card","upi","credit"],e=a.indexOf(s.paymentMethod),i=e===0?a.length-1:e-1;setPaymentMethod(a[i]),o.add({severity:"info",summary:"Payment Method Changed",detail:`Switched to ${a[i].toUpperCase()}`,life:1500})},Ge=()=>{v.value=!0,o.add({severity:"info",summary:"Quick Actions",detail:"Quick actions panel opened",life:1e3})},je=()=>{v.value=!1,o.add({severity:"info",summary:"Quick Actions",detail:"Quick actions panel closed",life:1e3})},Xe=()=>{s.cartItems.length>0?Y():focusProductSearch(),o.add({severity:"info",summary:"Double Tap Action",detail:s.cartItems.length>0?"Completing sale...":"Focus on product search",life:1500})};return(a,e)=>{const i=Ye,w=Ze,A=Je,L=We,ve=et,ye=tt,K=at,J=st,le=ot,re=nt,N=mt("tooltip");return S(),b("div",bt,[t("header",wt,[e[25]||(e[25]=t("div",{class:"header-brand"},[t("div",{class:"brand-logo"},[t("i",{class:"pi pi-shopping-cart"})]),t("div",{class:"brand-info"},[t("h1",null,"PharmaPOS"),t("span",null,"Point of Sale")])],-1)),t("div",_t,[t("div",kt,[e[21]||(e[21]=t("span",{class:"label"},"Invoice",-1)),t("span",Pt,p(F.value),1)]),t("div",At,[e[22]||(e[22]=t("span",{class:"label"},"Date",-1)),t("span",It,p(O.value),1)]),t("div",Tt,[e[23]||(e[23]=t("span",{class:"label"},"Time",-1)),t("span",Dt,p(E.value),1)])]),t("div",Rt,[t("div",xt,[e[24]||(e[24]=t("span",{class:"total-label"},"Total",-1)),t("span",$t,"‚Çπ"+p(f(u(s).cartTotal)),1),t("span",Et,p(u(s).cartItemCount)+" items",1)])]),t("div",Mt,[Q(d(i,{icon:"pi pi-cog",text:"",rounded:"",onClick:be},null,512),[[N,"Settings"]]),Q(d(i,{icon:"pi pi-question-circle",text:"",rounded:"",onClick:Ve},null,512),[[N,"Help"]]),Q(d(i,{icon:"pi pi-sign-out",text:"",rounded:"",severity:"danger",onClick:qe},null,512),[[N,"Logout"]])])]),t("main",Nt,[t("section",Ft,[t("div",Ot,[t("div",Vt,[e[26]||(e[26]=t("div",{class:"header-icon"},[t("i",{class:"pi pi-users"})],-1)),e[27]||(e[27]=t("div",{class:"header-title"},[t("h3",null,"Customer"),t("p",null,"Select or add customer")],-1)),Q(d(i,{icon:"pi pi-plus",size:"small",rounded:"",outlined:"",onClick:e[0]||(e[0]=n=>he.value=!0)},null,512),[[N,"Add Customer"]])]),t("div",qt,[d(w,{modelValue:u(s).selectedCustomer,"onUpdate:modelValue":e[1]||(e[1]=n=>u(s).selectedCustomer=n),suggestions:ne.value,onComplete:m,"option-label":"name",placeholder:"Search customer by name, phone...",class:"w-full",loading:ie.value},{item:k(n=>[t("div",Lt,[e[29]||(e[29]=t("div",{class:"customer-avatar"},[t("i",{class:"pi pi-user"})],-1)),t("div",Ut,[t("div",zt,p(n.item.name),1),t("div",Bt,[t("span",null,p(n.item.phone),1),n.item.loyaltyPoints?(S(),b("span",Kt,p(n.item.loyaltyPoints)+" pts ",1)):I("",!0)])]),n.item.loyaltyCard?(S(),b("div",Qt,e[28]||(e[28]=[t("i",{class:"pi pi-star-fill"},null,-1)]))):I("",!0)])]),_:1},8,["modelValue","suggestions","loading"])]),u(s).selectedCustomer?(S(),b("div",Ht,[t("div",Gt,[e[30]||(e[30]=t("div",{class:"customer-avatar"},[t("i",{class:"pi pi-user"})],-1)),t("div",jt,[t("h4",null,p(u(s).selectedCustomer.name),1),t("p",null,p(u(s).selectedCustomer.phone),1)]),Q(d(i,{icon:"pi pi-times",text:"",rounded:"",size:"small",onClick:e[2]||(e[2]=n=>u(s).setCustomer(null))},null,512),[[N,"Remove Customer"]])]),u(s).selectedCustomer.loyaltyPoints||u(s).selectedCustomer.outstanding?(S(),b("div",Xt,[u(s).selectedCustomer.loyaltyPoints?(S(),b("div",Yt,[e[31]||(e[31]=t("i",{class:"pi pi-star-fill text-yellow-500"},null,-1)),t("span",null,p(u(s).selectedCustomer.loyaltyPoints)+" points",1),u(s).selectedCustomer.loyaltyPoints>=100?(S(),ut(i,{key:0,label:"Redeem",size:"small",text:"",onClick:Me})):I("",!0)])):I("",!0),u(s).selectedCustomer.outstanding?(S(),b("div",Zt,[e[32]||(e[32]=t("i",{class:"pi pi-exclamation-triangle text-red-500"},null,-1)),t("span",null,"‚Çπ"+p(f(u(s).selectedCustomer.outstanding))+" outstanding",1)])):I("",!0)])):I("",!0)])):I("",!0)]),t("div",Jt,[e[45]||(e[45]=t("div",{class:"card-header"},[t("div",{class:"header-icon"},[t("i",{class:"pi pi-search"})]),t("div",{class:"header-title"},[t("h3",null,"Product Search"),t("p",null,"Find medicines & products")])],-1)),t("div",Wt,[d(ye,{class:"search-tabs"},{default:k(()=>[d(A,null,{header:k(()=>e[33]||(e[33]=[t("div",{class:"tab-header"},[t("i",{class:"pi pi-box"}),t("span",null,"Products")],-1)])),default:k(()=>[t("div",ea,[t("div",ta,[d(w,{modelValue:oe.value,"onUpdate:modelValue":e[3]||(e[3]=n=>oe.value=n),suggestions:W.value,onComplete:l,"option-label":"name",placeholder:"Search medicines, generics, brands...",class:"flex-1",loading:ee.value,onItemSelect:g},{item:k(n=>[t("div",aa,[e[34]||(e[34]=t("div",{class:"product-icon"},[t("i",{class:"pi pi-box"})],-1)),t("div",sa,[t("div",oa,p(n.item.name),1),t("div",na,[t("span",ia,p(n.item.sku),1),t("span",la,p(n.item.manufacturer),1)]),t("div",ra,[t("span",{class:te(["stock",{"low-stock":n.item.currentStock<10}])}," Stock: "+p(n.item.currentStock),3),t("span",ca,"‚Çπ"+p(f(n.item.sellingPrice)),1),n.item.expiryDate?(S(),b("span",da," Exp: "+p(ge(n.item.expiryDate)),1)):I("",!0)])]),d(i,{icon:"pi pi-plus",size:"small",rounded:"",onClick:Pe(T=>C(n.item),["stop"])},null,8,["onClick"])])]),_:1},8,["modelValue","suggestions","loading"]),e[35]||(e[35]=pt(' icon="pi pi-search" @click="performProductSearch" /> '))])])]),_:1}),d(A,null,{header:k(()=>e[36]||(e[36]=[t("div",{class:"tab-header"},[t("i",{class:"pi pi-qrcode"}),t("span",null,"Barcode")],-1)])),default:k(()=>[t("div",ua,[t("div",ma,[d(L,{modelValue:U.value,"onUpdate:modelValue":e[4]||(e[4]=n=>U.value=n),placeholder:"Scan or enter barcode...",class:"flex-1",onKeyup:vt(D,["enter"]),ref_key:"barcodeInputRef",ref:z},null,8,["modelValue"]),Q(d(i,{icon:"pi pi-camera",onClick:Re},null,512),[[N,"Start Camera Scanner"]])]),X.value?(S(),b("div",pa,[e[37]||(e[37]=t("div",{class:"scanner-animation"},[t("div",{class:"scanner-line"})],-1)),e[38]||(e[38]=t("p",null,"Point camera at barcode...",-1)),d(i,{label:"Stop Scanner",severity:"secondary",onClick:xe})])):I("",!0)])]),_:1}),d(A,null,{header:k(()=>e[39]||(e[39]=[t("div",{class:"tab-header"},[t("i",{class:"pi pi-file-pdf"}),t("span",null,"Prescription")],-1)])),default:k(()=>[t("div",va,[t("div",{class:"upload-area",onDrop:$e,onDragover:e[5]||(e[5]=Pe(()=>{},["prevent"]))},[e[40]||(e[40]=t("i",{class:"pi pi-cloud-upload"},null,-1)),e[41]||(e[41]=t("h4",null,"Upload Prescription",-1)),e[42]||(e[42]=t("p",null,"Drag & drop or click to upload",-1)),d(ve,{mode:"basic",accept:"image/*,.pdf",maxFileSize:5e6,onUpload:Ce,"choose-label":"Choose File",class:"prescription-uploader"})],32),ue.value.length?(S(),b("div",ya,[e[44]||(e[44]=t("h5",null,"Uploaded Prescriptions",-1)),(S(!0),b(_e,null,ke(ue.value,n=>(S(),b("div",{class:"prescription-item",key:n.id},[e[43]||(e[43]=t("i",{class:"pi pi-file-pdf"},null,-1)),t("span",null,p(n.name),1),d(i,{icon:"pi pi-eye",text:"",size:"small",onClick:T=>Ee(n)},null,8,["onClick"])]))),128))])):I("",!0)])]),_:1})]),_:1})])]),t("div",ha,[t("div",fa,[e[47]||(e[47]=t("div",{class:"header-icon"},[t("i",{class:"pi pi-shopping-cart"})],-1)),t("div",ga,[e[46]||(e[46]=t("h3",null,"Shopping Cart",-1)),t("p",null,p(u(s).cartItemCount)+" items ‚Ä¢ ‚Çπ"+p(f(u(s).cartTotal)),1)]),Q(d(i,{icon:"pi pi-trash",size:"small",severity:"danger",text:"",onClick:me,disabled:u(s).cartItems.length===0},null,8,["disabled"]),[[N,"Clear Cart"]])]),t("div",Sa,[d(re,{value:u(s).cartItems,scrollable:!0,"scroll-height":"400px","striped-rows":"",class:"cart-table","empty-message":"Cart is empty. Add products to get started."},{default:k(()=>[d(K,{field:"productName",header:"Product",style:{"min-width":"200px"}},{body:k(({data:n})=>[t("div",Ca,[t("div",ba,p(n.productName),1),t("div",wa,p(n.productCode),1),n.manufacturer?(S(),b("div",_a,p(n.manufacturer),1)):I("",!0)])]),_:1}),d(K,{field:"quantity",header:"Qty",style:{width:"100px"}},{body:k(({data:n})=>[t("div",ka,[d(i,{icon:"pi pi-minus",size:"small",text:"",onClick:T=>u(s).updateCartItemQuantity(n.tempId,n.quantity-1),disabled:n.quantity<=1},null,8,["onClick","disabled"]),d(J,{modelValue:n.quantity,"onUpdate:modelValue":T=>n.quantity=T,min:1,size:"small",onInput:T=>u(s).updateCartItemQuantity(n.tempId,n.quantity),class:"qty-input"},null,8,["modelValue","onUpdate:modelValue","onInput"]),d(i,{icon:"pi pi-plus",size:"small",text:"",onClick:T=>u(s).updateCartItemQuantity(n.tempId,n.quantity+1)},null,8,["onClick"])])]),_:1}),d(K,{field:"unitPrice",header:"Price",style:{width:"100px"}},{body:k(({data:n})=>[t("div",Pa," ‚Çπ"+p(f(n.unitPrice)),1)]),_:1}),d(K,{field:"discountValue",header:"Discount",style:{width:"120px"}},{body:k(({data:n})=>[t("div",Aa,[d(le,{modelValue:n.discountType,"onUpdate:modelValue":T=>n.discountType=T,"option-label":"label","option-value":"value",class:"discount-type",onChange:T=>u(s).updateCartItemDiscount(n.tempId,n.discountType,n.discountValue)},null,8,["modelValue","onUpdate:modelValue","onChange"]),d(J,{modelValue:n.discountValue,"onUpdate:modelValue":T=>n.discountValue=T,min:0,size:"small",onInput:T=>u(s).updateCartItemDiscount(n.tempId,n.discountType,n.discountValue),class:"discount-input"},null,8,["modelValue","onUpdate:modelValue","onInput"])])]),_:1}),d(K,{field:"totalAmount",header:"Total",style:{width:"120px"}},{body:k(({data:n})=>[t("div",Ia,[t("strong",null,"‚Çπ"+p(f(n.totalAmount)),1),n.taxAmount>0?(S(),b("small",Ta,"+‚Çπ"+p(f(n.taxAmount))+" tax",1)):I("",!0)])]),_:1}),d(K,{style:{width:"80px"}},{body:k(({data:n})=>[Q(d(i,{icon:"pi pi-trash",size:"small",text:"",severity:"danger",onClick:T=>u(s).removeFromCart(n.tempId)},null,8,["onClick"]),[[N,"Remove Item"]])]),_:1})]),_:1},8,["value"])])])]),t("section",Da,[t("div",Ra,[e[50]||(e[50]=t("div",{class:"card-header"},[t("div",{class:"header-icon"},[t("i",{class:"pi pi-credit-card"})]),t("div",{class:"header-title"},[t("h3",null,"Payment"),t("p",null,"Select payment method")])],-1)),t("div",xa,[t("div",$a,[d(i,{label:"Cash",icon:"pi pi-money-bill",class:te(["payment-method",{active:u(s).paymentMethod==="cash"}]),onClick:e[6]||(e[6]=n=>u(s).setPaymentMethod("cash"))},null,8,["class"]),d(i,{label:"Card",icon:"pi pi-credit-card",class:te(["payment-method",{active:u(s).paymentMethod==="credit_card"}]),onClick:e[7]||(e[7]=n=>u(s).setPaymentMethod("credit_card"))},null,8,["class"]),d(i,{label:"UPI",icon:"pi pi-mobile",class:te(["payment-method",{active:u(s).paymentMethod==="upi"}]),onClick:e[8]||(e[8]=n=>u(s).setPaymentMethod("upi"))},null,8,["class"]),d(i,{label:"Credit",icon:"pi pi-user",class:te(["payment-method",{active:u(s).paymentMethod==="credit_customer"}]),onClick:e[9]||(e[9]=n=>u(s).setPaymentMethod("credit_customer"))},null,8,["class"])]),u(s).paymentMethod==="cash"?(S(),b("div",Ea,[t("div",Ma,[e[48]||(e[48]=t("label",null,"Cash Received",-1)),d(J,{modelValue:u(s).cashReceived,"onUpdate:modelValue":e[10]||(e[10]=n=>u(s).cashReceived=n),mode:"currency",currency:"INR",class:"w-full"},null,8,["modelValue"])]),u(s).cashReceived>0?(S(),b("div",Na,[e[49]||(e[49]=t("span",{class:"change-label"},"Change",-1)),t("span",{class:te(["change-amount",{negative:u(s).changeAmount<0}])}," ‚Çπ"+p(f(Math.abs(u(s).changeAmount))),3)])):I("",!0)])):I("",!0)])]),t("div",Fa,[e[53]||(e[53]=t("div",{class:"card-header"},[t("div",{class:"header-icon"},[t("i",{class:"pi pi-calculator"})]),t("div",{class:"header-title"},[t("h3",null,"Actions"),t("p",null,"Quick actions & keypad")])],-1)),t("div",Oa,[t("div",Va,[d(i,{label:"Complete Sale",icon:"pi pi-check",class:"action-btn sale-btn",severity:"success",onClick:Y,disabled:u(s).cartItems.length===0},null,8,["disabled"]),d(i,{label:"Hold Bill",icon:"pi pi-pause",class:"action-btn",severity:"warning",onClick:Oe,disabled:u(s).cartItems.length===0},null,8,["disabled"]),d(i,{label:"Clear Cart",icon:"pi pi-trash",class:"action-btn",severity:"danger",onClick:me,disabled:u(s).cartItems.length===0},null,8,["disabled"])]),u(s).paymentMethod==="cash"?(S(),b("div",qa,[e[51]||(e[51]=t("h5",null,"Quick Cash Amounts",-1)),t("div",La,[(S(),b(_e,null,ke([100,200,500,1e3,2e3],n=>d(i,{key:n,label:`‚Çπ${n}`,size:"small",outlined:"",onClick:T=>Z(n),class:"quick-amount-btn"},null,8,["label","onClick"])),64)),d(i,{label:"Exact",size:"small",severity:"success",outlined:"",onClick:pe,class:"quick-amount-btn"})])])):I("",!0),t("div",Ua,[e[52]||(e[52]=t("span",{class:"amount-label"},"Quick Amount",-1)),t("span",za,"‚Çπ"+p(f(M.value)),1)]),t("div",Ba,[t("div",Ka,[d(i,{label:"1",class:"keypad-btn number-btn",onClick:e[11]||(e[11]=n=>q(1))}),d(i,{label:"2",class:"keypad-btn number-btn",onClick:e[12]||(e[12]=n=>q(2))}),d(i,{label:"3",class:"keypad-btn number-btn",onClick:e[13]||(e[13]=n=>q(3))}),d(i,{label:"4",class:"keypad-btn number-btn",onClick:e[14]||(e[14]=n=>q(4))}),d(i,{label:"5",class:"keypad-btn number-btn",onClick:e[15]||(e[15]=n=>q(5))}),d(i,{label:"6",class:"keypad-btn number-btn",onClick:e[16]||(e[16]=n=>q(6))}),d(i,{label:"7",class:"keypad-btn number-btn",onClick:e[17]||(e[17]=n=>q(7))}),d(i,{label:"8",class:"keypad-btn number-btn",onClick:e[18]||(e[18]=n=>q(8))}),d(i,{label:"9",class:"keypad-btn number-btn",onClick:e[19]||(e[19]=n=>q(9))}),d(i,{label:".",class:"keypad-btn decimal-btn",onClick:Ne}),d(i,{label:"0",class:"keypad-btn number-btn",onClick:e[20]||(e[20]=n=>q(0))}),d(i,{label:"C",class:"keypad-btn clear-btn",severity:"danger",onClick:Fe})])])])])])]),t("footer",Qa,[t("div",Ha,[t("div",Ga,[e[54]||(e[54]=t("span",{class:"label"},"Items",-1)),t("span",ja,p(u(s).cartItems.length),1)]),t("div",Xa,[e[55]||(e[55]=t("span",{class:"label"},"Qty",-1)),t("span",Ya,p(u(s).cartItemCount),1)]),t("div",Za,[e[56]||(e[56]=t("span",{class:"label"},"Subtotal",-1)),t("span",Ja,"‚Çπ"+p(f(u(s).cartSubtotal)),1)]),t("div",Wa,[e[57]||(e[57]=t("span",{class:"label"},"Discount",-1)),t("span",es,"‚Çπ"+p(f(u(s).cartTotalDiscount)),1)]),t("div",ts,[e[58]||(e[58]=t("span",{class:"label"},"Tax",-1)),t("span",as,"‚Çπ"+p(f(u(s).cartTotalTax)),1)]),t("div",ss,[e[59]||(e[59]=t("span",{class:"label"},"Total",-1)),t("span",os,"‚Çπ"+p(f(u(s).cartTotal)),1)])])])])}}},Hs=ft(ns,[["__scopeId","data-v-440cd1c7"]]);export{Hs as default};
